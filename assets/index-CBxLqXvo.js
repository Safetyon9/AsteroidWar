const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-Cz054Jm5.js","assets/webworkerAll-DmASnYfO.js","assets/colorToUniform-DmtBy-2V.js","assets/WebGPURenderer-IsTvm9fK.js","assets/SharedSystems-CqRTsvHG.js","assets/WebGLRenderer-DC-vSlYb.js"])))=>i.map(i=>d[i]);
var w_=Object.defineProperty;var M_=(a,t,n)=>t in a?w_(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n;var ti=(a,t,n)=>M_(a,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ih(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var tc={exports:{}},Da={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function C_(){if(hm)return Da;hm=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:a,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Da.Fragment=t,Da.jsx=n,Da.jsxs=n,Da}var fm;function E_(){return fm||(fm=1,tc.exports=C_()),tc.exports}var on=E_(),ec={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function R_(){if(dm)return pt;dm=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,M={};function A(C,X,W){this.props=C,this.context=X,this.refs=M,this.updater=W||_}A.prototype.isReactComponent={},A.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},A.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function R(){}R.prototype=A.prototype;function O(C,X,W){this.props=C,this.context=X,this.refs=M,this.updater=W||_}var U=O.prototype=new R;U.constructor=O,S(U,A.prototype),U.isPureReactComponent=!0;var H=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function Z(C,X,W,K,nt,dt){return W=dt.ref,{$$typeof:a,type:C,key:X,ref:W!==void 0?W:null,props:dt}}function rt(C,X){return Z(C.type,X,void 0,void 0,void 0,C.props)}function B(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function P(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(W){return X[W]})}var D=/\/+/g;function Q(C,X){return typeof C=="object"&&C!==null&&C.key!=null?P(""+C.key):X.toString(36)}function $(){}function at(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then($,$):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function et(C,X,W,K,nt){var dt=typeof C;(dt==="undefined"||dt==="boolean")&&(C=null);var st=!1;if(C===null)st=!0;else switch(dt){case"bigint":case"string":case"number":st=!0;break;case"object":switch(C.$$typeof){case a:case t:st=!0;break;case g:return st=C._init,et(st(C._payload),X,W,K,nt)}}if(st)return nt=nt(C),st=K===""?"."+Q(C,0):K,H(nt)?(W="",st!=null&&(W=st.replace(D,"$&/")+"/"),et(nt,X,W,"",function(Ae){return Ae})):nt!=null&&(B(nt)&&(nt=rt(nt,W+(nt.key==null||C&&C.key===nt.key?"":(""+nt.key).replace(D,"$&/")+"/")+st)),X.push(nt)),1;st=0;var Zt=K===""?".":K+":";if(H(C))for(var Mt=0;Mt<C.length;Mt++)K=C[Mt],dt=Zt+Q(K,Mt),st+=et(K,X,W,dt,nt);else if(Mt=b(C),typeof Mt=="function")for(C=Mt.call(C),Mt=0;!(K=C.next()).done;)K=K.value,dt=Zt+Q(K,Mt++),st+=et(K,X,W,dt,nt);else if(dt==="object"){if(typeof C.then=="function")return et(at(C),X,W,K,nt);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return st}function T(C,X,W){if(C==null)return C;var K=[],nt=0;return et(C,K,"","",function(dt){return X.call(W,dt,nt++)}),K}function Y(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(W){(C._status===0||C._status===-1)&&(C._status=1,C._result=W)},function(W){(C._status===0||C._status===-1)&&(C._status=2,C._result=W)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var J=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function tt(){}return pt.Children={map:T,forEach:function(C,X,W){T(C,function(){X.apply(this,arguments)},W)},count:function(C){var X=0;return T(C,function(){X++}),X},toArray:function(C){return T(C,function(X){return X})||[]},only:function(C){if(!B(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},pt.Component=A,pt.Fragment=n,pt.Profiler=o,pt.PureComponent=O,pt.StrictMode=r,pt.Suspense=p,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,pt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return j.H.useMemoCache(C)}},pt.cache=function(C){return function(){return C.apply(null,arguments)}},pt.cloneElement=function(C,X,W){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var K=S({},C.props),nt=C.key,dt=void 0;if(X!=null)for(st in X.ref!==void 0&&(dt=void 0),X.key!==void 0&&(nt=""+X.key),X)!I.call(X,st)||st==="key"||st==="__self"||st==="__source"||st==="ref"&&X.ref===void 0||(K[st]=X[st]);var st=arguments.length-2;if(st===1)K.children=W;else if(1<st){for(var Zt=Array(st),Mt=0;Mt<st;Mt++)Zt[Mt]=arguments[Mt+2];K.children=Zt}return Z(C.type,nt,void 0,void 0,dt,K)},pt.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},pt.createElement=function(C,X,W){var K,nt={},dt=null;if(X!=null)for(K in X.key!==void 0&&(dt=""+X.key),X)I.call(X,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(nt[K]=X[K]);var st=arguments.length-2;if(st===1)nt.children=W;else if(1<st){for(var Zt=Array(st),Mt=0;Mt<st;Mt++)Zt[Mt]=arguments[Mt+2];nt.children=Zt}if(C&&C.defaultProps)for(K in st=C.defaultProps,st)nt[K]===void 0&&(nt[K]=st[K]);return Z(C,dt,void 0,void 0,null,nt)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(C){return{$$typeof:f,render:C}},pt.isValidElement=B,pt.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:Y}},pt.memo=function(C,X){return{$$typeof:m,type:C,compare:X===void 0?null:X}},pt.startTransition=function(C){var X=j.T,W={};j.T=W;try{var K=C(),nt=j.S;nt!==null&&nt(W,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(tt,J)}catch(dt){J(dt)}finally{j.T=X}},pt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},pt.use=function(C){return j.H.use(C)},pt.useActionState=function(C,X,W){return j.H.useActionState(C,X,W)},pt.useCallback=function(C,X){return j.H.useCallback(C,X)},pt.useContext=function(C){return j.H.useContext(C)},pt.useDebugValue=function(){},pt.useDeferredValue=function(C,X){return j.H.useDeferredValue(C,X)},pt.useEffect=function(C,X,W){var K=j.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(C,X)},pt.useId=function(){return j.H.useId()},pt.useImperativeHandle=function(C,X,W){return j.H.useImperativeHandle(C,X,W)},pt.useInsertionEffect=function(C,X){return j.H.useInsertionEffect(C,X)},pt.useLayoutEffect=function(C,X){return j.H.useLayoutEffect(C,X)},pt.useMemo=function(C,X){return j.H.useMemo(C,X)},pt.useOptimistic=function(C,X){return j.H.useOptimistic(C,X)},pt.useReducer=function(C,X,W){return j.H.useReducer(C,X,W)},pt.useRef=function(C){return j.H.useRef(C)},pt.useState=function(C){return j.H.useState(C)},pt.useSyncExternalStore=function(C,X,W){return j.H.useSyncExternalStore(C,X,W)},pt.useTransition=function(){return j.H.useTransition()},pt.version="19.1.0",pt}var pm;function nh(){return pm||(pm=1,ec.exports=R_()),ec.exports}var Uc=nh(),ic={exports:{}},Ua={},nc={exports:{}},sc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function B_(){return mm||(mm=1,function(a){function t(T,Y){var J=T.length;T.push(Y);t:for(;0<J;){var tt=J-1>>>1,C=T[tt];if(0<o(C,Y))T[tt]=Y,T[J]=C,J=tt;else break t}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var Y=T[0],J=T.pop();if(J!==Y){T[0]=J;t:for(var tt=0,C=T.length,X=C>>>1;tt<X;){var W=2*(tt+1)-1,K=T[W],nt=W+1,dt=T[nt];if(0>o(K,J))nt<C&&0>o(dt,K)?(T[tt]=dt,T[nt]=J,tt=nt):(T[tt]=K,T[W]=J,tt=W);else if(nt<C&&0>o(dt,J))T[tt]=dt,T[nt]=J,tt=nt;else break t}}return Y}function o(T,Y){var J=T.sortIndex-Y.sortIndex;return J!==0?J:T.id-Y.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();a.unstable_now=function(){return h.now()-f}}var p=[],m=[],g=1,y=null,b=3,_=!1,S=!1,M=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function H(T){for(var Y=n(m);Y!==null;){if(Y.callback===null)r(m);else if(Y.startTime<=T)r(m),Y.sortIndex=Y.expirationTime,t(p,Y);else break;Y=n(m)}}function j(T){if(M=!1,H(T),!S)if(n(p)!==null)S=!0,I||(I=!0,Q());else{var Y=n(m);Y!==null&&et(j,Y.startTime-T)}}var I=!1,Z=-1,rt=5,B=-1;function P(){return A?!0:!(a.unstable_now()-B<rt)}function D(){if(A=!1,I){var T=a.unstable_now();B=T;var Y=!0;try{t:{S=!1,M&&(M=!1,O(Z),Z=-1),_=!0;var J=b;try{e:{for(H(T),y=n(p);y!==null&&!(y.expirationTime>T&&P());){var tt=y.callback;if(typeof tt=="function"){y.callback=null,b=y.priorityLevel;var C=tt(y.expirationTime<=T);if(T=a.unstable_now(),typeof C=="function"){y.callback=C,H(T),Y=!0;break e}y===n(p)&&r(p),H(T)}else r(p);y=n(p)}if(y!==null)Y=!0;else{var X=n(m);X!==null&&et(j,X.startTime-T),Y=!1}}break t}finally{y=null,b=J,_=!1}Y=void 0}}finally{Y?Q():I=!1}}}var Q;if(typeof U=="function")Q=function(){U(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,at=$.port2;$.port1.onmessage=D,Q=function(){at.postMessage(null)}}else Q=function(){R(D,0)};function et(T,Y){Z=R(function(){T(a.unstable_now())},Y)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(T){T.callback=null},a.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rt=0<T?Math.floor(1e3/T):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(T){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var J=b;b=Y;try{return T()}finally{b=J}},a.unstable_requestPaint=function(){A=!0},a.unstable_runWithPriority=function(T,Y){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var J=b;b=T;try{return Y()}finally{b=J}},a.unstable_scheduleCallback=function(T,Y,J){var tt=a.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?tt+J:tt):J=tt,T){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=J+C,T={id:g++,callback:Y,priorityLevel:T,startTime:J,expirationTime:C,sortIndex:-1},J>tt?(T.sortIndex=J,t(m,T),n(p)===null&&T===n(m)&&(M?(O(Z),Z=-1):M=!0,et(j,J-tt))):(T.sortIndex=C,t(p,T),S||_||(S=!0,I||(I=!0,Q()))),T},a.unstable_shouldYield=P,a.unstable_wrapCallback=function(T){var Y=b;return function(){var J=b;b=Y;try{return T.apply(this,arguments)}finally{b=J}}}}(sc)),sc}var gm;function z_(){return gm||(gm=1,nc.exports=B_()),nc.exports}var ac={exports:{}},de={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function O_(){if(ym)return de;ym=1;var a=nh();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:p,containerInfo:m,implementation:g}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return de.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,de.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(p,m,null,g)},de.flushSync=function(p){var m=h.T,g=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=m,r.p=g,r.d.f()}},de.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},de.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},de.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,y=f(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):g==="script"&&r.d.X(p,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},de.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},de.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=f(g,m.crossOrigin);r.d.L(p,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},de.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},de.requestFormReset=function(p){r.d.r(p)},de.unstable_batchedUpdates=function(p,m){return p(m)},de.useFormState=function(p,m,g){return h.H.useFormState(p,m,g)},de.useFormStatus=function(){return h.H.useHostTransitionStatus()},de.version="19.1.0",de}var xm;function D_(){if(xm)return ac.exports;xm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ac.exports=O_(),ac.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function U_(){if(_m)return Ua;_m=1;var a=z_(),t=nh(),n=D_();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var s=e,l=i;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return f(c),e;if(d===l)return f(c),i;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=d;else{for(var x=!1,v=c.child;v;){if(v===s){x=!0,s=c,l=d;break}if(v===l){x=!0,l=c,s=d;break}v=v.sibling}if(!x){for(v=d.child;v;){if(v===s){x=!0,s=d,l=c;break}if(v===l){x=!0,l=d,s=c;break}v=v.sibling}if(!x)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:i}function m(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=m(e),i!==null)return i;e=e.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),U=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var $=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===$?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case A:return"Profiler";case M:return"StrictMode";case j:return"Suspense";case I:return"SuspenseList";case B:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case U:return(e.displayName||"Context")+".Provider";case O:return(e._context.displayName||"Context")+".Consumer";case H:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return i=e.displayName||null,i!==null?i:at(e.type)||"Memo";case rt:i=e._payload,e=e._init;try{return at(e(i))}catch{}}return null}var et=Array.isArray,T=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},tt=[],C=-1;function X(e){return{current:e}}function W(e){0>C||(e.current=tt[C],tt[C]=null,C--)}function K(e,i){C++,tt[C]=e.current,e.current=i}var nt=X(null),dt=X(null),st=X(null),Zt=X(null);function Mt(e,i){switch(K(st,i),K(dt,e),K(nt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Lp(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Lp(i),e=Pp(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(nt),K(nt,e)}function Ae(){W(nt),W(dt),W(st)}function Gi(e){e.memoizedState!==null&&K(Zt,e);var i=nt.current,s=Pp(i,e.type);i!==s&&(K(dt,e),K(nt,s))}function Ni(e){dt.current===e&&(W(nt),W(dt)),Zt.current===e&&(W(Zt),Ea._currentValue=J)}var Ze=Object.prototype.hasOwnProperty,Qe=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,pi=a.unstable_shouldYield,Ll=a.unstable_requestPaint,Te=a.unstable_now,Pl=a.unstable_getCurrentPriorityLevel,Yl=a.unstable_ImmediatePriority,_h=a.unstable_UserBlockingPriority,$a=a.unstable_NormalPriority,r0=a.unstable_LowPriority,bh=a.unstable_IdlePriority,l0=a.log,o0=a.unstable_setDisableYieldValue,Ns=null,we=null;function Hi(e){if(typeof l0=="function"&&o0(e),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(Ns,e)}catch{}}var Me=Math.clz32?Math.clz32:h0,u0=Math.log,c0=Math.LN2;function h0(e){return e>>>=0,e===0?32:31-(u0(e)/c0|0)|0}var Ja=256,tr=4194304;function fn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function er(e,i,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~d,l!==0?c=fn(l):(x&=v,x!==0?c=fn(x):s||(s=v&~e,s!==0&&(c=fn(s))))):(v=l&~d,v!==0?c=fn(v):x!==0?c=fn(x):s||(s=l&~e,s!==0&&(c=fn(s)))),c===0?0:i!==0&&i!==c&&(i&d)===0&&(d=c&-c,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:c}function Hs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function f0(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vh(){var e=Ja;return Ja<<=1,(Ja&4194048)===0&&(Ja=256),e}function Sh(){var e=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),e}function Vl(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function ks(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function d0(e,i,s,l,c,d){var x=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,N=e.hiddenUpdates;for(s=x&~s;0<s;){var V=31-Me(s),F=1<<V;v[V]=0,w[V]=-1;var k=N[V];if(k!==null)for(N[V]=null,V=0;V<k.length;V++){var L=k[V];L!==null&&(L.lane&=-536870913)}s&=~F}l!==0&&Ah(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(x&~i))}function Ah(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Me(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function Th(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var l=31-Me(s),c=1<<l;c&i|e[l]&i&&(e[l]|=i),s&=~c}}function Xl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ql(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wh(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:am(e.type))}function p0(e,i){var s=Y.p;try{return Y.p=e,i()}finally{Y.p=s}}var ki=Math.random().toString(36).slice(2),he="__reactFiber$"+ki,ye="__reactProps$"+ki,Ln="__reactContainer$"+ki,jl="__reactEvents$"+ki,m0="__reactListeners$"+ki,g0="__reactHandles$"+ki,Mh="__reactResources$"+ki,Ls="__reactMarker$"+ki;function Fl(e){delete e[he],delete e[ye],delete e[jl],delete e[m0],delete e[g0]}function Pn(e){var i=e[he];if(i)return i;for(var s=e.parentNode;s;){if(i=s[Ln]||s[he]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=qp(e);e!==null;){if(s=e[he])return s;e=qp(e)}return i}e=s,s=e.parentNode}return null}function Yn(e){if(e=e[he]||e[Ln]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Ps(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Vn(e){var i=e[Mh];return i||(i=e[Mh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ee(e){e[Ls]=!0}var Ch=new Set,Eh={};function dn(e,i){Xn(e,i),Xn(e+"Capture",i)}function Xn(e,i){for(Eh[e]=i,e=0;e<i.length;e++)Ch.add(i[e])}var y0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rh={},Bh={};function x0(e){return Ze.call(Bh,e)?!0:Ze.call(Rh,e)?!1:y0.test(e)?Bh[e]=!0:(Rh[e]=!0,!1)}function ir(e,i,s){if(x0(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function nr(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function mi(e,i,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+l)}}var Il,zh;function qn(e){if(Il===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Il=i&&i[1]||"",zh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Il+e+zh}var Zl=!1;function Ql(e,i){if(!e||Zl)return"";Zl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(L){var k=L}Reflect.construct(e,[],F)}else{try{F.call()}catch(L){k=L}e.call(F.prototype)}}else{try{throw Error()}catch(L){k=L}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(L){if(L&&k&&typeof L.stack=="string")return[L.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),x=d[0],v=d[1];if(x&&v){var w=x.split(`
`),N=v.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===N.length)for(l=w.length-1,c=N.length-1;1<=l&&0<=c&&w[l]!==N[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==N[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==N[c]){var V=`
`+w[l].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=l&&0<=c);break}}}finally{Zl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?qn(s):""}function _0(e){switch(e.tag){case 26:case 27:case 5:return qn(e.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return Ql(e.type,!1);case 11:return Ql(e.type.render,!1);case 1:return Ql(e.type,!0);case 31:return qn("Activity");default:return""}}function Oh(e){try{var i="";do i+=_0(e),e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dh(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function b0(e){var i=Dh(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return c.call(this)},set:function(x){l=""+x,d.call(this,x)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function sr(e){e._valueTracker||(e._valueTracker=b0(e))}function Uh(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return e&&(l=Dh(e)?e.checked?"true":"false":e.value),e=l,e!==s?(i.setValue(e),!0):!1}function ar(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var v0=/[\n"\\]/g;function ke(e){return e.replace(v0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Kl(e,i,s,l,c,d,x,v){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),i!=null?x==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+He(i)):e.value!==""+He(i)&&(e.value=""+He(i)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),i!=null?Wl(e,x,He(i)):s!=null?Wl(e,x,He(s)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+He(v):e.removeAttribute("name")}function Gh(e,i,s,l,c,d,x,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+He(s):"",i=i!=null?""+He(i):s,v||i===e.value||(e.value=i),e.defaultValue=i}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x)}function Wl(e,i,s){i==="number"&&ar(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function jn(e,i,s,l){if(e=e.options,i){i={};for(var c=0;c<s.length;c++)i["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=i.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+He(s),i=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}i!==null||e[c].disabled||(i=e[c])}i!==null&&(i.selected=!0)}}function Nh(e,i,s){if(i!=null&&(i=""+He(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+He(s):""}function Hh(e,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(r(92));if(et(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=He(i),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function Fn(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var S0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kh(e,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,s):typeof s!="number"||s===0||S0.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function Lh(e,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in i)l=i[c],i.hasOwnProperty(c)&&s[c]!==l&&kh(e,c,l)}else for(var d in i)i.hasOwnProperty(d)&&kh(e,d,i[d])}function $l(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),T0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(e){return T0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Jl=null;function to(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var In=null,Zn=null;function Ph(e){var i=Yn(e);if(i&&(e=i.stateNode)){var s=e[ye]||null;t:switch(e=i.stateNode,i.type){case"input":if(Kl(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ke(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==e&&l.form===e.form){var c=l[ye]||null;if(!c)throw Error(r(90));Kl(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===e.form&&Uh(l)}break t;case"textarea":Nh(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&jn(e,!!s.multiple,i,!1)}}}var eo=!1;function Yh(e,i,s){if(eo)return e(i,s);eo=!0;try{var l=e(i);return l}finally{if(eo=!1,(In!==null||Zn!==null)&&(jr(),In&&(i=In,e=Zn,Zn=In=null,Ph(i),e)))for(i=0;i<e.length;i++)Ph(e[i])}}function Ys(e,i){var s=e.stateNode;if(s===null)return null;var l=s[ye]||null;if(l===null)return null;s=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=!1;if(gi)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){io=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{io=!1}var Li=null,no=null,lr=null;function Vh(){if(lr)return lr;var e,i=no,s=i.length,l,c="value"in Li?Li.value:Li.textContent,d=c.length;for(e=0;e<s&&i[e]===c[e];e++);var x=s-e;for(l=1;l<=x&&i[s-l]===c[d-l];l++);return lr=c.slice(e,1<l?1-l:void 0)}function or(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ur(){return!0}function Xh(){return!1}function xe(e){function i(s,l,c,d,x){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(s=e[v],this[v]=s?s(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ur:Xh,this.isPropagationStopped=Xh,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),i}var pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=xe(pn),Xs=g({},pn,{view:0,detail:0}),w0=xe(Xs),so,ao,qs,hr=g({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(so=e.screenX-qs.screenX,ao=e.screenY-qs.screenY):ao=so=0,qs=e),so)},movementY:function(e){return"movementY"in e?e.movementY:ao}}),qh=xe(hr),M0=g({},hr,{dataTransfer:0}),C0=xe(M0),E0=g({},Xs,{relatedTarget:0}),ro=xe(E0),R0=g({},pn,{animationName:0,elapsedTime:0,pseudoElement:0}),B0=xe(R0),z0=g({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O0=xe(z0),D0=g({},pn,{data:0}),jh=xe(D0),U0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H0(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=N0[e])?!!i[e]:!1}function lo(){return H0}var k0=g({},Xs,{key:function(e){if(e.key){var i=U0[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?G0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(e){return e.type==="keypress"?or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L0=xe(k0),P0=g({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=xe(P0),Y0=g({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),V0=xe(Y0),X0=g({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),q0=xe(X0),j0=g({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F0=xe(j0),I0=g({},pn,{newState:0,oldState:0}),Z0=xe(I0),Q0=[9,13,27,32],oo=gi&&"CompositionEvent"in window,js=null;gi&&"documentMode"in document&&(js=document.documentMode);var K0=gi&&"TextEvent"in window&&!js,Ih=gi&&(!oo||js&&8<js&&11>=js),Zh=" ",Qh=!1;function Kh(e,i){switch(e){case"keyup":return Q0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qn=!1;function W0(e,i){switch(e){case"compositionend":return Wh(i);case"keypress":return i.which!==32?null:(Qh=!0,Zh);case"textInput":return e=i.data,e===Zh&&Qh?null:e;default:return null}}function $0(e,i){if(Qn)return e==="compositionend"||!oo&&Kh(e,i)?(e=Vh(),lr=no=Li=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ih&&i.locale!=="ko"?null:i.data;default:return null}}var J0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $h(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!J0[e.type]:i==="textarea"}function Jh(e,i,s,l){In?Zn?Zn.push(l):Zn=[l]:In=l,i=Wr(i,"onChange"),0<i.length&&(s=new cr("onChange","change",null,s,l),e.push({event:s,listeners:i}))}var Fs=null,Is=null;function tx(e){Up(e,0)}function fr(e){var i=Ps(e);if(Uh(i))return e}function tf(e,i){if(e==="change")return i}var ef=!1;if(gi){var uo;if(gi){var co="oninput"in document;if(!co){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),co=typeof nf.oninput=="function"}uo=co}else uo=!1;ef=uo&&(!document.documentMode||9<document.documentMode)}function sf(){Fs&&(Fs.detachEvent("onpropertychange",af),Is=Fs=null)}function af(e){if(e.propertyName==="value"&&fr(Is)){var i=[];Jh(i,Is,e,to(e)),Yh(tx,i)}}function ex(e,i,s){e==="focusin"?(sf(),Fs=i,Is=s,Fs.attachEvent("onpropertychange",af)):e==="focusout"&&sf()}function ix(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fr(Is)}function nx(e,i){if(e==="click")return fr(i)}function sx(e,i){if(e==="input"||e==="change")return fr(i)}function ax(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Ce=typeof Object.is=="function"?Object.is:ax;function Zs(e,i){if(Ce(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Ze.call(i,c)||!Ce(e[c],i[c]))return!1}return!0}function rf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lf(e,i){var s=rf(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=i&&l>=i)return{node:s,offset:i-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=rf(s)}}function of(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?of(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function uf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ar(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=ar(e.document)}return i}function ho(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var rx=gi&&"documentMode"in document&&11>=document.documentMode,Kn=null,fo=null,Qs=null,po=!1;function cf(e,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;po||Kn==null||Kn!==ar(l)||(l=Kn,"selectionStart"in l&&ho(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qs&&Zs(Qs,l)||(Qs=l,l=Wr(fo,"onSelect"),0<l.length&&(i=new cr("onSelect","select",null,i,s),e.push({event:i,listeners:l}),i.target=Kn)))}function mn(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var Wn={animationend:mn("Animation","AnimationEnd"),animationiteration:mn("Animation","AnimationIteration"),animationstart:mn("Animation","AnimationStart"),transitionrun:mn("Transition","TransitionRun"),transitionstart:mn("Transition","TransitionStart"),transitioncancel:mn("Transition","TransitionCancel"),transitionend:mn("Transition","TransitionEnd")},mo={},hf={};gi&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function gn(e){if(mo[e])return mo[e];if(!Wn[e])return e;var i=Wn[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in hf)return mo[e]=i[s];return e}var ff=gn("animationend"),df=gn("animationiteration"),pf=gn("animationstart"),lx=gn("transitionrun"),ox=gn("transitionstart"),ux=gn("transitioncancel"),mf=gn("transitionend"),gf=new Map,go="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");go.push("scrollEnd");function We(e,i){gf.set(e,i),dn(i,[e])}var yf=new WeakMap;function Le(e,i){if(typeof e=="object"&&e!==null){var s=yf.get(e);return s!==void 0?s:(i={value:e,source:i,stack:Oh(i)},yf.set(e,i),i)}return{value:e,source:i,stack:Oh(i)}}var Pe=[],$n=0,yo=0;function dr(){for(var e=$n,i=yo=$n=0;i<e;){var s=Pe[i];Pe[i++]=null;var l=Pe[i];Pe[i++]=null;var c=Pe[i];Pe[i++]=null;var d=Pe[i];if(Pe[i++]=null,l!==null&&c!==null){var x=l.pending;x===null?c.next=c:(c.next=x.next,x.next=c),l.pending=c}d!==0&&xf(s,c,d)}}function pr(e,i,s,l){Pe[$n++]=e,Pe[$n++]=i,Pe[$n++]=s,Pe[$n++]=l,yo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function xo(e,i,s,l){return pr(e,i,s,l),mr(e)}function Jn(e,i){return pr(e,null,null,i),mr(e)}function xf(e,i,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&i!==null&&(c=31-Me(s),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[i]:l.push(i),i.lane=s|536870912),d):null}function mr(e){if(50<ba)throw ba=0,Tu=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ts={};function cx(e,i,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ee(e,i,s,l){return new cx(e,i,s,l)}function _o(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yi(e,i){var s=e.alternate;return s===null?(s=Ee(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function _f(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function gr(e,i,s,l,c,d){var x=0;if(l=e,typeof e=="function")_o(e)&&(x=1);else if(typeof e=="string")x=f_(e,s,nt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case B:return e=Ee(31,s,i,c),e.elementType=B,e.lanes=d,e;case S:return yn(s.children,c,d,i);case M:x=8,c|=24;break;case A:return e=Ee(12,s,i,c|2),e.elementType=A,e.lanes=d,e;case j:return e=Ee(13,s,i,c),e.elementType=j,e.lanes=d,e;case I:return e=Ee(19,s,i,c),e.elementType=I,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:case U:x=10;break t;case O:x=9;break t;case H:x=11;break t;case Z:x=14;break t;case rt:x=16,l=null;break t}x=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=Ee(x,s,i,c),i.elementType=e,i.type=l,i.lanes=d,i}function yn(e,i,s,l){return e=Ee(7,e,l,i),e.lanes=s,e}function bo(e,i,s){return e=Ee(6,e,null,i),e.lanes=s,e}function vo(e,i,s){return i=Ee(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var es=[],is=0,yr=null,xr=0,Ye=[],Ve=0,xn=null,xi=1,_i="";function _n(e,i){es[is++]=xr,es[is++]=yr,yr=e,xr=i}function bf(e,i,s){Ye[Ve++]=xi,Ye[Ve++]=_i,Ye[Ve++]=xn,xn=e;var l=xi;e=_i;var c=32-Me(l)-1;l&=~(1<<c),s+=1;var d=32-Me(i)+c;if(30<d){var x=c-c%5;d=(l&(1<<x)-1).toString(32),l>>=x,c-=x,xi=1<<32-Me(i)+c|s<<c|l,_i=d+e}else xi=1<<d|s<<c|l,_i=e}function So(e){e.return!==null&&(_n(e,1),bf(e,1,0))}function Ao(e){for(;e===yr;)yr=es[--is],es[is]=null,xr=es[--is],es[is]=null;for(;e===xn;)xn=Ye[--Ve],Ye[Ve]=null,_i=Ye[--Ve],Ye[Ve]=null,xi=Ye[--Ve],Ye[Ve]=null}var me=null,Lt=null,Tt=!1,bn=null,ri=!1,To=Error(r(519));function vn(e){var i=Error(r(418,""));throw $s(Le(i,e)),To}function vf(e){var i=e.stateNode,s=e.type,l=e.memoizedProps;switch(i[he]=e,i[ye]=l,s){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(s=0;s<Sa.length;s++)xt(Sa[s],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),Gh(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),sr(i);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),Hh(i,l.value,l.defaultValue,l.children),sr(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||kp(i.textContent,s)?(l.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),l.onScroll!=null&&xt("scroll",i),l.onScrollEnd!=null&&xt("scrollend",i),l.onClick!=null&&(i.onclick=$r),i=!0):i=!1,i||vn(e)}function Sf(e){for(me=e.return;me;)switch(me.tag){case 5:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:me=me.return}}function Ks(e){if(e!==me)return!1;if(!Tt)return Sf(e),Tt=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Pu(e.type,e.memoizedProps)),s=!s),s&&Lt&&vn(e),Sf(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(i===0){Lt=Je(e.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;e=e.nextSibling}Lt=null}}else i===27?(i=Lt,en(e.type)?(e=qu,qu=null,Lt=e):Lt=i):Lt=me?Je(e.stateNode.nextSibling):null;return!0}function Ws(){Lt=me=null,Tt=!1}function Af(){var e=bn;return e!==null&&(ve===null?ve=e:ve.push.apply(ve,e),bn=null),e}function $s(e){bn===null?bn=[e]:bn.push(e)}var wo=X(null),Sn=null,bi=null;function Pi(e,i,s){K(wo,i._currentValue),i._currentValue=s}function vi(e){e._currentValue=wo.current,W(wo)}function Mo(e,i,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===s)break;e=e.return}}function Co(e,i,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var x=c.child;d=d.firstContext;t:for(;d!==null;){var v=d;d=c;for(var w=0;w<i.length;w++)if(v.context===i[w]){d.lanes|=s,v=d.alternate,v!==null&&(v.lanes|=s),Mo(d.return,s,e),l||(x=null);break t}d=v.next}}else if(c.tag===18){if(x=c.return,x===null)throw Error(r(341));x.lanes|=s,d=x.alternate,d!==null&&(d.lanes|=s),Mo(x,s,e),x=null}else x=c.child;if(x!==null)x.return=c;else for(x=c;x!==null;){if(x===e){x=null;break}if(c=x.sibling,c!==null){c.return=x.return,x=c;break}x=x.return}c=x}}function Js(e,i,s,l){e=null;for(var c=i,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var x=c.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var v=c.type;Ce(c.pendingProps.value,x.value)||(e!==null?e.push(v):e=[v])}}else if(c===Zt.current){if(x=c.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ea):e=[Ea])}c=c.return}e!==null&&Co(i,e,s,l),i.flags|=262144}function _r(e){for(e=e.firstContext;e!==null;){if(!Ce(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function An(e){Sn=e,bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function fe(e){return Tf(Sn,e)}function br(e,i){return Sn===null&&An(e),Tf(e,i)}function Tf(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},bi===null){if(e===null)throw Error(r(308));bi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else bi=bi.next=i;return s}var hx=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},fx=a.unstable_scheduleCallback,dx=a.unstable_NormalPriority,Jt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eo(){return{controller:new hx,data:new Map,refCount:0}}function ta(e){e.refCount--,e.refCount===0&&fx(dx,function(){e.controller.abort()})}var ea=null,Ro=0,ns=0,ss=null;function px(e,i){if(ea===null){var s=ea=[];Ro=0,ns=zu(),ss={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Ro++,i.then(wf,wf),i}function wf(){if(--Ro===0&&ea!==null){ss!==null&&(ss.status="fulfilled");var e=ea;ea=null,ns=0,ss=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function mx(e,i){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var c=0;c<s.length;c++)(0,s[c])(i)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Mf=T.S;T.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&px(e,i),Mf!==null&&Mf(e,i)};var Tn=X(null);function Bo(){var e=Tn.current;return e!==null?e:Ut.pooledCache}function vr(e,i){i===null?K(Tn,Tn.current):K(Tn,i.pool)}function Cf(){var e=Bo();return e===null?null:{parent:Jt._currentValue,pool:e}}var ia=Error(r(460)),Ef=Error(r(474)),Sr=Error(r(542)),zo={then:function(){}};function Rf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ar(){}function Bf(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Ar,Ar),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Of(e),e;default:if(typeof i.status=="string")i.then(Ar,Ar);else{if(e=Ut,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var c=i;c.status="fulfilled",c.value=l}},function(l){if(i.status==="pending"){var c=i;c.status="rejected",c.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Of(e),e}throw na=i,ia}}var na=null;function zf(){if(na===null)throw Error(r(459));var e=na;return na=null,e}function Of(e){if(e===ia||e===Sr)throw Error(r(483))}var Yi=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Do(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(e,i,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ct&2)!==0){var c=l.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),l.pending=i,i=mr(e),xf(e,null,s),i}return pr(e,l,i,s),mr(e)}function sa(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,Th(e,s)}}function Uo(e,i){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var x={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?c=d=x:d=d.next=x,s=s.next}while(s!==null);d===null?c=d=i:d=d.next=i}else c=d=i;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var Go=!1;function aa(){if(Go){var e=ss;if(e!==null)throw e}}function ra(e,i,s,l){Go=!1;var c=e.updateQueue;Yi=!1;var d=c.firstBaseUpdate,x=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var w=v,N=w.next;w.next=null,x===null?d=N:x.next=N,x=w;var V=e.alternate;V!==null&&(V=V.updateQueue,v=V.lastBaseUpdate,v!==x&&(v===null?V.firstBaseUpdate=N:v.next=N,V.lastBaseUpdate=w))}if(d!==null){var F=c.baseState;x=0,V=N=w=null,v=d;do{var k=v.lane&-536870913,L=k!==v.lane;if(L?(bt&k)===k:(l&k)===k){k!==0&&k===ns&&(Go=!0),V!==null&&(V=V.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var ft=e,ct=v;k=i;var zt=s;switch(ct.tag){case 1:if(ft=ct.payload,typeof ft=="function"){F=ft.call(zt,F,k);break t}F=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=ct.payload,k=typeof ft=="function"?ft.call(zt,F,k):ft,k==null)break t;F=g({},F,k);break t;case 2:Yi=!0}}k=v.callback,k!==null&&(e.flags|=64,L&&(e.flags|=8192),L=c.callbacks,L===null?c.callbacks=[k]:L.push(k))}else L={lane:k,tag:v.tag,payload:v.payload,callback:v.callback,next:null},V===null?(N=V=L,w=F):V=V.next=L,x|=k;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;L=v,v=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);V===null&&(w=F),c.baseState=w,c.firstBaseUpdate=N,c.lastBaseUpdate=V,d===null&&(c.shared.lanes=0),Wi|=x,e.lanes=x,e.memoizedState=F}}function Df(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Uf(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Df(s[e],i)}var as=X(null),Tr=X(0);function Gf(e,i){e=Ei,K(Tr,e),K(as,i),Ei=e|i.baseLanes}function No(){K(Tr,Ei),K(as,as.current)}function Ho(){Ei=Tr.current,W(as),W(Tr)}var qi=0,mt=null,Rt=null,Qt=null,wr=!1,rs=!1,wn=!1,Mr=0,la=0,ls=null,gx=0;function qt(){throw Error(r(321))}function ko(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!Ce(e[s],i[s]))return!1;return!0}function Lo(e,i,s,l,c,d){return qi=d,mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,T.H=e===null||e.memoizedState===null?xd:_d,wn=!1,d=s(l,c),wn=!1,rs&&(d=Hf(i,s,l,c)),Nf(e),d}function Nf(e){T.H=Or;var i=Rt!==null&&Rt.next!==null;if(qi=0,Qt=Rt=mt=null,wr=!1,la=0,ls=null,i)throw Error(r(300));e===null||ie||(e=e.dependencies,e!==null&&_r(e)&&(ie=!0))}function Hf(e,i,s,l){mt=e;var c=0;do{if(rs&&(ls=null),la=0,rs=!1,25<=c)throw Error(r(301));if(c+=1,Qt=Rt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}T.H=Ax,d=i(s,l)}while(rs);return d}function yx(){var e=T.H,i=e.useState()[0];return i=typeof i.then=="function"?oa(i):i,e=e.useState()[0],(Rt!==null?Rt.memoizedState:null)!==e&&(mt.flags|=1024),i}function Po(){var e=Mr!==0;return Mr=0,e}function Yo(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function Vo(e){if(wr){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}wr=!1}qi=0,Qt=Rt=mt=null,rs=!1,la=Mr=0,ls=null}function _e(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?mt.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function Kt(){if(Rt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var i=Qt===null?mt.memoizedState:Qt.next;if(i!==null)Qt=i,Rt=e;else{if(e===null)throw mt.alternate===null?Error(r(467)):Error(r(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Qt===null?mt.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function Xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oa(e){var i=la;return la+=1,ls===null&&(ls=[]),e=Bf(ls,e,i),i=mt,(Qt===null?i.memoizedState:Qt.next)===null&&(i=i.alternate,T.H=i===null||i.memoizedState===null?xd:_d),e}function Cr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return oa(e);if(e.$$typeof===U)return fe(e)}throw Error(r(438,String(e)))}function qo(e){var i=null,s=mt.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(c){return c.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Xo(),mt.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),l=0;l<e;l++)s[l]=P;return i.index++,s}function Si(e,i){return typeof i=="function"?i(e):i}function Er(e){var i=Kt();return jo(i,Rt,e)}function jo(e,i,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var x=c.next;c.next=d.next,d.next=x}i.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{i=c.next;var v=x=null,w=null,N=i,V=!1;do{var F=N.lane&-536870913;if(F!==N.lane?(bt&F)===F:(qi&F)===F){var k=N.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),F===ns&&(V=!0);else if((qi&k)===k){N=N.next,k===ns&&(V=!0);continue}else F={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(v=w=F,x=d):w=w.next=F,mt.lanes|=k,Wi|=k;F=N.action,wn&&s(d,F),d=N.hasEagerState?N.eagerState:s(d,F)}else k={lane:F,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(v=w=k,x=d):w=w.next=k,mt.lanes|=F,Wi|=F;N=N.next}while(N!==null&&N!==i);if(w===null?x=d:w.next=v,!Ce(d,e.memoizedState)&&(ie=!0,V&&(s=ss,s!==null)))throw s;e.memoizedState=d,e.baseState=x,e.baseQueue=w,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Fo(e){var i=Kt(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,d=i.memoizedState;if(c!==null){s.pending=null;var x=c=c.next;do d=e(d,x.action),x=x.next;while(x!==c);Ce(d,i.memoizedState)||(ie=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function kf(e,i,s){var l=mt,c=Kt(),d=Tt;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=i();var x=!Ce((Rt||c).memoizedState,s);x&&(c.memoizedState=s,ie=!0),c=c.queue;var v=Yf.bind(null,l,c,e);if(ua(2048,8,v,[e]),c.getSnapshot!==i||x||Qt!==null&&Qt.memoizedState.tag&1){if(l.flags|=2048,os(9,Rr(),Pf.bind(null,l,c,s,i),null),Ut===null)throw Error(r(349));d||(qi&124)!==0||Lf(l,i,s)}return s}function Lf(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=mt.updateQueue,i===null?(i=Xo(),mt.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function Pf(e,i,s,l){i.value=s,i.getSnapshot=l,Vf(i)&&Xf(e)}function Yf(e,i,s){return s(function(){Vf(i)&&Xf(e)})}function Vf(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!Ce(e,s)}catch{return!0}}function Xf(e){var i=Jn(e,2);i!==null&&De(i,e,2)}function Io(e){var i=_e();if(typeof e=="function"){var s=e;if(e=s(),wn){Hi(!0);try{s()}finally{Hi(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:e},i}function qf(e,i,s,l){return e.baseState=s,jo(e,Rt,typeof l=="function"?l:Si)}function xx(e,i,s,l,c){if(zr(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){d.listeners.push(x)}};T.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,jf(i,d)):(d.next=s.next,i.pending=s.next=d)}}function jf(e,i){var s=i.action,l=i.payload,c=e.state;if(i.isTransition){var d=T.T,x={};T.T=x;try{var v=s(c,l),w=T.S;w!==null&&w(x,v),Ff(e,i,v)}catch(N){Zo(e,i,N)}finally{T.T=d}}else try{d=s(c,l),Ff(e,i,d)}catch(N){Zo(e,i,N)}}function Ff(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){If(e,i,l)},function(l){return Zo(e,i,l)}):If(e,i,s)}function If(e,i,s){i.status="fulfilled",i.value=s,Zf(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,jf(e,s)))}function Zo(e,i,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Zf(i),i=i.next;while(i!==l)}e.action=null}function Zf(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Qf(e,i){return i}function Kf(e,i){if(Tt){var s=Ut.formState;if(s!==null){t:{var l=mt;if(Tt){if(Lt){e:{for(var c=Lt,d=ri;c.nodeType!==8;){if(!d){c=null;break e}if(c=Je(c.nextSibling),c===null){c=null;break e}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Lt=Je(c.nextSibling),l=c.data==="F!";break t}}vn(l)}l=!1}l&&(i=s[0])}}return s=_e(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qf,lastRenderedState:i},s.queue=l,s=md.bind(null,mt,l),l.dispatch=s,l=Io(!1),d=Jo.bind(null,mt,!1,l.queue),l=_e(),c={state:i,dispatch:null,action:e,pending:null},l.queue=c,s=xx.bind(null,mt,c,d,s),c.dispatch=s,l.memoizedState=e,[i,s,!1]}function Wf(e){var i=Kt();return $f(i,Rt,e)}function $f(e,i,s){if(i=jo(e,i,Qf)[0],e=Er(Si)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=oa(i)}catch(x){throw x===ia?Sr:x}else l=i;i=Kt();var c=i.queue,d=c.dispatch;return s!==i.memoizedState&&(mt.flags|=2048,os(9,Rr(),_x.bind(null,c,s),null)),[l,d,e]}function _x(e,i){e.action=i}function Jf(e){var i=Kt(),s=Rt;if(s!==null)return $f(i,s,e);Kt(),i=i.memoizedState,s=Kt();var l=s.queue.dispatch;return s.memoizedState=e,[i,l,!1]}function os(e,i,s,l){return e={tag:e,create:s,deps:l,inst:i,next:null},i=mt.updateQueue,i===null&&(i=Xo(),mt.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,i.lastEffect=e),e}function Rr(){return{destroy:void 0,resource:void 0}}function td(){return Kt().memoizedState}function Br(e,i,s,l){var c=_e();l=l===void 0?null:l,mt.flags|=e,c.memoizedState=os(1|i,Rr(),s,l)}function ua(e,i,s,l){var c=Kt();l=l===void 0?null:l;var d=c.memoizedState.inst;Rt!==null&&l!==null&&ko(l,Rt.memoizedState.deps)?c.memoizedState=os(i,d,s,l):(mt.flags|=e,c.memoizedState=os(1|i,d,s,l))}function ed(e,i){Br(8390656,8,e,i)}function id(e,i){ua(2048,8,e,i)}function nd(e,i){return ua(4,2,e,i)}function sd(e,i){return ua(4,4,e,i)}function ad(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function rd(e,i,s){s=s!=null?s.concat([e]):null,ua(4,4,ad.bind(null,i,e),s)}function Qo(){}function ld(e,i){var s=Kt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&ko(i,l[1])?l[0]:(s.memoizedState=[e,i],e)}function od(e,i){var s=Kt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&ko(i,l[1]))return l[0];if(l=e(),wn){Hi(!0);try{e()}finally{Hi(!1)}}return s.memoizedState=[l,i],l}function Ko(e,i,s){return s===void 0||(qi&1073741824)!==0?e.memoizedState=i:(e.memoizedState=s,e=hp(),mt.lanes|=e,Wi|=e,s)}function ud(e,i,s,l){return Ce(s,i)?s:as.current!==null?(e=Ko(e,s,l),Ce(e,i)||(ie=!0),e):(qi&42)===0?(ie=!0,e.memoizedState=s):(e=hp(),mt.lanes|=e,Wi|=e,i)}function cd(e,i,s,l,c){var d=Y.p;Y.p=d!==0&&8>d?d:8;var x=T.T,v={};T.T=v,Jo(e,!1,i,s);try{var w=c(),N=T.S;if(N!==null&&N(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var V=mx(w,l);ca(e,i,V,Oe(e))}else ca(e,i,l,Oe(e))}catch(F){ca(e,i,{then:function(){},status:"rejected",reason:F},Oe())}finally{Y.p=d,T.T=x}}function bx(){}function Wo(e,i,s,l){if(e.tag!==5)throw Error(r(476));var c=hd(e).queue;cd(e,c,i,J,s===null?bx:function(){return fd(e),s(l)})}function hd(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:J},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function fd(e){var i=hd(e).next.queue;ca(e,i,{},Oe())}function $o(){return fe(Ea)}function dd(){return Kt().memoizedState}function pd(){return Kt().memoizedState}function vx(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=Oe();e=Vi(s);var l=Xi(i,e,s);l!==null&&(De(l,i,s),sa(l,i,s)),i={cache:Eo()},e.payload=i;return}i=i.return}}function Sx(e,i,s){var l=Oe();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},zr(e)?gd(i,s):(s=xo(e,i,s,l),s!==null&&(De(s,e,l),yd(s,i,l)))}function md(e,i,s){var l=Oe();ca(e,i,s,l)}function ca(e,i,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(zr(e))gd(i,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var x=i.lastRenderedState,v=d(x,s);if(c.hasEagerState=!0,c.eagerState=v,Ce(v,x))return pr(e,i,c,0),Ut===null&&dr(),!1}catch{}finally{}if(s=xo(e,i,c,l),s!==null)return De(s,e,l),yd(s,i,l),!0}return!1}function Jo(e,i,s,l){if(l={lane:2,revertLane:zu(),action:l,hasEagerState:!1,eagerState:null,next:null},zr(e)){if(i)throw Error(r(479))}else i=xo(e,s,l,2),i!==null&&De(i,e,2)}function zr(e){var i=e.alternate;return e===mt||i!==null&&i===mt}function gd(e,i){rs=wr=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function yd(e,i,s){if((s&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,Th(e,s)}}var Or={readContext:fe,use:Cr,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},xd={readContext:fe,use:Cr,useCallback:function(e,i){return _e().memoizedState=[e,i===void 0?null:i],e},useContext:fe,useEffect:ed,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Br(4194308,4,ad.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Br(4194308,4,e,i)},useInsertionEffect:function(e,i){Br(4,2,e,i)},useMemo:function(e,i){var s=_e();i=i===void 0?null:i;var l=e();if(wn){Hi(!0);try{e()}finally{Hi(!1)}}return s.memoizedState=[l,i],l},useReducer:function(e,i,s){var l=_e();if(s!==void 0){var c=s(i);if(wn){Hi(!0);try{s(i)}finally{Hi(!1)}}}else c=i;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Sx.bind(null,mt,e),[l.memoizedState,e]},useRef:function(e){var i=_e();return e={current:e},i.memoizedState=e},useState:function(e){e=Io(e);var i=e.queue,s=md.bind(null,mt,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:Qo,useDeferredValue:function(e,i){var s=_e();return Ko(s,e,i)},useTransition:function(){var e=Io(!1);return e=cd.bind(null,mt,e.queue,!0,!1),_e().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var l=mt,c=_e();if(Tt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),Ut===null)throw Error(r(349));(bt&124)!==0||Lf(l,i,s)}c.memoizedState=s;var d={value:s,getSnapshot:i};return c.queue=d,ed(Yf.bind(null,l,d,e),[e]),l.flags|=2048,os(9,Rr(),Pf.bind(null,l,d,s,i),null),s},useId:function(){var e=_e(),i=Ut.identifierPrefix;if(Tt){var s=_i,l=xi;s=(l&~(1<<32-Me(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=Mr++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=gx++,i="«"+i+"r"+s.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:$o,useFormState:Kf,useActionState:Kf,useOptimistic:function(e){var i=_e();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Jo.bind(null,mt,!0,s),s.dispatch=i,[e,i]},useMemoCache:qo,useCacheRefresh:function(){return _e().memoizedState=vx.bind(null,mt)}},_d={readContext:fe,use:Cr,useCallback:ld,useContext:fe,useEffect:id,useImperativeHandle:rd,useInsertionEffect:nd,useLayoutEffect:sd,useMemo:od,useReducer:Er,useRef:td,useState:function(){return Er(Si)},useDebugValue:Qo,useDeferredValue:function(e,i){var s=Kt();return ud(s,Rt.memoizedState,e,i)},useTransition:function(){var e=Er(Si)[0],i=Kt().memoizedState;return[typeof e=="boolean"?e:oa(e),i]},useSyncExternalStore:kf,useId:dd,useHostTransitionStatus:$o,useFormState:Wf,useActionState:Wf,useOptimistic:function(e,i){var s=Kt();return qf(s,Rt,e,i)},useMemoCache:qo,useCacheRefresh:pd},Ax={readContext:fe,use:Cr,useCallback:ld,useContext:fe,useEffect:id,useImperativeHandle:rd,useInsertionEffect:nd,useLayoutEffect:sd,useMemo:od,useReducer:Fo,useRef:td,useState:function(){return Fo(Si)},useDebugValue:Qo,useDeferredValue:function(e,i){var s=Kt();return Rt===null?Ko(s,e,i):ud(s,Rt.memoizedState,e,i)},useTransition:function(){var e=Fo(Si)[0],i=Kt().memoizedState;return[typeof e=="boolean"?e:oa(e),i]},useSyncExternalStore:kf,useId:dd,useHostTransitionStatus:$o,useFormState:Jf,useActionState:Jf,useOptimistic:function(e,i){var s=Kt();return Rt!==null?qf(s,Rt,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:qo,useCacheRefresh:pd},us=null,ha=0;function Dr(e){var i=ha;return ha+=1,us===null&&(us=[]),Bf(us,e,i)}function fa(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ur(e,i){throw i.$$typeof===y?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function bd(e){var i=e._init;return i(e._payload)}function vd(e){function i(z,E){if(e){var G=z.deletions;G===null?(z.deletions=[E],z.flags|=16):G.push(E)}}function s(z,E){if(!e)return null;for(;E!==null;)i(z,E),E=E.sibling;return null}function l(z){for(var E=new Map;z!==null;)z.key!==null?E.set(z.key,z):E.set(z.index,z),z=z.sibling;return E}function c(z,E){return z=yi(z,E),z.index=0,z.sibling=null,z}function d(z,E,G){return z.index=G,e?(G=z.alternate,G!==null?(G=G.index,G<E?(z.flags|=67108866,E):G):(z.flags|=67108866,E)):(z.flags|=1048576,E)}function x(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function v(z,E,G,q){return E===null||E.tag!==6?(E=bo(G,z.mode,q),E.return=z,E):(E=c(E,G),E.return=z,E)}function w(z,E,G,q){var it=G.type;return it===S?V(z,E,G.props.children,q,G.key):E!==null&&(E.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===rt&&bd(it)===E.type)?(E=c(E,G.props),fa(E,G),E.return=z,E):(E=gr(G.type,G.key,G.props,null,z.mode,q),fa(E,G),E.return=z,E)}function N(z,E,G,q){return E===null||E.tag!==4||E.stateNode.containerInfo!==G.containerInfo||E.stateNode.implementation!==G.implementation?(E=vo(G,z.mode,q),E.return=z,E):(E=c(E,G.children||[]),E.return=z,E)}function V(z,E,G,q,it){return E===null||E.tag!==7?(E=yn(G,z.mode,q,it),E.return=z,E):(E=c(E,G),E.return=z,E)}function F(z,E,G){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=bo(""+E,z.mode,G),E.return=z,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case b:return G=gr(E.type,E.key,E.props,null,z.mode,G),fa(G,E),G.return=z,G;case _:return E=vo(E,z.mode,G),E.return=z,E;case rt:var q=E._init;return E=q(E._payload),F(z,E,G)}if(et(E)||Q(E))return E=yn(E,z.mode,G,null),E.return=z,E;if(typeof E.then=="function")return F(z,Dr(E),G);if(E.$$typeof===U)return F(z,br(z,E),G);Ur(z,E)}return null}function k(z,E,G,q){var it=E!==null?E.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return it!==null?null:v(z,E,""+G,q);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===it?w(z,E,G,q):null;case _:return G.key===it?N(z,E,G,q):null;case rt:return it=G._init,G=it(G._payload),k(z,E,G,q)}if(et(G)||Q(G))return it!==null?null:V(z,E,G,q,null);if(typeof G.then=="function")return k(z,E,Dr(G),q);if(G.$$typeof===U)return k(z,E,br(z,G),q);Ur(z,G)}return null}function L(z,E,G,q,it){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return z=z.get(G)||null,v(E,z,""+q,it);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return z=z.get(q.key===null?G:q.key)||null,w(E,z,q,it);case _:return z=z.get(q.key===null?G:q.key)||null,N(E,z,q,it);case rt:var gt=q._init;return q=gt(q._payload),L(z,E,G,q,it)}if(et(q)||Q(q))return z=z.get(G)||null,V(E,z,q,it,null);if(typeof q.then=="function")return L(z,E,G,Dr(q),it);if(q.$$typeof===U)return L(z,E,G,br(E,q),it);Ur(E,q)}return null}function ft(z,E,G,q){for(var it=null,gt=null,lt=E,ht=E=0,se=null;lt!==null&&ht<G.length;ht++){lt.index>ht?(se=lt,lt=null):se=lt.sibling;var At=k(z,lt,G[ht],q);if(At===null){lt===null&&(lt=se);break}e&&lt&&At.alternate===null&&i(z,lt),E=d(At,E,ht),gt===null?it=At:gt.sibling=At,gt=At,lt=se}if(ht===G.length)return s(z,lt),Tt&&_n(z,ht),it;if(lt===null){for(;ht<G.length;ht++)lt=F(z,G[ht],q),lt!==null&&(E=d(lt,E,ht),gt===null?it=lt:gt.sibling=lt,gt=lt);return Tt&&_n(z,ht),it}for(lt=l(lt);ht<G.length;ht++)se=L(lt,z,ht,G[ht],q),se!==null&&(e&&se.alternate!==null&&lt.delete(se.key===null?ht:se.key),E=d(se,E,ht),gt===null?it=se:gt.sibling=se,gt=se);return e&&lt.forEach(function(ln){return i(z,ln)}),Tt&&_n(z,ht),it}function ct(z,E,G,q){if(G==null)throw Error(r(151));for(var it=null,gt=null,lt=E,ht=E=0,se=null,At=G.next();lt!==null&&!At.done;ht++,At=G.next()){lt.index>ht?(se=lt,lt=null):se=lt.sibling;var ln=k(z,lt,At.value,q);if(ln===null){lt===null&&(lt=se);break}e&&lt&&ln.alternate===null&&i(z,lt),E=d(ln,E,ht),gt===null?it=ln:gt.sibling=ln,gt=ln,lt=se}if(At.done)return s(z,lt),Tt&&_n(z,ht),it;if(lt===null){for(;!At.done;ht++,At=G.next())At=F(z,At.value,q),At!==null&&(E=d(At,E,ht),gt===null?it=At:gt.sibling=At,gt=At);return Tt&&_n(z,ht),it}for(lt=l(lt);!At.done;ht++,At=G.next())At=L(lt,z,ht,At.value,q),At!==null&&(e&&At.alternate!==null&&lt.delete(At.key===null?ht:At.key),E=d(At,E,ht),gt===null?it=At:gt.sibling=At,gt=At);return e&&lt.forEach(function(T_){return i(z,T_)}),Tt&&_n(z,ht),it}function zt(z,E,G,q){if(typeof G=="object"&&G!==null&&G.type===S&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var it=G.key;E!==null;){if(E.key===it){if(it=G.type,it===S){if(E.tag===7){s(z,E.sibling),q=c(E,G.props.children),q.return=z,z=q;break t}}else if(E.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===rt&&bd(it)===E.type){s(z,E.sibling),q=c(E,G.props),fa(q,G),q.return=z,z=q;break t}s(z,E);break}else i(z,E);E=E.sibling}G.type===S?(q=yn(G.props.children,z.mode,q,G.key),q.return=z,z=q):(q=gr(G.type,G.key,G.props,null,z.mode,q),fa(q,G),q.return=z,z=q)}return x(z);case _:t:{for(it=G.key;E!==null;){if(E.key===it)if(E.tag===4&&E.stateNode.containerInfo===G.containerInfo&&E.stateNode.implementation===G.implementation){s(z,E.sibling),q=c(E,G.children||[]),q.return=z,z=q;break t}else{s(z,E);break}else i(z,E);E=E.sibling}q=vo(G,z.mode,q),q.return=z,z=q}return x(z);case rt:return it=G._init,G=it(G._payload),zt(z,E,G,q)}if(et(G))return ft(z,E,G,q);if(Q(G)){if(it=Q(G),typeof it!="function")throw Error(r(150));return G=it.call(G),ct(z,E,G,q)}if(typeof G.then=="function")return zt(z,E,Dr(G),q);if(G.$$typeof===U)return zt(z,E,br(z,G),q);Ur(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,E!==null&&E.tag===6?(s(z,E.sibling),q=c(E,G),q.return=z,z=q):(s(z,E),q=bo(G,z.mode,q),q.return=z,z=q),x(z)):s(z,E)}return function(z,E,G,q){try{ha=0;var it=zt(z,E,G,q);return us=null,it}catch(lt){if(lt===ia||lt===Sr)throw lt;var gt=Ee(29,lt,null,z.mode);return gt.lanes=q,gt.return=z,gt}finally{}}}var cs=vd(!0),Sd=vd(!1),Xe=X(null),li=null;function ji(e){var i=e.alternate;K(te,te.current&1),K(Xe,e),li===null&&(i===null||as.current!==null||i.memoizedState!==null)&&(li=e)}function Ad(e){if(e.tag===22){if(K(te,te.current),K(Xe,e),li===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(li=e)}}else Fi()}function Fi(){K(te,te.current),K(Xe,Xe.current)}function Ai(e){W(Xe),li===e&&(li=null),W(te)}var te=X(0);function Gr(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Xu(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function tu(e,i,s,l){i=e.memoizedState,s=s(l,i),s=s==null?i:g({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var eu={enqueueSetState:function(e,i,s){e=e._reactInternals;var l=Oe(),c=Vi(l);c.payload=i,s!=null&&(c.callback=s),i=Xi(e,c,l),i!==null&&(De(i,e,l),sa(i,e,l))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var l=Oe(),c=Vi(l);c.tag=1,c.payload=i,s!=null&&(c.callback=s),i=Xi(e,c,l),i!==null&&(De(i,e,l),sa(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=Oe(),l=Vi(s);l.tag=2,i!=null&&(l.callback=i),i=Xi(e,l,s),i!==null&&(De(i,e,s),sa(i,e,s))}};function Td(e,i,s,l,c,d,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,x):i.prototype&&i.prototype.isPureReactComponent?!Zs(s,l)||!Zs(c,d):!0}function wd(e,i,s,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==e&&eu.enqueueReplaceState(i,i.state,null)}function Mn(e,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(e=e.defaultProps){s===i&&(s=g({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}var Nr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Md(e){Nr(e)}function Cd(e){console.error(e)}function Ed(e){Nr(e)}function Hr(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Rd(e,i,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function iu(e,i,s){return s=Vi(s),s.tag=3,s.payload={element:null},s.callback=function(){Hr(e,i)},s}function Bd(e){return e=Vi(e),e.tag=3,e}function zd(e,i,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){Rd(i,s,l)}}var x=s.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Rd(i,s,l),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function Tx(e,i,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Js(i,s,c,!0),s=Xe.current,s!==null){switch(s.tag){case 13:return li===null?Mu():s.alternate===null&&Pt===0&&(Pt=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===zo?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Eu(e,l,c)),!1;case 22:return s.flags|=65536,l===zo?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Eu(e,l,c)),!1}throw Error(r(435,s.tag))}return Eu(e,l,c),Mu(),!1}if(Tt)return i=Xe.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=c,l!==To&&(e=Error(r(422),{cause:l}),$s(Le(e,s)))):(l!==To&&(i=Error(r(423),{cause:l}),$s(Le(i,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Le(l,s),c=iu(e.stateNode,l,c),Uo(e,c),Pt!==4&&(Pt=2)),!1;var d=Error(r(520),{cause:l});if(d=Le(d,s),_a===null?_a=[d]:_a.push(d),Pt!==4&&(Pt=2),i===null)return!0;l=Le(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=iu(s.stateNode,l,e),Uo(s,e),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($i===null||!$i.has(d))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Bd(c),zd(c,e,s,l),Uo(s,c),!1}s=s.return}while(s!==null);return!1}var Od=Error(r(461)),ie=!1;function re(e,i,s,l){i.child=e===null?Sd(i,null,s,l):cs(i,e.child,s,l)}function Dd(e,i,s,l,c){s=s.render;var d=i.ref;if("ref"in l){var x={};for(var v in l)v!=="ref"&&(x[v]=l[v])}else x=l;return An(i),l=Lo(e,i,s,x,d,c),v=Po(),e!==null&&!ie?(Yo(e,i,c),Ti(e,i,c)):(Tt&&v&&So(i),i.flags|=1,re(e,i,l,c),i.child)}function Ud(e,i,s,l,c){if(e===null){var d=s.type;return typeof d=="function"&&!_o(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Gd(e,i,d,l,c)):(e=gr(s.type,null,l,i,i.mode,c),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!cu(e,c)){var x=d.memoizedProps;if(s=s.compare,s=s!==null?s:Zs,s(x,l)&&e.ref===i.ref)return Ti(e,i,c)}return i.flags|=1,e=yi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Gd(e,i,s,l,c){if(e!==null){var d=e.memoizedProps;if(Zs(d,l)&&e.ref===i.ref)if(ie=!1,i.pendingProps=l=d,cu(e,c))(e.flags&131072)!==0&&(ie=!0);else return i.lanes=e.lanes,Ti(e,i,c)}return nu(e,i,s,l,c)}function Nd(e,i,s){var l=i.pendingProps,c=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,e!==null){for(c=i.child=e.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Hd(e,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&vr(i,d!==null?d.cachePool:null),d!==null?Gf(i,d):No(),Ad(i);else return i.lanes=i.childLanes=536870912,Hd(e,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(vr(i,d.cachePool),Gf(i,d),Fi(),i.memoizedState=null):(e!==null&&vr(i,null),No(),Fi());return re(e,i,c,s),i.child}function Hd(e,i,s,l){var c=Bo();return c=c===null?null:{parent:Jt._currentValue,pool:c},i.memoizedState={baseLanes:s,cachePool:c},e!==null&&vr(i,null),No(),Ad(i),e!==null&&Js(e,i,l,!0),null}function kr(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function nu(e,i,s,l,c){return An(i),s=Lo(e,i,s,l,void 0,c),l=Po(),e!==null&&!ie?(Yo(e,i,c),Ti(e,i,c)):(Tt&&l&&So(i),i.flags|=1,re(e,i,s,c),i.child)}function kd(e,i,s,l,c,d){return An(i),i.updateQueue=null,s=Hf(i,l,s,c),Nf(e),l=Po(),e!==null&&!ie?(Yo(e,i,d),Ti(e,i,d)):(Tt&&l&&So(i),i.flags|=1,re(e,i,s,d),i.child)}function Ld(e,i,s,l,c){if(An(i),i.stateNode===null){var d=ts,x=s.contextType;typeof x=="object"&&x!==null&&(d=fe(x)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=eu,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Oo(i),x=s.contextType,d.context=typeof x=="object"&&x!==null?fe(x):ts,d.state=i.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(tu(i,s,x,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(x=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),x!==d.state&&eu.enqueueReplaceState(d,d.state,null),ra(i,l,d,c),aa(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var v=i.memoizedProps,w=Mn(s,v);d.props=w;var N=d.context,V=s.contextType;x=ts,typeof V=="object"&&V!==null&&(x=fe(V));var F=s.getDerivedStateFromProps;V=typeof F=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=i.pendingProps!==v,V||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||N!==x)&&wd(i,d,l,x),Yi=!1;var k=i.memoizedState;d.state=k,ra(i,l,d,c),aa(),N=i.memoizedState,v||k!==N||Yi?(typeof F=="function"&&(tu(i,s,F,l),N=i.memoizedState),(w=Yi||Td(i,s,w,l,k,N,x))?(V||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=N),d.props=l,d.state=N,d.context=x,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Do(e,i),x=i.memoizedProps,V=Mn(s,x),d.props=V,F=i.pendingProps,k=d.context,N=s.contextType,w=ts,typeof N=="object"&&N!==null&&(w=fe(N)),v=s.getDerivedStateFromProps,(N=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==F||k!==w)&&wd(i,d,l,w),Yi=!1,k=i.memoizedState,d.state=k,ra(i,l,d,c),aa();var L=i.memoizedState;x!==F||k!==L||Yi||e!==null&&e.dependencies!==null&&_r(e.dependencies)?(typeof v=="function"&&(tu(i,s,v,l),L=i.memoizedState),(V=Yi||Td(i,s,V,l,k,L,w)||e!==null&&e.dependencies!==null&&_r(e.dependencies))?(N||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,L,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,L,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&k===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&k===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=w,l=V):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&k===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&k===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,kr(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=cs(i,e.child,null,c),i.child=cs(i,null,s,c)):re(e,i,s,c),i.memoizedState=d.state,e=i.child):e=Ti(e,i,c),e}function Pd(e,i,s,l){return Ws(),i.flags|=256,re(e,i,s,l),i.child}var su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function au(e){return{baseLanes:e,cachePool:Cf()}}function ru(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=qe),e}function Yd(e,i,s){var l=i.pendingProps,c=!1,d=(i.flags&128)!==0,x;if((x=d)||(x=e!==null&&e.memoizedState===null?!1:(te.current&2)!==0),x&&(c=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,e===null){if(Tt){if(c?ji(i):Fi(),Tt){var v=Lt,w;if(w=v){t:{for(w=v,v=ri;w.nodeType!==8;){if(!v){v=null;break t}if(w=Je(w.nextSibling),w===null){v=null;break t}}v=w}v!==null?(i.memoizedState={dehydrated:v,treeContext:xn!==null?{id:xi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},w=Ee(18,null,null,0),w.stateNode=v,w.return=i,i.child=w,me=i,Lt=null,w=!0):w=!1}w||vn(i)}if(v=i.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Xu(v)?i.lanes=32:i.lanes=536870912,null;Ai(i)}return v=l.children,l=l.fallback,c?(Fi(),c=i.mode,v=Lr({mode:"hidden",children:v},c),l=yn(l,c,s,null),v.return=i,l.return=i,v.sibling=l,i.child=v,c=i.child,c.memoizedState=au(s),c.childLanes=ru(e,x,s),i.memoizedState=su,l):(ji(i),lu(i,v))}if(w=e.memoizedState,w!==null&&(v=w.dehydrated,v!==null)){if(d)i.flags&256?(ji(i),i.flags&=-257,i=ou(e,i,s)):i.memoizedState!==null?(Fi(),i.child=e.child,i.flags|=128,i=null):(Fi(),c=l.fallback,v=i.mode,l=Lr({mode:"visible",children:l.children},v),c=yn(c,v,s,null),c.flags|=2,l.return=i,c.return=i,l.sibling=c,i.child=l,cs(i,e.child,null,s),l=i.child,l.memoizedState=au(s),l.childLanes=ru(e,x,s),i.memoizedState=su,i=c);else if(ji(i),Xu(v)){if(x=v.nextSibling&&v.nextSibling.dataset,x)var N=x.dgst;x=N,l=Error(r(419)),l.stack="",l.digest=x,$s({value:l,source:null,stack:null}),i=ou(e,i,s)}else if(ie||Js(e,i,s,!1),x=(s&e.childLanes)!==0,ie||x){if(x=Ut,x!==null&&(l=s&-s,l=(l&42)!==0?1:Xl(l),l=(l&(x.suspendedLanes|s))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,Jn(e,l),De(x,e,l),Od;v.data==="$?"||Mu(),i=ou(e,i,s)}else v.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,Lt=Je(v.nextSibling),me=i,Tt=!0,bn=null,ri=!1,e!==null&&(Ye[Ve++]=xi,Ye[Ve++]=_i,Ye[Ve++]=xn,xi=e.id,_i=e.overflow,xn=i),i=lu(i,l.children),i.flags|=4096);return i}return c?(Fi(),c=l.fallback,v=i.mode,w=e.child,N=w.sibling,l=yi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,N!==null?c=yi(N,c):(c=yn(c,v,s,null),c.flags|=2),c.return=i,l.return=i,l.sibling=c,i.child=l,l=c,c=i.child,v=e.child.memoizedState,v===null?v=au(s):(w=v.cachePool,w!==null?(N=Jt._currentValue,w=w.parent!==N?{parent:N,pool:N}:w):w=Cf(),v={baseLanes:v.baseLanes|s,cachePool:w}),c.memoizedState=v,c.childLanes=ru(e,x,s),i.memoizedState=su,l):(ji(i),s=e.child,e=s.sibling,s=yi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,e!==null&&(x=i.deletions,x===null?(i.deletions=[e],i.flags|=16):x.push(e)),i.child=s,i.memoizedState=null,s)}function lu(e,i){return i=Lr({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Lr(e,i){return e=Ee(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ou(e,i,s){return cs(i,e.child,null,s),e=lu(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Vd(e,i,s){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Mo(e.return,i,s)}function uu(e,i,s,l,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=c)}function Xd(e,i,s){var l=i.pendingProps,c=l.revealOrder,d=l.tail;if(re(e,i,l.children,s),l=te.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vd(e,s,i);else if(e.tag===19)Vd(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(K(te,l),c){case"forwards":for(s=i.child,c=null;s!==null;)e=s.alternate,e!==null&&Gr(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=i.child,i.child=null):(c=s.sibling,s.sibling=null),uu(i,!1,c,s,d);break;case"backwards":for(s=null,c=i.child,i.child=null;c!==null;){if(e=c.alternate,e!==null&&Gr(e)===null){i.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}uu(i,!0,s,null,d);break;case"together":uu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ti(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),Wi|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(Js(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,s=yi(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=yi(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function cu(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&_r(e)))}function wx(e,i,s){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),Pi(i,Jt,e.memoizedState.cache),Ws();break;case 27:case 5:Gi(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:Pi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ji(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Yd(e,i,s):(ji(i),e=Ti(e,i,s),e!==null?e.sibling:null);ji(i);break;case 19:var c=(e.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Js(e,i,s,!1),l=(s&i.childLanes)!==0),c){if(l)return Xd(e,i,s);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),K(te,te.current),l)break;return null;case 22:case 23:return i.lanes=0,Nd(e,i,s);case 24:Pi(i,Jt,e.memoizedState.cache)}return Ti(e,i,s)}function qd(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)ie=!0;else{if(!cu(e,s)&&(i.flags&128)===0)return ie=!1,wx(e,i,s);ie=(e.flags&131072)!==0}else ie=!1,Tt&&(i.flags&1048576)!==0&&bf(i,xr,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,c=l._init;if(l=c(l._payload),i.type=l,typeof l=="function")_o(l)?(e=Mn(l,e),i.tag=1,i=Ld(null,i,l,e,s)):(i.tag=0,i=nu(null,i,l,e,s));else{if(l!=null){if(c=l.$$typeof,c===H){i.tag=11,i=Dd(null,i,l,e,s);break t}else if(c===Z){i.tag=14,i=Ud(null,i,l,e,s);break t}}throw i=at(l)||l,Error(r(306,i,""))}}return i;case 0:return nu(e,i,i.type,i.pendingProps,s);case 1:return l=i.type,c=Mn(l,i.pendingProps),Ld(e,i,l,c,s);case 3:t:{if(Mt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;c=d.element,Do(e,i),ra(i,l,null,s);var x=i.memoizedState;if(l=x.cache,Pi(i,Jt,l),l!==d.cache&&Co(i,[Jt],s,!0),aa(),l=x.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Pd(e,i,l,s);break t}else if(l!==c){c=Le(Error(r(424)),i),$s(c),i=Pd(e,i,l,s);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Lt=Je(e.firstChild),me=i,Tt=!0,bn=null,ri=!0,s=Sd(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ws(),l===c){i=Ti(e,i,s);break t}re(e,i,l,s)}i=i.child}return i;case 26:return kr(e,i),e===null?(s=Zp(i.type,null,i.pendingProps,null))?i.memoizedState=s:Tt||(s=i.type,e=i.pendingProps,l=Jr(st.current).createElement(s),l[he]=i,l[ye]=e,oe(l,s,e),ee(l),i.stateNode=l):i.memoizedState=Zp(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Gi(i),e===null&&Tt&&(l=i.stateNode=jp(i.type,i.pendingProps,st.current),me=i,ri=!0,c=Lt,en(i.type)?(qu=c,Lt=Je(l.firstChild)):Lt=c),re(e,i,i.pendingProps.children,s),kr(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Tt&&((c=l=Lt)&&(l=Jx(l,i.type,i.pendingProps,ri),l!==null?(i.stateNode=l,me=i,Lt=Je(l.firstChild),ri=!1,c=!0):c=!1),c||vn(i)),Gi(i),c=i.type,d=i.pendingProps,x=e!==null?e.memoizedProps:null,l=d.children,Pu(c,d)?l=null:x!==null&&Pu(c,x)&&(i.flags|=32),i.memoizedState!==null&&(c=Lo(e,i,yx,null,null,s),Ea._currentValue=c),kr(e,i),re(e,i,l,s),i.child;case 6:return e===null&&Tt&&((e=s=Lt)&&(s=t_(s,i.pendingProps,ri),s!==null?(i.stateNode=s,me=i,Lt=null,e=!0):e=!1),e||vn(i)),null;case 13:return Yd(e,i,s);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=cs(i,null,l,s):re(e,i,l,s),i.child;case 11:return Dd(e,i,i.type,i.pendingProps,s);case 7:return re(e,i,i.pendingProps,s),i.child;case 8:return re(e,i,i.pendingProps.children,s),i.child;case 12:return re(e,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Pi(i,i.type,l.value),re(e,i,l.children,s),i.child;case 9:return c=i.type._context,l=i.pendingProps.children,An(i),c=fe(c),l=l(c),i.flags|=1,re(e,i,l,s),i.child;case 14:return Ud(e,i,i.type,i.pendingProps,s);case 15:return Gd(e,i,i.type,i.pendingProps,s);case 19:return Xd(e,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},e===null?(s=Lr(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=yi(e.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Nd(e,i,s);case 24:return An(i),l=fe(Jt),e===null?(c=Bo(),c===null&&(c=Ut,d=Eo(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=s),c=d),i.memoizedState={parent:l,cache:c},Oo(i),Pi(i,Jt,c)):((e.lanes&s)!==0&&(Do(e,i),ra(i,null,null,s),aa()),c=e.memoizedState,d=i.memoizedState,c.parent!==l?(c={parent:l,cache:l},i.memoizedState=c,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=c),Pi(i,Jt,l)):(l=d.cache,Pi(i,Jt,l),l!==c.cache&&Co(i,[Jt],s,!0))),re(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function wi(e){e.flags|=4}function jd(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jp(i)){if(i=Xe.current,i!==null&&((bt&4194048)===bt?li!==null:(bt&62914560)!==bt&&(bt&536870912)===0||i!==li))throw na=zo,Ef;e.flags|=8192}}function Pr(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Sh():536870912,e.lanes|=i,ps|=i)}function da(e,i){if(!Tt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Nt(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(i)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,i}function Mx(e,i,s){var l=i.pendingProps;switch(Ao(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(i),null;case 1:return Nt(i),null;case 3:return s=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),vi(Jt),Ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ks(i)?wi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Af())),Nt(i),null;case 26:return s=i.memoizedState,e===null?(wi(i),s!==null?(Nt(i),jd(i,s)):(Nt(i),i.flags&=-16777217)):s?s!==e.memoizedState?(wi(i),Nt(i),jd(i,s)):(Nt(i),i.flags&=-16777217):(e.memoizedProps!==l&&wi(i),Nt(i),i.flags&=-16777217),null;case 27:Ni(i),s=st.current;var c=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&wi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Nt(i),null}e=nt.current,Ks(i)?vf(i):(e=jp(c,l,s),i.stateNode=e,wi(i))}return Nt(i),null;case 5:if(Ni(i),s=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&wi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Nt(i),null}if(e=nt.current,Ks(i))vf(i);else{switch(c=Jr(st.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}e[he]=i,e[ye]=l;t:for(c=i.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break t;for(;c.sibling===null;){if(c.return===null||c.return===i)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}i.stateNode=e;t:switch(oe(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&wi(i)}}return Nt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&wi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=st.current,Ks(i)){if(e=i.stateNode,s=i.memoizedProps,l=null,c=me,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[he]=i,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||kp(e.nodeValue,s)),e||vn(i)}else e=Jr(e).createTextNode(l),e[he]=i,i.stateNode=e}return Nt(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ks(i),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[he]=i}else Ws(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nt(i),c=!1}else c=Af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return i.flags&256?(Ai(i),i):(Ai(i),null)}if(Ai(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=i.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)}return s!==e&&s&&(i.child.flags|=8192),Pr(i,i.updateQueue),Nt(i),null;case 4:return Ae(),e===null&&Gu(i.stateNode.containerInfo),Nt(i),null;case 10:return vi(i.type),Nt(i),null;case 19:if(W(te),c=i.memoizedState,c===null)return Nt(i),null;if(l=(i.flags&128)!==0,d=c.rendering,d===null)if(l)da(c,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Gr(e),d!==null){for(i.flags|=128,da(c,!1),e=d.updateQueue,i.updateQueue=e,Pr(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)_f(s,e),s=s.sibling;return K(te,te.current&1|2),i.child}e=e.sibling}c.tail!==null&&Te()>Xr&&(i.flags|=128,l=!0,da(c,!1),i.lanes=4194304)}else{if(!l)if(e=Gr(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Pr(i,e),da(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Tt)return Nt(i),null}else 2*Te()-c.renderingStartTime>Xr&&s!==536870912&&(i.flags|=128,l=!0,da(c,!1),i.lanes=4194304);c.isBackwards?(d.sibling=i.child,i.child=d):(e=c.last,e!==null?e.sibling=d:i.child=d,c.last=d)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Te(),i.sibling=null,e=te.current,K(te,l?e&1|2:e&1),i):(Nt(i),null);case 22:case 23:return Ai(i),Ho(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Nt(i),i.subtreeFlags&6&&(i.flags|=8192)):Nt(i),s=i.updateQueue,s!==null&&Pr(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),e!==null&&W(Tn),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),vi(Jt),Nt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Cx(e,i){switch(Ao(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return vi(Jt),Ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ni(i),null;case 13:if(Ai(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ws()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return W(te),null;case 4:return Ae(),null;case 10:return vi(i.type),null;case 22:case 23:return Ai(i),Ho(),e!==null&&W(Tn),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return vi(Jt),null;case 25:return null;default:return null}}function Fd(e,i){switch(Ao(i),i.tag){case 3:vi(Jt),Ae();break;case 26:case 27:case 5:Ni(i);break;case 4:Ae();break;case 13:Ai(i);break;case 19:W(te);break;case 10:vi(i.type);break;case 22:case 23:Ai(i),Ho(),e!==null&&W(Tn);break;case 24:vi(Jt)}}function pa(e,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var d=s.create,x=s.inst;l=d(),x.destroy=l}s=s.next}while(s!==c)}}catch(v){Dt(i,i.return,v)}}function Ii(e,i,s){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var x=l.inst,v=x.destroy;if(v!==void 0){x.destroy=void 0,c=i;var w=s,N=v;try{N()}catch(V){Dt(c,w,V)}}}l=l.next}while(l!==d)}}catch(V){Dt(i,i.return,V)}}function Id(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{Uf(i,s)}catch(l){Dt(e,e.return,l)}}}function Zd(e,i,s){s.props=Mn(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Dt(e,i,l)}}function ma(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){Dt(e,i,c)}}function oi(e,i){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Dt(e,i,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Dt(e,i,c)}else s.current=null}function Qd(e){var i=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Dt(e,e.return,c)}}function hu(e,i,s){try{var l=e.stateNode;Zx(l,e.type,s,i),l[ye]=i}catch(c){Dt(e,e.return,c)}}function Kd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&en(e.type)||e.tag===4}function fu(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&en(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function du(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=$r));else if(l!==4&&(l===27&&en(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(du(e,i,s),e=e.sibling;e!==null;)du(e,i,s),e=e.sibling}function Yr(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(l!==4&&(l===27&&en(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Yr(e,i,s),e=e.sibling;e!==null;)Yr(e,i,s),e=e.sibling}function Wd(e){var i=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=i.attributes;c.length;)i.removeAttributeNode(c[0]);oe(i,l,s),i[he]=e,i[ye]=s}catch(d){Dt(e,e.return,d)}}var Mi=!1,jt=!1,pu=!1,$d=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ex(e,i){if(e=e.containerInfo,ku=al,e=uf(e),ho(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var x=0,v=-1,w=-1,N=0,V=0,F=e,k=null;e:for(;;){for(var L;F!==s||c!==0&&F.nodeType!==3||(v=x+c),F!==d||l!==0&&F.nodeType!==3||(w=x+l),F.nodeType===3&&(x+=F.nodeValue.length),(L=F.firstChild)!==null;)k=F,F=L;for(;;){if(F===e)break e;if(k===s&&++N===c&&(v=x),k===d&&++V===l&&(w=x),(L=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=L}s=v===-1||w===-1?null:{start:v,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(Lu={focusedElem:e,selectionRange:s},al=!1,ne=i;ne!==null;)if(i=ne,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,ne=e;else for(;ne!==null;){switch(i=ne,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=i,c=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var ft=Mn(s.type,c,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(ft,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(ct){Dt(s,s.return,ct)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)Vu(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,ne=e;break}ne=i.return}}function Jd(e,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Zi(e,s),l&4&&pa(5,s);break;case 1:if(Zi(e,s),l&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(x){Dt(s,s.return,x)}else{var c=Mn(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(c,i,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Dt(s,s.return,x)}}l&64&&Id(s),l&512&&ma(s,s.return);break;case 3:if(Zi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Uf(e,i)}catch(x){Dt(s,s.return,x)}}break;case 27:i===null&&l&4&&Wd(s);case 26:case 5:Zi(e,s),i===null&&l&4&&Qd(s),l&512&&ma(s,s.return);break;case 12:Zi(e,s);break;case 13:Zi(e,s),l&4&&ip(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Hx.bind(null,s),e_(e,s))));break;case 22:if(l=s.memoizedState!==null||Mi,!l){i=i!==null&&i.memoizedState!==null||jt,c=Mi;var d=jt;Mi=l,(jt=i)&&!d?Qi(e,s,(s.subtreeFlags&8772)!==0):Zi(e,s),Mi=c,jt=d}break;case 30:break;default:Zi(e,s)}}function tp(e){var i=e.alternate;i!==null&&(e.alternate=null,tp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Fl(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Gt=null,be=!1;function Ci(e,i,s){for(s=s.child;s!==null;)ep(e,i,s),s=s.sibling}function ep(e,i,s){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(Ns,s)}catch{}switch(s.tag){case 26:jt||oi(s,i),Ci(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:jt||oi(s,i);var l=Gt,c=be;en(s.type)&&(Gt=s.stateNode,be=!1),Ci(e,i,s),Ta(s.stateNode),Gt=l,be=c;break;case 5:jt||oi(s,i);case 6:if(l=Gt,c=be,Gt=null,Ci(e,i,s),Gt=l,be=c,Gt!==null)if(be)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(s.stateNode)}catch(d){Dt(s,i,d)}else try{Gt.removeChild(s.stateNode)}catch(d){Dt(s,i,d)}break;case 18:Gt!==null&&(be?(e=Gt,Xp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Oa(e)):Xp(Gt,s.stateNode));break;case 4:l=Gt,c=be,Gt=s.stateNode.containerInfo,be=!0,Ci(e,i,s),Gt=l,be=c;break;case 0:case 11:case 14:case 15:jt||Ii(2,s,i),jt||Ii(4,s,i),Ci(e,i,s);break;case 1:jt||(oi(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Zd(s,i,l)),Ci(e,i,s);break;case 21:Ci(e,i,s);break;case 22:jt=(l=jt)||s.memoizedState!==null,Ci(e,i,s),jt=l;break;default:Ci(e,i,s)}}function ip(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oa(e)}catch(s){Dt(i,i.return,s)}}function Rx(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new $d),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new $d),i;default:throw Error(r(435,e.tag))}}function mu(e,i){var s=Rx(e);i.forEach(function(l){var c=kx.bind(null,e,l);s.has(l)||(s.add(l),l.then(c,c))})}function Re(e,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],d=e,x=i,v=x;t:for(;v!==null;){switch(v.tag){case 27:if(en(v.type)){Gt=v.stateNode,be=!1;break t}break;case 5:Gt=v.stateNode,be=!1;break t;case 3:case 4:Gt=v.stateNode.containerInfo,be=!0;break t}v=v.return}if(Gt===null)throw Error(r(160));ep(d,x,c),Gt=null,be=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)np(i,e),i=i.sibling}var $e=null;function np(e,i){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Re(i,e),Be(e),l&4&&(Ii(3,e,e.return),pa(3,e),Ii(5,e,e.return));break;case 1:Re(i,e),Be(e),l&512&&(jt||s===null||oi(s,s.return)),l&64&&Mi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=$e;if(Re(i,e),Be(e),l&512&&(jt||s===null||oi(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Ls]||d[he]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),oe(d,l,s),d[he]=e,ee(d),l=d;break t;case"link":var x=Wp("link","href",c).get(l+(s.href||""));if(x){for(var v=0;v<x.length;v++)if(d=x[v],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){x.splice(v,1);break e}}d=c.createElement(l),oe(d,l,s),c.head.appendChild(d);break;case"meta":if(x=Wp("meta","content",c).get(l+(s.content||""))){for(v=0;v<x.length;v++)if(d=x[v],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){x.splice(v,1);break e}}d=c.createElement(l),oe(d,l,s),c.head.appendChild(d);break;default:throw Error(r(468,l))}d[he]=e,ee(d),l=d}e.stateNode=l}else $p(c,e.type,e.stateNode);else e.stateNode=Kp(c,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?$p(c,e.type,e.stateNode):Kp(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hu(e,e.memoizedProps,s.memoizedProps)}break;case 27:Re(i,e),Be(e),l&512&&(jt||s===null||oi(s,s.return)),s!==null&&l&4&&hu(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Re(i,e),Be(e),l&512&&(jt||s===null||oi(s,s.return)),e.flags&32){c=e.stateNode;try{Fn(c,"")}catch(L){Dt(e,e.return,L)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,hu(e,c,s!==null?s.memoizedProps:c)),l&1024&&(pu=!0);break;case 6:if(Re(i,e),Be(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(L){Dt(e,e.return,L)}}break;case 3:if(il=null,c=$e,$e=tl(i.containerInfo),Re(i,e),$e=c,Be(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Oa(i.containerInfo)}catch(L){Dt(e,e.return,L)}pu&&(pu=!1,sp(e));break;case 4:l=$e,$e=tl(e.stateNode.containerInfo),Re(i,e),Be(e),$e=l;break;case 12:Re(i,e),Be(e);break;case 13:Re(i,e),Be(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(vu=Te()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mu(e,l)));break;case 22:c=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,N=Mi,V=jt;if(Mi=N||c,jt=V||w,Re(i,e),jt=V,Mi=N,Be(e),l&8192)t:for(i=e.stateNode,i._visibility=c?i._visibility&-2:i._visibility|1,c&&(s===null||w||Mi||jt||Cn(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){w=s=i;try{if(d=w.stateNode,c)x=d.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{v=w.stateNode;var F=w.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;v.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(L){Dt(w,w.return,L)}}}else if(i.tag===6){if(s===null){w=i;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(L){Dt(w,w.return,L)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,mu(e,s))));break;case 19:Re(i,e),Be(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mu(e,l)));break;case 30:break;case 21:break;default:Re(i,e),Be(e)}}function Be(e){var i=e.flags;if(i&2){try{for(var s,l=e.return;l!==null;){if(Kd(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,d=fu(e);Yr(e,d,c);break;case 5:var x=s.stateNode;s.flags&32&&(Fn(x,""),s.flags&=-33);var v=fu(e);Yr(e,v,x);break;case 3:case 4:var w=s.stateNode.containerInfo,N=fu(e);du(e,N,w);break;default:throw Error(r(161))}}catch(V){Dt(e,e.return,V)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function sp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;sp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Zi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Jd(e,i.alternate,i),i=i.sibling}function Cn(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ii(4,i,i.return),Cn(i);break;case 1:oi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Zd(i,i.return,s),Cn(i);break;case 27:Ta(i.stateNode);case 26:case 5:oi(i,i.return),Cn(i);break;case 22:i.memoizedState===null&&Cn(i);break;case 30:Cn(i);break;default:Cn(i)}e=e.sibling}}function Qi(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,c=e,d=i,x=d.flags;switch(d.tag){case 0:case 11:case 15:Qi(c,d,s),pa(4,d);break;case 1:if(Qi(c,d,s),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Dt(l,l.return,N)}if(l=d,c=l.updateQueue,c!==null){var v=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Df(w[c],v)}catch(N){Dt(l,l.return,N)}}s&&x&64&&Id(d),ma(d,d.return);break;case 27:Wd(d);case 26:case 5:Qi(c,d,s),s&&l===null&&x&4&&Qd(d),ma(d,d.return);break;case 12:Qi(c,d,s);break;case 13:Qi(c,d,s),s&&x&4&&ip(c,d);break;case 22:d.memoizedState===null&&Qi(c,d,s),ma(d,d.return);break;case 30:break;default:Qi(c,d,s)}i=i.sibling}}function gu(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ta(s))}function yu(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ta(e))}function ui(e,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ap(e,i,s,l),i=i.sibling}function ap(e,i,s,l){var c=i.flags;switch(i.tag){case 0:case 11:case 15:ui(e,i,s,l),c&2048&&pa(9,i);break;case 1:ui(e,i,s,l);break;case 3:ui(e,i,s,l),c&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ta(e)));break;case 12:if(c&2048){ui(e,i,s,l),e=i.stateNode;try{var d=i.memoizedProps,x=d.id,v=d.onPostCommit;typeof v=="function"&&v(x,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Dt(i,i.return,w)}}else ui(e,i,s,l);break;case 13:ui(e,i,s,l);break;case 23:break;case 22:d=i.stateNode,x=i.alternate,i.memoizedState!==null?d._visibility&2?ui(e,i,s,l):ga(e,i):d._visibility&2?ui(e,i,s,l):(d._visibility|=2,hs(e,i,s,l,(i.subtreeFlags&10256)!==0)),c&2048&&gu(x,i);break;case 24:ui(e,i,s,l),c&2048&&yu(i.alternate,i);break;default:ui(e,i,s,l)}}function hs(e,i,s,l,c){for(c=c&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,x=i,v=s,w=l,N=x.flags;switch(x.tag){case 0:case 11:case 15:hs(d,x,v,w,c),pa(8,x);break;case 23:break;case 22:var V=x.stateNode;x.memoizedState!==null?V._visibility&2?hs(d,x,v,w,c):ga(d,x):(V._visibility|=2,hs(d,x,v,w,c)),c&&N&2048&&gu(x.alternate,x);break;case 24:hs(d,x,v,w,c),c&&N&2048&&yu(x.alternate,x);break;default:hs(d,x,v,w,c)}i=i.sibling}}function ga(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,l=i,c=l.flags;switch(l.tag){case 22:ga(s,l),c&2048&&gu(l.alternate,l);break;case 24:ga(s,l),c&2048&&yu(l.alternate,l);break;default:ga(s,l)}i=i.sibling}}var ya=8192;function fs(e){if(e.subtreeFlags&ya)for(e=e.child;e!==null;)rp(e),e=e.sibling}function rp(e){switch(e.tag){case 26:fs(e),e.flags&ya&&e.memoizedState!==null&&p_($e,e.memoizedState,e.memoizedProps);break;case 5:fs(e);break;case 3:case 4:var i=$e;$e=tl(e.stateNode.containerInfo),fs(e),$e=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ya,ya=16777216,fs(e),ya=i):fs(e));break;default:fs(e)}}function lp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function xa(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];ne=l,up(l,e)}lp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)op(e),e=e.sibling}function op(e){switch(e.tag){case 0:case 11:case 15:xa(e),e.flags&2048&&Ii(9,e,e.return);break;case 3:xa(e);break;case 12:xa(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Vr(e)):xa(e);break;default:xa(e)}}function Vr(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];ne=l,up(l,e)}lp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ii(8,i,i.return),Vr(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Vr(i));break;default:Vr(i)}e=e.sibling}}function up(e,i){for(;ne!==null;){var s=ne;switch(s.tag){case 0:case 11:case 15:Ii(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ta(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ne=l;else t:for(s=e;ne!==null;){l=ne;var c=l.sibling,d=l.return;if(tp(l),l===s){ne=null;break t}if(c!==null){c.return=d,ne=c;break t}ne=d}}}var Bx={getCacheForType:function(e){var i=fe(Jt),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s}},zx=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Ut=null,yt=null,bt=0,Et=0,ze=null,Ki=!1,ds=!1,xu=!1,Ei=0,Pt=0,Wi=0,En=0,_u=0,qe=0,ps=0,_a=null,ve=null,bu=!1,vu=0,Xr=1/0,qr=null,$i=null,le=0,Ji=null,ms=null,gs=0,Su=0,Au=null,cp=null,ba=0,Tu=null;function Oe(){if((Ct&2)!==0&&bt!==0)return bt&-bt;if(T.T!==null){var e=ns;return e!==0?e:zu()}return wh()}function hp(){qe===0&&(qe=(bt&536870912)===0||Tt?vh():536870912);var e=Xe.current;return e!==null&&(e.flags|=32),qe}function De(e,i,s){(e===Ut&&(Et===2||Et===9)||e.cancelPendingCommit!==null)&&(ys(e,0),tn(e,bt,qe,!1)),ks(e,s),((Ct&2)===0||e!==Ut)&&(e===Ut&&((Ct&2)===0&&(En|=s),Pt===4&&tn(e,bt,qe,!1)),ci(e))}function fp(e,i,s){if((Ct&6)!==0)throw Error(r(327));var l=!s&&(i&124)===0&&(i&e.expiredLanes)===0||Hs(e,i),c=l?Ux(e,i):Cu(e,i,!0),d=l;do{if(c===0){ds&&!l&&tn(e,i,0,!1);break}else{if(s=e.current.alternate,d&&!Ox(s)){c=Cu(e,i,!1),d=!1;continue}if(c===2){if(d=i,e.errorRecoveryDisabledLanes&d)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;t:{var v=e;c=_a;var w=v.current.memoizedState.isDehydrated;if(w&&(ys(v,x).flags|=256),x=Cu(v,x,!1),x!==2){if(xu&&!w){v.errorRecoveryDisabledLanes|=d,En|=d,c=4;break t}d=ve,ve=c,d!==null&&(ve===null?ve=d:ve.push.apply(ve,d))}c=x}if(d=!1,c!==2)continue}}if(c===1){ys(e,0),tn(e,i,0,!0);break}t:{switch(l=e,d=c,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:tn(l,i,qe,!Ki);break t;case 2:ve=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(c=vu+300-Te(),10<c)){if(tn(l,i,qe,!Ki),er(l,0,!0)!==0)break t;l.timeoutHandle=Yp(dp.bind(null,l,s,ve,qr,bu,i,qe,En,ps,Ki,d,2,-0,0),c);break t}dp(l,s,ve,qr,bu,i,qe,En,ps,Ki,d,0,-0,0)}}break}while(!0);ci(e)}function dp(e,i,s,l,c,d,x,v,w,N,V,F,k,L){if(e.timeoutHandle=-1,F=i.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Ca={stylesheets:null,count:0,unsuspend:d_},rp(i),F=m_(),F!==null)){e.cancelPendingCommit=F(bp.bind(null,e,i,d,s,l,c,x,v,w,V,1,k,L)),tn(e,d,x,!N);return}bp(e,i,d,s,l,c,x,v,w)}function Ox(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],d=c.getSnapshot;c=c.value;try{if(!Ce(d(),c))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function tn(e,i,s,l){i&=~_u,i&=~En,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var c=i;0<c;){var d=31-Me(c),x=1<<d;l[d]=-1,c&=~x}s!==0&&Ah(e,s,i)}function jr(){return(Ct&6)===0?(va(0),!1):!0}function wu(){if(yt!==null){if(Et===0)var e=yt.return;else e=yt,bi=Sn=null,Vo(e),us=null,ha=0,e=yt;for(;e!==null;)Fd(e.alternate,e),e=e.return;yt=null}}function ys(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Kx(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),wu(),Ut=e,yt=s=yi(e.current,null),bt=i,Et=0,ze=null,Ki=!1,ds=Hs(e,i),xu=!1,ps=qe=_u=En=Wi=Pt=0,ve=_a=null,bu=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var c=31-Me(l),d=1<<c;i|=e[c],l&=~d}return Ei=i,dr(),s}function pp(e,i){mt=null,T.H=Or,i===ia||i===Sr?(i=zf(),Et=3):i===Ef?(i=zf(),Et=4):Et=i===Od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ze=i,yt===null&&(Pt=1,Hr(e,Le(i,e.current)))}function mp(){var e=T.H;return T.H=Or,e===null?Or:e}function gp(){var e=T.A;return T.A=Bx,e}function Mu(){Pt=4,Ki||(bt&4194048)!==bt&&Xe.current!==null||(ds=!0),(Wi&134217727)===0&&(En&134217727)===0||Ut===null||tn(Ut,bt,qe,!1)}function Cu(e,i,s){var l=Ct;Ct|=2;var c=mp(),d=gp();(Ut!==e||bt!==i)&&(qr=null,ys(e,i)),i=!1;var x=Pt;t:do try{if(Et!==0&&yt!==null){var v=yt,w=ze;switch(Et){case 8:wu(),x=6;break t;case 3:case 2:case 9:case 6:Xe.current===null&&(i=!0);var N=Et;if(Et=0,ze=null,xs(e,v,w,N),s&&ds){x=0;break t}break;default:N=Et,Et=0,ze=null,xs(e,v,w,N)}}Dx(),x=Pt;break}catch(V){pp(e,V)}while(!0);return i&&e.shellSuspendCounter++,bi=Sn=null,Ct=l,T.H=c,T.A=d,yt===null&&(Ut=null,bt=0,dr()),x}function Dx(){for(;yt!==null;)yp(yt)}function Ux(e,i){var s=Ct;Ct|=2;var l=mp(),c=gp();Ut!==e||bt!==i?(qr=null,Xr=Te()+500,ys(e,i)):ds=Hs(e,i);t:do try{if(Et!==0&&yt!==null){i=yt;var d=ze;e:switch(Et){case 1:Et=0,ze=null,xs(e,i,d,1);break;case 2:case 9:if(Rf(d)){Et=0,ze=null,xp(i);break}i=function(){Et!==2&&Et!==9||Ut!==e||(Et=7),ci(e)},d.then(i,i);break t;case 3:Et=7;break t;case 4:Et=5;break t;case 7:Rf(d)?(Et=0,ze=null,xp(i)):(Et=0,ze=null,xs(e,i,d,7));break;case 5:var x=null;switch(yt.tag){case 26:x=yt.memoizedState;case 5:case 27:var v=yt;if(!x||Jp(x)){Et=0,ze=null;var w=v.sibling;if(w!==null)yt=w;else{var N=v.return;N!==null?(yt=N,Fr(N)):yt=null}break e}}Et=0,ze=null,xs(e,i,d,5);break;case 6:Et=0,ze=null,xs(e,i,d,6);break;case 8:wu(),Pt=6;break t;default:throw Error(r(462))}}Gx();break}catch(V){pp(e,V)}while(!0);return bi=Sn=null,T.H=l,T.A=c,Ct=s,yt!==null?0:(Ut=null,bt=0,dr(),Pt)}function Gx(){for(;yt!==null&&!pi();)yp(yt)}function yp(e){var i=qd(e.alternate,e,Ei);e.memoizedProps=e.pendingProps,i===null?Fr(e):yt=i}function xp(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=kd(s,i,i.pendingProps,i.type,void 0,bt);break;case 11:i=kd(s,i,i.pendingProps,i.type.render,i.ref,bt);break;case 5:Vo(i);default:Fd(s,i),i=yt=_f(i,Ei),i=qd(s,i,Ei)}e.memoizedProps=e.pendingProps,i===null?Fr(e):yt=i}function xs(e,i,s,l){bi=Sn=null,Vo(i),us=null,ha=0;var c=i.return;try{if(Tx(e,c,i,s,bt)){Pt=1,Hr(e,Le(s,e.current)),yt=null;return}}catch(d){if(c!==null)throw yt=c,d;Pt=1,Hr(e,Le(s,e.current)),yt=null;return}i.flags&32768?(Tt||l===1?e=!0:ds||(bt&536870912)!==0?e=!1:(Ki=e=!0,(l===2||l===9||l===3||l===6)&&(l=Xe.current,l!==null&&l.tag===13&&(l.flags|=16384))),_p(i,e)):Fr(i)}function Fr(e){var i=e;do{if((i.flags&32768)!==0){_p(i,Ki);return}e=i.return;var s=Mx(i.alternate,i,Ei);if(s!==null){yt=s;return}if(i=i.sibling,i!==null){yt=i;return}yt=i=e}while(i!==null);Pt===0&&(Pt=5)}function _p(e,i){do{var s=Cx(e.alternate,e);if(s!==null){s.flags&=32767,yt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){yt=e;return}yt=e=s}while(e!==null);Pt=6,yt=null}function bp(e,i,s,l,c,d,x,v,w){e.cancelPendingCommit=null;do Ir();while(le!==0);if((Ct&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=yo,d0(e,s,d,x,v,w),e===Ut&&(yt=Ut=null,bt=0),ms=i,Ji=e,gs=s,Su=d,Au=c,cp=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Lx($a,function(){return wp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=T.T,T.T=null,c=Y.p,Y.p=2,x=Ct,Ct|=4;try{Ex(e,i,s)}finally{Ct=x,Y.p=c,T.T=l}}le=1,vp(),Sp(),Ap()}}function vp(){if(le===1){le=0;var e=Ji,i=ms,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=T.T,T.T=null;var l=Y.p;Y.p=2;var c=Ct;Ct|=4;try{np(i,e);var d=Lu,x=uf(e.containerInfo),v=d.focusedElem,w=d.selectionRange;if(x!==v&&v&&v.ownerDocument&&of(v.ownerDocument.documentElement,v)){if(w!==null&&ho(v)){var N=w.start,V=w.end;if(V===void 0&&(V=N),"selectionStart"in v)v.selectionStart=N,v.selectionEnd=Math.min(V,v.value.length);else{var F=v.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var L=k.getSelection(),ft=v.textContent.length,ct=Math.min(w.start,ft),zt=w.end===void 0?ct:Math.min(w.end,ft);!L.extend&&ct>zt&&(x=zt,zt=ct,ct=x);var z=lf(v,ct),E=lf(v,zt);if(z&&E&&(L.rangeCount!==1||L.anchorNode!==z.node||L.anchorOffset!==z.offset||L.focusNode!==E.node||L.focusOffset!==E.offset)){var G=F.createRange();G.setStart(z.node,z.offset),L.removeAllRanges(),ct>zt?(L.addRange(G),L.extend(E.node,E.offset)):(G.setEnd(E.node,E.offset),L.addRange(G))}}}}for(F=[],L=v;L=L.parentNode;)L.nodeType===1&&F.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<F.length;v++){var q=F[v];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}al=!!ku,Lu=ku=null}finally{Ct=c,Y.p=l,T.T=s}}e.current=i,le=2}}function Sp(){if(le===2){le=0;var e=Ji,i=ms,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=T.T,T.T=null;var l=Y.p;Y.p=2;var c=Ct;Ct|=4;try{Jd(e,i.alternate,i)}finally{Ct=c,Y.p=l,T.T=s}}le=3}}function Ap(){if(le===4||le===3){le=0,Ll();var e=Ji,i=ms,s=gs,l=cp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?le=5:(le=0,ms=Ji=null,Tp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&($i=null),ql(s),i=i.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(Ns,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=T.T,c=Y.p,Y.p=2,T.T=null;try{for(var d=e.onRecoverableError,x=0;x<l.length;x++){var v=l[x];d(v.value,{componentStack:v.stack})}}finally{T.T=i,Y.p=c}}(gs&3)!==0&&Ir(),ci(e),c=e.pendingLanes,(s&4194090)!==0&&(c&42)!==0?e===Tu?ba++:(ba=0,Tu=e):ba=0,va(0)}}function Tp(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ta(i)))}function Ir(e){return vp(),Sp(),Ap(),wp()}function wp(){if(le!==5)return!1;var e=Ji,i=Su;Su=0;var s=ql(gs),l=T.T,c=Y.p;try{Y.p=32>s?32:s,T.T=null,s=Au,Au=null;var d=Ji,x=gs;if(le=0,ms=Ji=null,gs=0,(Ct&6)!==0)throw Error(r(331));var v=Ct;if(Ct|=4,op(d.current),ap(d,d.current,x,s),Ct=v,va(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(Ns,d)}catch{}return!0}finally{Y.p=c,T.T=l,Tp(e,i)}}function Mp(e,i,s){i=Le(s,i),i=iu(e.stateNode,i,2),e=Xi(e,i,2),e!==null&&(ks(e,2),ci(e))}function Dt(e,i,s){if(e.tag===3)Mp(e,e,s);else for(;i!==null;){if(i.tag===3){Mp(i,e,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){e=Le(s,e),s=Bd(2),l=Xi(i,s,2),l!==null&&(zd(s,l,i,e),ks(l,2),ci(l));break}}i=i.return}}function Eu(e,i,s){var l=e.pingCache;if(l===null){l=e.pingCache=new zx;var c=new Set;l.set(i,c)}else c=l.get(i),c===void 0&&(c=new Set,l.set(i,c));c.has(s)||(xu=!0,c.add(s),e=Nx.bind(null,e,i,s),i.then(e,e))}function Nx(e,i,s){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ut===e&&(bt&s)===s&&(Pt===4||Pt===3&&(bt&62914560)===bt&&300>Te()-vu?(Ct&2)===0&&ys(e,0):_u|=s,ps===bt&&(ps=0)),ci(e)}function Cp(e,i){i===0&&(i=Sh()),e=Jn(e,i),e!==null&&(ks(e,i),ci(e))}function Hx(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Cp(e,s)}function kx(e,i){var s=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Cp(e,s)}function Lx(e,i){return Qe(e,i)}var Zr=null,_s=null,Ru=!1,Qr=!1,Bu=!1,Rn=0;function ci(e){e!==_s&&e.next===null&&(_s===null?Zr=_s=e:_s=_s.next=e),Qr=!0,Ru||(Ru=!0,Yx())}function va(e,i){if(!Bu&&Qr){Bu=!0;do for(var s=!1,l=Zr;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var x=l.suspendedLanes,v=l.pingedLanes;d=(1<<31-Me(42|e)+1)-1,d&=c&~(x&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,zp(l,d))}else d=bt,d=er(l,l===Ut?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hs(l,d)||(s=!0,zp(l,d));l=l.next}while(s);Bu=!1}}function Px(){Ep()}function Ep(){Qr=Ru=!1;var e=0;Rn!==0&&(Qx()&&(e=Rn),Rn=0);for(var i=Te(),s=null,l=Zr;l!==null;){var c=l.next,d=Rp(l,i);d===0?(l.next=null,s===null?Zr=c:s.next=c,c===null&&(_s=s)):(s=l,(e!==0||(d&3)!==0)&&(Qr=!0)),l=c}va(e)}function Rp(e,i){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var x=31-Me(d),v=1<<x,w=c[x];w===-1?((v&s)===0||(v&l)!==0)&&(c[x]=f0(v,i)):w<=i&&(e.expiredLanes|=v),d&=~v}if(i=Ut,s=bt,s=er(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===i&&(Et===2||Et===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ke(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Hs(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(l!==null&&Ke(l),ql(s)){case 2:case 8:s=_h;break;case 32:s=$a;break;case 268435456:s=bh;break;default:s=$a}return l=Bp.bind(null,e),s=Qe(s,l),e.callbackPriority=i,e.callbackNode=s,i}return l!==null&&l!==null&&Ke(l),e.callbackPriority=2,e.callbackNode=null,2}function Bp(e,i){if(le!==0&&le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ir()&&e.callbackNode!==s)return null;var l=bt;return l=er(e,e===Ut?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(fp(e,l,i),Rp(e,Te()),e.callbackNode!=null&&e.callbackNode===s?Bp.bind(null,e):null)}function zp(e,i){if(Ir())return null;fp(e,i,!0)}function Yx(){Wx(function(){(Ct&6)!==0?Qe(Yl,Px):Ep()})}function zu(){return Rn===0&&(Rn=vh()),Rn}function Op(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rr(""+e)}function Dp(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function Vx(e,i,s,l,c){if(i==="submit"&&s&&s.stateNode===c){var d=Op((c[ye]||null).action),x=l.submitter;x&&(i=(i=x[ye]||null)?Op(i.formAction):x.getAttribute("formAction"),i!==null&&(d=i,x=null));var v=new cr("action","action",null,l,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rn!==0){var w=x?Dp(c,x):new FormData(c);Wo(s,{pending:!0,data:w,method:c.method,action:d},null,w)}}else typeof d=="function"&&(v.preventDefault(),w=x?Dp(c,x):new FormData(c),Wo(s,{pending:!0,data:w,method:c.method,action:d},d,w))},currentTarget:c}]})}}for(var Ou=0;Ou<go.length;Ou++){var Du=go[Ou],Xx=Du.toLowerCase(),qx=Du[0].toUpperCase()+Du.slice(1);We(Xx,"on"+qx)}We(ff,"onAnimationEnd"),We(df,"onAnimationIteration"),We(pf,"onAnimationStart"),We("dblclick","onDoubleClick"),We("focusin","onFocus"),We("focusout","onBlur"),We(lx,"onTransitionRun"),We(ox,"onTransitionStart"),We(ux,"onTransitionCancel"),We(mf,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sa));function Up(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var x=l.length-1;0<=x;x--){var v=l[x],w=v.instance,N=v.currentTarget;if(v=v.listener,w!==d&&c.isPropagationStopped())break t;d=v,c.currentTarget=N;try{d(c)}catch(V){Nr(V)}c.currentTarget=null,d=w}else for(x=0;x<l.length;x++){if(v=l[x],w=v.instance,N=v.currentTarget,v=v.listener,w!==d&&c.isPropagationStopped())break t;d=v,c.currentTarget=N;try{d(c)}catch(V){Nr(V)}c.currentTarget=null,d=w}}}}function xt(e,i){var s=i[jl];s===void 0&&(s=i[jl]=new Set);var l=e+"__bubble";s.has(l)||(Gp(i,e,2,!1),s.add(l))}function Uu(e,i,s){var l=0;i&&(l|=4),Gp(s,e,l,i)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function Gu(e){if(!e[Kr]){e[Kr]=!0,Ch.forEach(function(s){s!=="selectionchange"&&(jx.has(s)||Uu(s,!1,e),Uu(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Kr]||(i[Kr]=!0,Uu("selectionchange",!1,i))}}function Gp(e,i,s,l){switch(am(i)){case 2:var c=x_;break;case 8:c=__;break;default:c=Qu}s=c.bind(null,i,s,e),c=void 0,!io||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(i,s,{capture:!0,passive:c}):e.addEventListener(i,s,!0):c!==void 0?e.addEventListener(i,s,{passive:c}):e.addEventListener(i,s,!1)}function Nu(e,i,s,l,c){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var v=l.stateNode.containerInfo;if(v===c)break;if(x===4)for(x=l.return;x!==null;){var w=x.tag;if((w===3||w===4)&&x.stateNode.containerInfo===c)return;x=x.return}for(;v!==null;){if(x=Pn(v),x===null)return;if(w=x.tag,w===5||w===6||w===26||w===27){l=d=x;continue t}v=v.parentNode}}l=l.return}Yh(function(){var N=d,V=to(s),F=[];t:{var k=gf.get(e);if(k!==void 0){var L=cr,ft=e;switch(e){case"keypress":if(or(s)===0)break t;case"keydown":case"keyup":L=L0;break;case"focusin":ft="focus",L=ro;break;case"focusout":ft="blur",L=ro;break;case"beforeblur":case"afterblur":L=ro;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=V0;break;case ff:case df:case pf:L=B0;break;case mf:L=q0;break;case"scroll":case"scrollend":L=w0;break;case"wheel":L=F0;break;case"copy":case"cut":case"paste":L=O0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Fh;break;case"toggle":case"beforetoggle":L=Z0}var ct=(i&4)!==0,zt=!ct&&(e==="scroll"||e==="scrollend"),z=ct?k!==null?k+"Capture":null:k;ct=[];for(var E=N,G;E!==null;){var q=E;if(G=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||G===null||z===null||(q=Ys(E,z),q!=null&&ct.push(Aa(E,q,G))),zt)break;E=E.return}0<ct.length&&(k=new L(k,ft,null,s,V),F.push({event:k,listeners:ct}))}}if((i&7)===0){t:{if(k=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",k&&s!==Jl&&(ft=s.relatedTarget||s.fromElement)&&(Pn(ft)||ft[Ln]))break t;if((L||k)&&(k=V.window===V?V:(k=V.ownerDocument)?k.defaultView||k.parentWindow:window,L?(ft=s.relatedTarget||s.toElement,L=N,ft=ft?Pn(ft):null,ft!==null&&(zt=u(ft),ct=ft.tag,ft!==zt||ct!==5&&ct!==27&&ct!==6)&&(ft=null)):(L=null,ft=N),L!==ft)){if(ct=qh,q="onMouseLeave",z="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ct=Fh,q="onPointerLeave",z="onPointerEnter",E="pointer"),zt=L==null?k:Ps(L),G=ft==null?k:Ps(ft),k=new ct(q,E+"leave",L,s,V),k.target=zt,k.relatedTarget=G,q=null,Pn(V)===N&&(ct=new ct(z,E+"enter",ft,s,V),ct.target=G,ct.relatedTarget=zt,q=ct),zt=q,L&&ft)e:{for(ct=L,z=ft,E=0,G=ct;G;G=bs(G))E++;for(G=0,q=z;q;q=bs(q))G++;for(;0<E-G;)ct=bs(ct),E--;for(;0<G-E;)z=bs(z),G--;for(;E--;){if(ct===z||z!==null&&ct===z.alternate)break e;ct=bs(ct),z=bs(z)}ct=null}else ct=null;L!==null&&Np(F,k,L,ct,!1),ft!==null&&zt!==null&&Np(F,zt,ft,ct,!0)}}t:{if(k=N?Ps(N):window,L=k.nodeName&&k.nodeName.toLowerCase(),L==="select"||L==="input"&&k.type==="file")var it=tf;else if($h(k))if(ef)it=sx;else{it=ix;var gt=ex}else L=k.nodeName,!L||L.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?N&&$l(N.elementType)&&(it=tf):it=nx;if(it&&(it=it(e,N))){Jh(F,it,s,V);break t}gt&&gt(e,k,N),e==="focusout"&&N&&k.type==="number"&&N.memoizedProps.value!=null&&Wl(k,"number",k.value)}switch(gt=N?Ps(N):window,e){case"focusin":($h(gt)||gt.contentEditable==="true")&&(Kn=gt,fo=N,Qs=null);break;case"focusout":Qs=fo=Kn=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,cf(F,s,V);break;case"selectionchange":if(rx)break;case"keydown":case"keyup":cf(F,s,V)}var lt;if(oo)t:{switch(e){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Qn?Kh(e,s)&&(ht="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ht="onCompositionStart");ht&&(Ih&&s.locale!=="ko"&&(Qn||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Qn&&(lt=Vh()):(Li=V,no="value"in Li?Li.value:Li.textContent,Qn=!0)),gt=Wr(N,ht),0<gt.length&&(ht=new jh(ht,e,null,s,V),F.push({event:ht,listeners:gt}),lt?ht.data=lt:(lt=Wh(s),lt!==null&&(ht.data=lt)))),(lt=K0?W0(e,s):$0(e,s))&&(ht=Wr(N,"onBeforeInput"),0<ht.length&&(gt=new jh("onBeforeInput","beforeinput",null,s,V),F.push({event:gt,listeners:ht}),gt.data=lt)),Vx(F,e,N,s,V)}Up(F,i)})}function Aa(e,i,s){return{instance:e,listener:i,currentTarget:s}}function Wr(e,i){for(var s=i+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Ys(e,s),c!=null&&l.unshift(Aa(e,c,d)),c=Ys(e,i),c!=null&&l.push(Aa(e,c,d))),e.tag===3)return l;e=e.return}return[]}function bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Np(e,i,s,l,c){for(var d=i._reactName,x=[];s!==null&&s!==l;){var v=s,w=v.alternate,N=v.stateNode;if(v=v.tag,w!==null&&w===l)break;v!==5&&v!==26&&v!==27||N===null||(w=N,c?(N=Ys(s,d),N!=null&&x.unshift(Aa(s,N,w))):c||(N=Ys(s,d),N!=null&&x.push(Aa(s,N,w)))),s=s.return}x.length!==0&&e.push({event:i,listeners:x})}var Fx=/\r\n?/g,Ix=/\u0000|\uFFFD/g;function Hp(e){return(typeof e=="string"?e:""+e).replace(Fx,`
`).replace(Ix,"")}function kp(e,i){return i=Hp(i),Hp(e)===i}function $r(){}function Bt(e,i,s,l,c,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Fn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Fn(e,""+l);break;case"className":nr(e,"class",l);break;case"tabIndex":nr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(e,s,l);break;case"style":Lh(e,l,d);break;case"data":if(i!=="object"){nr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=rr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Bt(e,i,"name",c.name,c,null),Bt(e,i,"formEncType",c.formEncType,c,null),Bt(e,i,"formMethod",c.formMethod,c,null),Bt(e,i,"formTarget",c.formTarget,c,null)):(Bt(e,i,"encType",c.encType,c,null),Bt(e,i,"method",c.method,c,null),Bt(e,i,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=rr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=$r);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=rr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ir(e,"popover",l);break;case"xlinkActuate":mi(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mi(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mi(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mi(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mi(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mi(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mi(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=A0.get(s)||s,ir(e,s,l))}}function Hu(e,i,s,l,c,d){switch(s){case"style":Lh(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Fn(e,l):(typeof l=="number"||typeof l=="bigint")&&Fn(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eh.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),i=s.slice(2,c?s.length-7:void 0),d=e[ye]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(i,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,l,c);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ir(e,s,l)}}}function oe(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,c=!1,d;for(d in s)if(s.hasOwnProperty(d)){var x=s[d];if(x!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Bt(e,i,d,x,s,null)}}c&&Bt(e,i,"srcSet",s.srcSet,s,null),l&&Bt(e,i,"src",s.src,s,null);return;case"input":xt("invalid",e);var v=d=x=c=null,w=null,N=null;for(l in s)if(s.hasOwnProperty(l)){var V=s[l];if(V!=null)switch(l){case"name":c=V;break;case"type":x=V;break;case"checked":w=V;break;case"defaultChecked":N=V;break;case"value":d=V;break;case"defaultValue":v=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,i));break;default:Bt(e,i,l,V,s,null)}}Gh(e,d,v,w,N,x,c,!1),sr(e);return;case"select":xt("invalid",e),l=x=d=null;for(c in s)if(s.hasOwnProperty(c)&&(v=s[c],v!=null))switch(c){case"value":d=v;break;case"defaultValue":x=v;break;case"multiple":l=v;default:Bt(e,i,c,v,s,null)}i=d,s=x,e.multiple=!!l,i!=null?jn(e,!!l,i,!1):s!=null&&jn(e,!!l,s,!0);return;case"textarea":xt("invalid",e),d=c=l=null;for(x in s)if(s.hasOwnProperty(x)&&(v=s[x],v!=null))switch(x){case"value":l=v;break;case"defaultValue":c=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Bt(e,i,x,v,s,null)}Hh(e,l,c,d),sr(e);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(l=s[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Bt(e,i,w,l,s,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<Sa.length;l++)xt(Sa[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Bt(e,i,N,l,s,null)}return;default:if($l(i)){for(V in s)s.hasOwnProperty(V)&&(l=s[V],l!==void 0&&Hu(e,i,V,l,s,void 0));return}}for(v in s)s.hasOwnProperty(v)&&(l=s[v],l!=null&&Bt(e,i,v,l,s,null))}function Zx(e,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,x=null,v=null,w=null,N=null,V=null;for(L in s){var F=s[L];if(s.hasOwnProperty(L)&&F!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":w=F;default:l.hasOwnProperty(L)||Bt(e,i,L,null,l,F)}}for(var k in l){var L=l[k];if(F=s[k],l.hasOwnProperty(k)&&(L!=null||F!=null))switch(k){case"type":d=L;break;case"name":c=L;break;case"checked":N=L;break;case"defaultChecked":V=L;break;case"value":x=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,i));break;default:L!==F&&Bt(e,i,k,L,l,F)}}Kl(e,x,v,w,N,V,d,c);return;case"select":L=x=v=k=null;for(d in s)if(w=s[d],s.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":L=w;default:l.hasOwnProperty(d)||Bt(e,i,d,null,l,w)}for(c in l)if(d=l[c],w=s[c],l.hasOwnProperty(c)&&(d!=null||w!=null))switch(c){case"value":k=d;break;case"defaultValue":v=d;break;case"multiple":x=d;default:d!==w&&Bt(e,i,c,d,l,w)}i=v,s=x,l=L,k!=null?jn(e,!!s,k,!1):!!l!=!!s&&(i!=null?jn(e,!!s,i,!0):jn(e,!!s,s?[]:"",!1));return;case"textarea":L=k=null;for(v in s)if(c=s[v],s.hasOwnProperty(v)&&c!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Bt(e,i,v,null,l,c)}for(x in l)if(c=l[x],d=s[x],l.hasOwnProperty(x)&&(c!=null||d!=null))switch(x){case"value":k=c;break;case"defaultValue":L=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==d&&Bt(e,i,x,c,l,d)}Nh(e,k,L);return;case"option":for(var ft in s)if(k=s[ft],s.hasOwnProperty(ft)&&k!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":e.selected=!1;break;default:Bt(e,i,ft,null,l,k)}for(w in l)if(k=l[w],L=s[w],l.hasOwnProperty(w)&&k!==L&&(k!=null||L!=null))switch(w){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Bt(e,i,w,k,l,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in s)k=s[ct],s.hasOwnProperty(ct)&&k!=null&&!l.hasOwnProperty(ct)&&Bt(e,i,ct,null,l,k);for(N in l)if(k=l[N],L=s[N],l.hasOwnProperty(N)&&k!==L&&(k!=null||L!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,i));break;default:Bt(e,i,N,k,l,L)}return;default:if($l(i)){for(var zt in s)k=s[zt],s.hasOwnProperty(zt)&&k!==void 0&&!l.hasOwnProperty(zt)&&Hu(e,i,zt,void 0,l,k);for(V in l)k=l[V],L=s[V],!l.hasOwnProperty(V)||k===L||k===void 0&&L===void 0||Hu(e,i,V,k,l,L);return}}for(var z in s)k=s[z],s.hasOwnProperty(z)&&k!=null&&!l.hasOwnProperty(z)&&Bt(e,i,z,null,l,k);for(F in l)k=l[F],L=s[F],!l.hasOwnProperty(F)||k===L||k==null&&L==null||Bt(e,i,F,k,l,L)}var ku=null,Lu=null;function Jr(e){return e.nodeType===9?e:e.ownerDocument}function Lp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pp(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Pu(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yu=null;function Qx(){var e=window.event;return e&&e.type==="popstate"?e===Yu?!1:(Yu=e,!0):(Yu=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,Kx=typeof clearTimeout=="function"?clearTimeout:void 0,Vp=typeof Promise=="function"?Promise:void 0,Wx=typeof queueMicrotask=="function"?queueMicrotask:typeof Vp<"u"?function(e){return Vp.resolve(null).then(e).catch($x)}:Yp;function $x(e){setTimeout(function(){throw e})}function en(e){return e==="head"}function Xp(e,i){var s=i,l=0,c=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var x=e.ownerDocument;if(s&1&&Ta(x.documentElement),s&2&&Ta(x.body),s&4)for(s=x.head,Ta(s),x=s.firstChild;x;){var v=x.nextSibling,w=x.nodeName;x[Ls]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&x.rel.toLowerCase()==="stylesheet"||s.removeChild(x),x=v}}if(c===0){e.removeChild(d),Oa(i);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Oa(i)}function Vu(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Vu(s),Fl(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Jx(e,i,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ls])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Je(e.nextSibling),e===null)break}return null}function t_(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Je(e.nextSibling),e===null))return null;return e}function Xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function e_(e,i){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Je(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var qu=null;function qp(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}function jp(e,i,s){switch(i=Jr(s),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ta(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Fl(e)}var je=new Map,Fp=new Set;function tl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ri=Y.d;Y.d={f:i_,r:n_,D:s_,C:a_,L:r_,m:l_,X:u_,S:o_,M:c_};function i_(){var e=Ri.f(),i=jr();return e||i}function n_(e){var i=Yn(e);i!==null&&i.tag===5&&i.type==="form"?fd(i):Ri.r(e)}var vs=typeof document>"u"?null:document;function Ip(e,i,s){var l=vs;if(l&&typeof i=="string"&&i){var c=ke(i);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Fp.has(c)||(Fp.add(c),e={rel:e,crossOrigin:s,href:i},l.querySelector(c)===null&&(i=l.createElement("link"),oe(i,"link",e),ee(i),l.head.appendChild(i)))}}function s_(e){Ri.D(e),Ip("dns-prefetch",e,null)}function a_(e,i){Ri.C(e,i),Ip("preconnect",e,i)}function r_(e,i,s){Ri.L(e,i,s);var l=vs;if(l&&e&&i){var c='link[rel="preload"][as="'+ke(i)+'"]';i==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+ke(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+ke(s.imageSizes)+'"]')):c+='[href="'+ke(e)+'"]';var d=c;switch(i){case"style":d=Ss(e);break;case"script":d=As(e)}je.has(d)||(e=g({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),je.set(d,e),l.querySelector(c)!==null||i==="style"&&l.querySelector(wa(d))||i==="script"&&l.querySelector(Ma(d))||(i=l.createElement("link"),oe(i,"link",e),ee(i),l.head.appendChild(i)))}}function l_(e,i){Ri.m(e,i);var s=vs;if(s&&e){var l=i&&typeof i.as=="string"?i.as:"script",c='link[rel="modulepreload"][as="'+ke(l)+'"][href="'+ke(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=As(e)}if(!je.has(d)&&(e=g({rel:"modulepreload",href:e},i),je.set(d,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ma(d)))return}l=s.createElement("link"),oe(l,"link",e),ee(l),s.head.appendChild(l)}}}function o_(e,i,s){Ri.S(e,i,s);var l=vs;if(l&&e){var c=Vn(l).hoistableStyles,d=Ss(e);i=i||"default";var x=c.get(d);if(!x){var v={loading:0,preload:null};if(x=l.querySelector(wa(d)))v.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":i},s),(s=je.get(d))&&ju(e,s);var w=x=l.createElement("link");ee(w),oe(w,"link",e),w._p=new Promise(function(N,V){w.onload=N,w.onerror=V}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,el(x,i,l)}x={type:"stylesheet",instance:x,count:1,state:v},c.set(d,x)}}}function u_(e,i){Ri.X(e,i);var s=vs;if(s&&e){var l=Vn(s).hoistableScripts,c=As(e),d=l.get(c);d||(d=s.querySelector(Ma(c)),d||(e=g({src:e,async:!0},i),(i=je.get(c))&&Fu(e,i),d=s.createElement("script"),ee(d),oe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function c_(e,i){Ri.M(e,i);var s=vs;if(s&&e){var l=Vn(s).hoistableScripts,c=As(e),d=l.get(c);d||(d=s.querySelector(Ma(c)),d||(e=g({src:e,async:!0,type:"module"},i),(i=je.get(c))&&Fu(e,i),d=s.createElement("script"),ee(d),oe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function Zp(e,i,s,l){var c=(c=st.current)?tl(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Ss(s.href),s=Vn(c).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ss(s.href);var d=Vn(c).hoistableStyles,x=d.get(e);if(x||(c=c.ownerDocument||c,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,x),(d=c.querySelector(wa(e)))&&!d._p&&(x.instance=d,x.state.loading=5),je.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},je.set(e,s),d||h_(c,e,s,x.state))),i&&l===null)throw Error(r(528,""));return x}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=As(s),s=Vn(c).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ss(e){return'href="'+ke(e)+'"'}function wa(e){return'link[rel="stylesheet"]['+e+"]"}function Qp(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function h_(e,i,s,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),oe(i,"link",s),ee(i),e.head.appendChild(i))}function As(e){return'[src="'+ke(e)+'"]'}function Ma(e){return"script[async]"+e}function Kp(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ke(s.href)+'"]');if(l)return i.instance=l,ee(l),l;var c=g({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ee(l),oe(l,"style",c),el(l,s.precedence,e),i.instance=l;case"stylesheet":c=Ss(s.href);var d=e.querySelector(wa(c));if(d)return i.state.loading|=4,i.instance=d,ee(d),d;l=Qp(s),(c=je.get(c))&&ju(l,c),d=(e.ownerDocument||e).createElement("link"),ee(d);var x=d;return x._p=new Promise(function(v,w){x.onload=v,x.onerror=w}),oe(d,"link",l),i.state.loading|=4,el(d,s.precedence,e),i.instance=d;case"script":return d=As(s.src),(c=e.querySelector(Ma(d)))?(i.instance=c,ee(c),c):(l=s,(c=je.get(d))&&(l=g({},s),Fu(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),ee(c),oe(c,"link",l),e.head.appendChild(c),i.instance=c);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,el(l,s.precedence,e));return i.instance}function el(e,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,x=0;x<l.length;x++){var v=l[x];if(v.dataset.precedence===i)d=v;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function ju(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Fu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var il=null;function Wp(e,i,s){if(il===null){var l=new Map,c=il=new Map;c.set(s,l)}else c=il,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var d=s[c];if(!(d[Ls]||d[he]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var x=d.getAttribute(i)||"";x=e+x;var v=l.get(x);v?v.push(d):l.set(x,[d])}}return l}function $p(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function f_(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Jp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ca=null;function d_(){}function p_(e,i,s){if(Ca===null)throw Error(r(475));var l=Ca;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=Ss(s.href),d=e.querySelector(wa(c));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=nl.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ee(d);return}d=e.ownerDocument||e,s=Qp(s),(c=je.get(c))&&ju(s,c),d=d.createElement("link"),ee(d);var x=d;x._p=new Promise(function(v,w){x.onload=v,x.onerror=w}),oe(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=nl.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function m_(){if(Ca===null)throw Error(r(475));var e=Ca;return e.stylesheets&&e.count===0&&Iu(e,e.stylesheets),0<e.count?function(i){var s=setTimeout(function(){if(e.stylesheets&&Iu(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s)}}:null}function nl(){if(this.count--,this.count===0){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sl=null;function Iu(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sl=new Map,i.forEach(g_,e),sl=null,nl.call(e))}function g_(e,i){if(!(i.state.loading&4)){var s=sl.get(e);if(s)var l=s.get(null);else{s=new Map,sl.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var x=c[d];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(s.set(x.dataset.precedence,x),l=x)}l&&s.set(null,l)}c=i.instance,x=c.getAttribute("data-precedence"),d=s.get(x)||l,d===l&&s.set(null,c),s.set(x,c),this.count++,l=nl.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),i.state.loading|=4}}var Ea={$$typeof:U,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function y_(e,i,s,l,c,d,x,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.hiddenUpdates=Vl(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function tm(e,i,s,l,c,d,x,v,w,N,V,F){return e=new y_(e,i,s,x,v,w,N,F),i=1,d===!0&&(i|=24),d=Ee(3,null,null,i),e.current=d,d.stateNode=e,i=Eo(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Oo(d),e}function em(e){return e?(e=ts,e):ts}function im(e,i,s,l,c,d){c=em(c),l.context===null?l.context=c:l.pendingContext=c,l=Vi(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Xi(e,l,i),s!==null&&(De(s,e,i),sa(s,e,i))}function nm(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function Zu(e,i){nm(e,i),(e=e.alternate)&&nm(e,i)}function sm(e){if(e.tag===13){var i=Jn(e,67108864);i!==null&&De(i,e,67108864),Zu(e,67108864)}}var al=!0;function x_(e,i,s,l){var c=T.T;T.T=null;var d=Y.p;try{Y.p=2,Qu(e,i,s,l)}finally{Y.p=d,T.T=c}}function __(e,i,s,l){var c=T.T;T.T=null;var d=Y.p;try{Y.p=8,Qu(e,i,s,l)}finally{Y.p=d,T.T=c}}function Qu(e,i,s,l){if(al){var c=Ku(l);if(c===null)Nu(e,i,l,rl,s),rm(e,l);else if(v_(c,e,i,s,l))l.stopPropagation();else if(rm(e,l),i&4&&-1<b_.indexOf(e)){for(;c!==null;){var d=Yn(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var x=fn(d.pendingLanes);if(x!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;x;){var w=1<<31-Me(x);v.entanglements[1]|=w,x&=~w}ci(d),(Ct&6)===0&&(Xr=Te()+500,va(0))}}break;case 13:v=Jn(d,2),v!==null&&De(v,d,2),jr(),Zu(d,2)}if(d=Ku(l),d===null&&Nu(e,i,l,rl,s),d===c)break;c=d}c!==null&&l.stopPropagation()}else Nu(e,i,l,null,s)}}function Ku(e){return e=to(e),Wu(e)}var rl=null;function Wu(e){if(rl=null,e=Pn(e),e!==null){var i=u(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=h(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return rl=e,null}function am(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pl()){case Yl:return 2;case _h:return 8;case $a:case r0:return 32;case bh:return 268435456;default:return 32}default:return 32}}var $u=!1,nn=null,sn=null,an=null,Ra=new Map,Ba=new Map,rn=[],b_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rm(e,i){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Ra.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(i.pointerId)}}function za(e,i,s,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},i!==null&&(i=Yn(i),i!==null&&sm(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),e)}function v_(e,i,s,l,c){switch(i){case"focusin":return nn=za(nn,e,i,s,l,c),!0;case"dragenter":return sn=za(sn,e,i,s,l,c),!0;case"mouseover":return an=za(an,e,i,s,l,c),!0;case"pointerover":var d=c.pointerId;return Ra.set(d,za(Ra.get(d)||null,e,i,s,l,c)),!0;case"gotpointercapture":return d=c.pointerId,Ba.set(d,za(Ba.get(d)||null,e,i,s,l,c)),!0}return!1}function lm(e){var i=Pn(e.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){e.blockedOn=i,p0(e.priority,function(){if(s.tag===13){var l=Oe();l=Xl(l);var c=Jn(s,l);c!==null&&De(c,s,l),Zu(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ll(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Ku(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Jl=l,s.target.dispatchEvent(l),Jl=null}else return i=Yn(s),i!==null&&sm(i),e.blockedOn=s,!1;i.shift()}return!0}function om(e,i,s){ll(e)&&s.delete(i)}function S_(){$u=!1,nn!==null&&ll(nn)&&(nn=null),sn!==null&&ll(sn)&&(sn=null),an!==null&&ll(an)&&(an=null),Ra.forEach(om),Ba.forEach(om)}function ol(e,i){e.blockedOn===i&&(e.blockedOn=null,$u||($u=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,S_)))}var ul=null;function um(e){ul!==e&&(ul=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ul===e&&(ul=null);for(var i=0;i<e.length;i+=3){var s=e[i],l=e[i+1],c=e[i+2];if(typeof l!="function"){if(Wu(l||s)===null)continue;break}var d=Yn(s);d!==null&&(e.splice(i,3),i-=3,Wo(d,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Oa(e){function i(w){return ol(w,e)}nn!==null&&ol(nn,e),sn!==null&&ol(sn,e),an!==null&&ol(an,e),Ra.forEach(i),Ba.forEach(i);for(var s=0;s<rn.length;s++){var l=rn[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<rn.length&&(s=rn[0],s.blockedOn===null);)lm(s),s.blockedOn===null&&rn.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],d=s[l+1],x=c[ye]||null;if(typeof d=="function")x||um(s);else if(x){var v=null;if(d&&d.hasAttribute("formAction")){if(c=d,x=d[ye]||null)v=x.formAction;else if(Wu(c)!==null)continue}else v=x.action;typeof v=="function"?s[l+1]=v:(s.splice(l,3),l-=3),um(s)}}}function Ju(e){this._internalRoot=e}cl.prototype.render=Ju.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,l=Oe();im(s,l,e,i,null,null)},cl.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;im(e.current,2,null,e,null,null),jr(),i[Ln]=null}};function cl(e){this._internalRoot=e}cl.prototype.unstable_scheduleHydration=function(e){if(e){var i=wh();e={blockedOn:null,target:e,priority:i};for(var s=0;s<rn.length&&i!==0&&i<rn[s].priority;s++);rn.splice(s,0,e),s===0&&lm(e)}};var cm=t.version;if(cm!=="19.1.0")throw Error(r(527,cm,"19.1.0"));Y.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var A_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{Ns=hl.inject(A_),we=hl}catch{}}return Ua.createRoot=function(e,i){if(!o(e))throw Error(r(299));var s=!1,l="",c=Md,d=Cd,x=Ed,v=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(v=i.unstable_transitionCallbacks)),i=tm(e,1,!1,null,null,s,l,c,d,x,v,null),e[Ln]=i.current,Gu(e),new Ju(i)},Ua.hydrateRoot=function(e,i,s){if(!o(e))throw Error(r(299));var l=!1,c="",d=Md,x=Cd,v=Ed,w=null,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks),s.formState!==void 0&&(N=s.formState)),i=tm(e,1,!0,i,s??null,l,c,d,x,v,w,N),i.context=em(null),s=i.current,l=Oe(),l=Xl(l),c=Vi(l),c.callback=null,Xi(s,c,l),s=l,i.current.lanes=s,ks(i,s),ci(i),e[Ln]=i.current,Gu(e),new cl(i)},Ua.version="19.1.0",Ua}var bm;function G_(){if(bm)return ic.exports;bm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ic.exports=U_(),ic.exports}var N_=G_();const H_="modulepreload",k_=function(a){return"/"+a},vm={},Bl=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let h=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=h(n.map(m=>{if(m=k_(m),m in vm)return;vm[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":H_,g||(b.as="script"),b.crossOrigin="",b.href=m,p&&b.setAttribute("nonce",p),document.head.appendChild(b),g)return new Promise((_,S)=>{b.addEventListener("load",_),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(h){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h}return o.then(h=>{for(const f of h||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})};var ut=(a=>(a.Application="application",a.WebGLPipes="webgl-pipes",a.WebGLPipesAdaptor="webgl-pipes-adaptor",a.WebGLSystem="webgl-system",a.WebGPUPipes="webgpu-pipes",a.WebGPUPipesAdaptor="webgpu-pipes-adaptor",a.WebGPUSystem="webgpu-system",a.CanvasSystem="canvas-system",a.CanvasPipesAdaptor="canvas-pipes-adaptor",a.CanvasPipes="canvas-pipes",a.Asset="asset",a.LoadParser="load-parser",a.ResolveParser="resolve-parser",a.CacheParser="cache-parser",a.DetectionParser="detection-parser",a.MaskEffect="mask-effect",a.BlendMode="blend-mode",a.TextureSource="texture-source",a.Environment="environment",a.ShapeBuilder="shape-builder",a.Batcher="batcher",a))(ut||{});const Gc=a=>{if(typeof a=="function"||typeof a=="object"&&a.extension){if(!a.extension)throw new Error("Extension class must have an extension object");a={...typeof a.extension!="object"?{type:a.extension}:a.extension,ref:a}}if(typeof a=="object")a={...a};else throw new Error("Invalid extension type");return typeof a.type=="string"&&(a.type=[a.type]),a},fl=(a,t)=>Gc(a).priority??t,ce={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...a){return a.map(Gc).forEach(t=>{t.type.forEach(n=>{var r,o;return(o=(r=this._removeHandlers)[n])==null?void 0:o.call(r,t)})}),this},add(...a){return a.map(Gc).forEach(t=>{t.type.forEach(n=>{var u,h;const r=this._addHandlers,o=this._queue;r[n]?(h=r[n])==null||h.call(r,t):(o[n]=o[n]||[],(u=o[n])==null||u.push(t))})}),this},handle(a,t,n){var h;const r=this._addHandlers,o=this._removeHandlers;if(r[a]||o[a])throw new Error(`Extension type ${a} already has a handler`);r[a]=t,o[a]=n;const u=this._queue;return u[a]&&((h=u[a])==null||h.forEach(f=>t(f)),delete u[a]),this},handleByMap(a,t){return this.handle(a,n=>{n.name&&(t[n.name]=n.ref)},n=>{n.name&&delete t[n.name]})},handleByNamedList(a,t,n=-1){return this.handle(a,r=>{t.findIndex(u=>u.name===r.name)>=0||(t.push({name:r.name,value:r.ref}),t.sort((u,h)=>fl(h.value,n)-fl(u.value,n)))},r=>{const o=t.findIndex(u=>u.name===r.name);o!==-1&&t.splice(o,1)})},handleByList(a,t,n=-1){return this.handle(a,r=>{t.includes(r.ref)||(t.push(r.ref),t.sort((o,u)=>fl(u,n)-fl(o,n)))},r=>{const o=t.indexOf(r.ref);o!==-1&&t.splice(o,1)})},mixin(a,...t){for(const n of t)Object.defineProperties(a.prototype,Object.getOwnPropertyDescriptors(n))}},L_={extension:{type:ut.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Bl(()=>import("./browserAll-Cz054Jm5.js"),__vite__mapDeps([0,1,2]))}},P_={extension:{type:ut.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Bl(()=>import("./webworkerAll-DmASnYfO.js"),__vite__mapDeps([1,2]))}};class Ge{constructor(t,n,r){this._x=n||0,this._y=r||0,this._observer=t}clone(t){return new Ge(t??this._observer,this._x,this._y)}set(t=0,n=t){return(this._x!==t||this._y!==n)&&(this._x=t,this._y=n,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var rc={exports:{}},Sm;function Y_(){return Sm||(Sm=1,function(a){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(p,m,g){this.fn=p,this.context=m,this.once=g||!1}function u(p,m,g,y,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new o(g,y||p,b),S=n?n+m:m;return p._events[S]?p._events[S].fn?p._events[S]=[p._events[S],_]:p._events[S].push(_):(p._events[S]=_,p._eventsCount++),p}function h(p,m){--p._eventsCount===0?p._events=new r:delete p._events[m]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var m=[],g,y;if(this._eventsCount===0)return m;for(y in g=this._events)t.call(g,y)&&m.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},f.prototype.listeners=function(m){var g=n?n+m:m,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var b=0,_=y.length,S=new Array(_);b<_;b++)S[b]=y[b].fn;return S},f.prototype.listenerCount=function(m){var g=n?n+m:m,y=this._events[g];return y?y.fn?1:y.length:0},f.prototype.emit=function(m,g,y,b,_,S){var M=n?n+m:m;if(!this._events[M])return!1;var A=this._events[M],R=arguments.length,O,U;if(A.fn){switch(A.once&&this.removeListener(m,A.fn,void 0,!0),R){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,y),!0;case 4:return A.fn.call(A.context,g,y,b),!0;case 5:return A.fn.call(A.context,g,y,b,_),!0;case 6:return A.fn.call(A.context,g,y,b,_,S),!0}for(U=1,O=new Array(R-1);U<R;U++)O[U-1]=arguments[U];A.fn.apply(A.context,O)}else{var H=A.length,j;for(U=0;U<H;U++)switch(A[U].once&&this.removeListener(m,A[U].fn,void 0,!0),R){case 1:A[U].fn.call(A[U].context);break;case 2:A[U].fn.call(A[U].context,g);break;case 3:A[U].fn.call(A[U].context,g,y);break;case 4:A[U].fn.call(A[U].context,g,y,b);break;default:if(!O)for(j=1,O=new Array(R-1);j<R;j++)O[j-1]=arguments[j];A[U].fn.apply(A[U].context,O)}}return!0},f.prototype.on=function(m,g,y){return u(this,m,g,y,!1)},f.prototype.once=function(m,g,y){return u(this,m,g,y,!0)},f.prototype.removeListener=function(m,g,y,b){var _=n?n+m:m;if(!this._events[_])return this;if(!g)return h(this,_),this;var S=this._events[_];if(S.fn)S.fn===g&&(!b||S.once)&&(!y||S.context===y)&&h(this,_);else{for(var M=0,A=[],R=S.length;M<R;M++)(S[M].fn!==g||b&&!S[M].once||y&&S[M].context!==y)&&A.push(S[M]);A.length?this._events[_]=A.length===1?A[0]:A:h(this,_)}return this},f.prototype.removeAllListeners=function(m){var g;return m?(g=n?n+m:m,this._events[g]&&h(this,g)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,a.exports=f}(rc)),rc.exports}var V_=Y_();const si=ih(V_),X_=Math.PI*2,q_=180/Math.PI,j_=Math.PI/180;class pe{constructor(t=0,n=0){this.x=0,this.y=0,this.x=t,this.y=n}clone(){return new pe(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,n=t){return this.x=t,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return lc.x=0,lc.y=0,lc}}const lc=new pe;class _t{constructor(t=1,n=0,r=0,o=1,u=0,h=0){this.array=null,this.a=t,this.b=n,this.c=r,this.d=o,this.tx=u,this.ty=h}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,n,r,o,u,h){return this.a=t,this.b=n,this.c=r,this.d=o,this.tx=u,this.ty=h,this}toArray(t,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,n){n=n||new pe;const r=t.x,o=t.y;return n.x=this.a*r+this.c*o+this.tx,n.y=this.b*r+this.d*o+this.ty,n}applyInverse(t,n){n=n||new pe;const r=this.a,o=this.b,u=this.c,h=this.d,f=this.tx,p=this.ty,m=1/(r*h+u*-o),g=t.x,y=t.y;return n.x=h*m*g+-u*m*y+(p*u-f*h)*m,n.y=r*m*y+-o*m*g+(-p*r+f*o)*m,n}translate(t,n){return this.tx+=t,this.ty+=n,this}scale(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this}rotate(t){const n=Math.cos(t),r=Math.sin(t),o=this.a,u=this.c,h=this.tx;return this.a=o*n-this.b*r,this.b=o*r+this.b*n,this.c=u*n-this.d*r,this.d=u*r+this.d*n,this.tx=h*n-this.ty*r,this.ty=h*r+this.ty*n,this}append(t){const n=this.a,r=this.b,o=this.c,u=this.d;return this.a=t.a*n+t.b*o,this.b=t.a*r+t.b*u,this.c=t.c*n+t.d*o,this.d=t.c*r+t.d*u,this.tx=t.tx*n+t.ty*o+this.tx,this.ty=t.tx*r+t.ty*u+this.ty,this}appendFrom(t,n){const r=t.a,o=t.b,u=t.c,h=t.d,f=t.tx,p=t.ty,m=n.a,g=n.b,y=n.c,b=n.d;return this.a=r*m+o*y,this.b=r*g+o*b,this.c=u*m+h*y,this.d=u*g+h*b,this.tx=f*m+p*y+n.tx,this.ty=f*g+p*b+n.ty,this}setTransform(t,n,r,o,u,h,f,p,m){return this.a=Math.cos(f+m)*u,this.b=Math.sin(f+m)*u,this.c=-Math.sin(f-p)*h,this.d=Math.cos(f-p)*h,this.tx=t-(r*this.a+o*this.c),this.ty=n-(r*this.b+o*this.d),this}prepend(t){const n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const r=this.a,o=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=o*t.a+this.d*t.c,this.d=o*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this}decompose(t){const n=this.a,r=this.b,o=this.c,u=this.d,h=t.pivot,f=-Math.atan2(-o,u),p=Math.atan2(r,n),m=Math.abs(f+p);return m<1e-5||Math.abs(X_-m)<1e-5?(t.rotation=p,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=f,t.skew.y=p),t.scale.x=Math.sqrt(n*n+r*r),t.scale.y=Math.sqrt(o*o+u*u),t.position.x=this.tx+(h.x*n+h.y*o),t.position.y=this.ty+(h.x*r+h.y*u),t}invert(){const t=this.a,n=this.b,r=this.c,o=this.d,u=this.tx,h=t*o-n*r;return this.a=o/h,this.b=-n/h,this.c=-r/h,this.d=t/h,this.tx=(r*this.ty-o*u)/h,this.ty=-(t*this.ty-n*u)/h,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new _t;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return I_.identity()}static get shared(){return F_.identity()}}const F_=new _t,I_=new _t,zn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],On=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Dn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Un=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Nc=[],Gg=[],dl=Math.sign;function Z_(){for(let a=0;a<16;a++){const t=[];Nc.push(t);for(let n=0;n<16;n++){const r=dl(zn[a]*zn[n]+Dn[a]*On[n]),o=dl(On[a]*zn[n]+Un[a]*On[n]),u=dl(zn[a]*Dn[n]+Dn[a]*Un[n]),h=dl(On[a]*Dn[n]+Un[a]*Un[n]);for(let f=0;f<16;f++)if(zn[f]===r&&On[f]===o&&Dn[f]===u&&Un[f]===h){t.push(f);break}}}for(let a=0;a<16;a++){const t=new _t;t.set(zn[a],On[a],Dn[a],Un[a],0,0),Gg.push(t)}}Z_();const Ht={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:a=>zn[a],uY:a=>On[a],vX:a=>Dn[a],vY:a=>Un[a],inv:a=>a&8?a&15:-a&7,add:(a,t)=>Nc[a][t],sub:(a,t)=>Nc[a][Ht.inv(t)],rotate180:a=>a^4,isVertical:a=>(a&3)===2,byDirection:(a,t)=>Math.abs(a)*2<=Math.abs(t)?t>=0?Ht.S:Ht.N:Math.abs(t)*2<=Math.abs(a)?a>0?Ht.E:Ht.W:t>0?a>0?Ht.SE:Ht.SW:a>0?Ht.NE:Ht.NW,matrixAppendRotationInv:(a,t,n=0,r=0)=>{const o=Gg[Ht.inv(t)];o.tx=n,o.ty=r,a.append(o)}},pl=[new pe,new pe,new pe,new pe];class Wt{constructor(t=0,n=0,r=0,o=0){this.type="rectangle",this.x=Number(t),this.y=Number(n),this.width=Number(r),this.height=Number(o)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Wt(0,0,0,0)}clone(){return new Wt(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(t,n,r,o=.5){const{width:u,height:h}=this;if(u<=0||h<=0)return!1;const f=this.x,p=this.y,m=r*(1-o),g=r-m,y=f-m,b=f+u+m,_=p-m,S=p+h+m,M=f+g,A=f+u-g,R=p+g,O=p+h-g;return t>=y&&t<=b&&n>=_&&n<=S&&!(t>M&&t<A&&n>R&&n<O)}intersects(t,n){if(!n){const rt=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=rt)return!1;const P=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>P}const r=this.left,o=this.right,u=this.top,h=this.bottom;if(o<=r||h<=u)return!1;const f=pl[0].set(t.left,t.top),p=pl[1].set(t.left,t.bottom),m=pl[2].set(t.right,t.top),g=pl[3].set(t.right,t.bottom);if(m.x<=f.x||p.y<=f.y)return!1;const y=Math.sign(n.a*n.d-n.b*n.c);if(y===0||(n.apply(f,f),n.apply(p,p),n.apply(m,m),n.apply(g,g),Math.max(f.x,p.x,m.x,g.x)<=r||Math.min(f.x,p.x,m.x,g.x)>=o||Math.max(f.y,p.y,m.y,g.y)<=u||Math.min(f.y,p.y,m.y,g.y)>=h))return!1;const b=y*(p.y-f.y),_=y*(f.x-p.x),S=b*r+_*u,M=b*o+_*u,A=b*r+_*h,R=b*o+_*h;if(Math.max(S,M,A,R)<=b*f.x+_*f.y||Math.min(S,M,A,R)>=b*g.x+_*g.y)return!1;const O=y*(f.y-m.y),U=y*(m.x-f.x),H=O*r+U*u,j=O*o+U*u,I=O*r+U*h,Z=O*o+U*h;return!(Math.max(H,j,I,Z)<=O*f.x+U*f.y||Math.min(H,j,I,Z)>=O*g.x+U*g.y)}pad(t=0,n=t){return this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2,this}fit(t){const n=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),o=Math.max(this.y,t.y),u=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.width=Math.max(r-n,0),this.y=o,this.height=Math.max(u-o,0),this}ceil(t=1,n=.001){const r=Math.ceil((this.x+this.width-n)*t)/t,o=Math.ceil((this.y+this.height-n)*t)/t;return this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=r-this.x,this.height=o-this.y,this}enlarge(t){const n=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),o=Math.min(this.y,t.y),u=Math.max(this.y+this.height,t.y+t.height);return this.x=n,this.width=r-n,this.y=o,this.height=u-o,this}getBounds(t){return t||(t=new Wt),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const n=t.x,r=t.y,o=t.x+t.width,u=t.y+t.height;return n>=this.x&&n<this.x+this.width&&r>=this.y&&r<this.y+this.height&&o>=this.x&&o<this.x+this.width&&u>=this.y&&u<this.y+this.height}set(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const oc={default:-1};function Ft(a="default"){return oc[a]===void 0&&(oc[a]=-1),++oc[a]}const Am={},Ot="8.0.0",Q_="8.3.4";function vt(a,t,n=3){if(Am[t])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${a}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${a}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${a}`),console.warn(r))),Am[t]=!0}const Ng=()=>{};function zl(a){return a+=a===0?1:0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1}function Tm(a){return!(a&a-1)&&!!a}function Hg(a){const t={};for(const n in a)a[n]!==void 0&&(t[n]=a[n]);return t}const wm=Object.create(null);function K_(a){const t=wm[a];return t===void 0&&(wm[a]=Ft("resource")),t}const kg=class Lg extends si{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...Lg.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){vt(Ot,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=K_(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};kg.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Ol=kg;const Pg=class Yg extends si{constructor(t={}){super(),this.options=t,this.uid=Ft("textureSource"),this._resourceType="textureSource",this._resourceId=Ft("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...Yg.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new Ol(Hg(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){var n,r;this.style!==t&&((n=this._style)==null||n.off("change",this._onStyleChange,this),this._style=t,(r=this._style)==null||r.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Ft("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,n,r){r||(r=this._resolution),t||(t=this.width),n||(n=this.height);const o=Math.round(t*r),u=Math.round(n*r);return this.width=o/r,this.height=u/r,this._resolution=r,this.pixelWidth===o&&this.pixelHeight===u?!1:(this._refreshPOT(),this.pixelWidth=o,this.pixelHeight=u,this.emit("resize",this),this._resourceId=Ft("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Tm(this.pixelWidth)&&Tm(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};Pg.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let ai=Pg;class sh extends ai{constructor(t){const n=t.resource||new Float32Array(t.width*t.height*4);let r=t.format;r||(n instanceof Float32Array?r="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?r="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?r="rgba16uint":(n instanceof Int8Array,r="bgra8unorm")),super({...t,resource:n,format:r}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}sh.extension=ut.TextureSource;const Mm=new _t;class W_{constructor(t,n){this.mapCoord=new _t,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){var n;this.texture!==t&&((n=this._texture)==null||n.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,n){n===void 0&&(n=t);const r=this.mapCoord;for(let o=0;o<t.length;o+=2){const u=t[o],h=t[o+1];n[o]=u*r.a+h*r.c+r.tx,n[o+1]=u*r.b+h*r.d+r.ty}return n}update(){const t=this._texture;this._updateID++;const n=t.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const r=t.orig,o=t.trim;o&&(Mm.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(Mm));const u=t.source,h=this.uClampFrame,f=this.clampMargin/u._resolution,p=this.clampOffset/u._resolution;return h[0]=(t.frame.x+f+p)/u.width,h[1]=(t.frame.y+f+p)/u.height,h[2]=(t.frame.x+t.frame.width-f+p)/u.width,h[3]=(t.frame.y+t.frame.height-f+p)/u.height,this.uClampOffset[0]=this.clampOffset/u.pixelWidth,this.uClampOffset[1]=this.clampOffset/u.pixelHeight,this.isSimple=t.frame.width===u.width&&t.frame.height===u.height&&t.rotate===0,!0}}class St extends si{constructor({source:t,label:n,frame:r,orig:o,trim:u,defaultAnchor:h,defaultBorders:f,rotate:p,dynamic:m}={}){if(super(),this.uid=Ft("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Wt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=(t==null?void 0:t.source)??new ai,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:g,height:y}=this._source;this.frame.width=g,this.frame.height=y}this.orig=o||this.frame,this.trim=u,this.rotate=p??0,this.defaultAnchor=h,this.defaultBorders=f,this.destroyed=!1,this.dynamic=m||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new W_(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:n}=this,{width:r,height:o}=this._source,u=n.x/r,h=n.y/o,f=n.width/r,p=n.height/o;let m=this.rotate;if(m){const g=f/2,y=p/2,b=u+g,_=h+y;m=Ht.add(m,Ht.NW),t.x0=b+g*Ht.uX(m),t.y0=_+y*Ht.uY(m),m=Ht.add(m,2),t.x1=b+g*Ht.uX(m),t.y1=_+y*Ht.uY(m),m=Ht.add(m,2),t.x2=b+g*Ht.uX(m),t.y2=_+y*Ht.uY(m),m=Ht.add(m,2),t.x3=b+g*Ht.uX(m),t.y3=_+y*Ht.uY(m)}else t.x0=u,t.y0=h,t.x1=u+f,t.y1=h,t.x2=u+f,t.y2=h+p,t.x3=u,t.y3=h+p}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return vt(Ot,"Texture.baseTexture is now Texture.source"),this._source}}St.EMPTY=new St({label:"EMPTY",source:new ai({label:"EMPTY"})});St.EMPTY.destroy=Ng;St.WHITE=new St({source:new sh({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});St.WHITE.destroy=Ng;function $_(a,t,n){const{width:r,height:o}=n.orig,u=n.trim;if(u){const h=u.width,f=u.height;a.minX=u.x-t._x*r,a.maxX=a.minX+h,a.minY=u.y-t._y*o,a.maxY=a.minY+f}else a.minX=-t._x*r,a.maxX=a.minX+r,a.minY=-t._y*o,a.maxY=a.minY+o}const Cm=new _t;class ni{constructor(t=1/0,n=1/0,r=-1/0,o=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Cm,this.minX=t,this.minY=n,this.maxX=r,this.maxY=o}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Wt);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Cm,this}set(t,n,r,o){this.minX=t,this.minY=n,this.maxX=r,this.maxY=o}addFrame(t,n,r,o,u){u||(u=this.matrix);const h=u.a,f=u.b,p=u.c,m=u.d,g=u.tx,y=u.ty;let b=this.minX,_=this.minY,S=this.maxX,M=this.maxY,A=h*t+p*n+g,R=f*t+m*n+y;A<b&&(b=A),R<_&&(_=R),A>S&&(S=A),R>M&&(M=R),A=h*r+p*n+g,R=f*r+m*n+y,A<b&&(b=A),R<_&&(_=R),A>S&&(S=A),R>M&&(M=R),A=h*t+p*o+g,R=f*t+m*o+y,A<b&&(b=A),R<_&&(_=R),A>S&&(S=A),R>M&&(M=R),A=h*r+p*o+g,R=f*r+m*o+y,A<b&&(b=A),R<_&&(_=R),A>S&&(S=A),R>M&&(M=R),this.minX=b,this.minY=_,this.maxX=S,this.maxY=M}addRect(t,n){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,n)}addBounds(t,n){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,n)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const n=this.minX,r=this.minY,o=this.maxX,u=this.maxY,{a:h,b:f,c:p,d:m,tx:g,ty:y}=t;let b=h*n+p*r+g,_=f*n+m*r+y;this.minX=b,this.minY=_,this.maxX=b,this.maxY=_,b=h*o+p*r+g,_=f*o+m*r+y,this.minX=b<this.minX?b:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=b>this.maxX?b:this.maxX,this.maxY=_>this.maxY?_:this.maxY,b=h*n+p*u+g,_=f*n+m*u+y,this.minX=b<this.minX?b:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=b>this.maxX?b:this.maxX,this.maxY=_>this.maxY?_:this.maxY,b=h*o+p*u+g,_=f*o+m*u+y,this.minX=b<this.minX?b:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=b>this.maxX?b:this.maxX,this.maxY=_>this.maxY?_:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,n,r,o){return this.minX<t&&(this.minX=t),this.maxX>n&&(this.maxX=n),this.minY<r&&(this.minY=r),this.maxY>o&&(this.maxY=o),this}pad(t,n=t){return this.minX-=t,this.maxX+=t,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new ni(this.minX,this.minY,this.maxX,this.maxY)}scale(t,n=t){return this.minX*=t,this.minY*=n,this.maxX*=t,this.maxY*=n,this}get x(){return this.minX}set x(t){const n=this.maxX-this.minX;this.minX=t,this.maxX=t+n}get y(){return this.minY}set y(t){const n=this.maxY-this.minY;this.minY=t,this.maxY=t+n}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,n,r,o){let u=this.minX,h=this.minY,f=this.maxX,p=this.maxY;o||(o=this.matrix);const m=o.a,g=o.b,y=o.c,b=o.d,_=o.tx,S=o.ty;for(let M=n;M<r;M+=2){const A=t[M],R=t[M+1],O=m*A+y*R+_,U=g*A+b*R+S;u=O<u?O:u,h=U<h?U:h,f=O>f?O:f,p=U>p?U:p}this.minX=u,this.minY=h,this.maxX=f,this.maxY=p}containsPoint(t,n){return this.minX<=t&&this.minY<=n&&this.maxX>=t&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var J_={grad:.9,turn:360,rad:360/(2*Math.PI)},Bi=function(a){return typeof a=="string"?a.length>0:typeof a=="number"},ae=function(a,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*a)/n+0},Ie=function(a,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),a>n?n:a>t?a:t},Vg=function(a){return(a=isFinite(a)?a%360:0)>0?a:a+360},Em=function(a){return{r:Ie(a.r,0,255),g:Ie(a.g,0,255),b:Ie(a.b,0,255),a:Ie(a.a)}},uc=function(a){return{r:ae(a.r),g:ae(a.g),b:ae(a.b),a:ae(a.a,3)}},tb=/^#([0-9a-f]{3,8})$/i,ml=function(a){var t=a.toString(16);return t.length<2?"0"+t:t},Xg=function(a){var t=a.r,n=a.g,r=a.b,o=a.a,u=Math.max(t,n,r),h=u-Math.min(t,n,r),f=h?u===t?(n-r)/h:u===n?2+(r-t)/h:4+(t-n)/h:0;return{h:60*(f<0?f+6:f),s:u?h/u*100:0,v:u/255*100,a:o}},qg=function(a){var t=a.h,n=a.s,r=a.v,o=a.a;t=t/360*6,n/=100,r/=100;var u=Math.floor(t),h=r*(1-n),f=r*(1-(t-u)*n),p=r*(1-(1-t+u)*n),m=u%6;return{r:255*[r,f,h,h,p,r][m],g:255*[p,r,r,f,h,h][m],b:255*[h,h,p,r,r,f][m],a:o}},Rm=function(a){return{h:Vg(a.h),s:Ie(a.s,0,100),l:Ie(a.l,0,100),a:Ie(a.a)}},Bm=function(a){return{h:ae(a.h),s:ae(a.s),l:ae(a.l),a:ae(a.a,3)}},zm=function(a){return qg((n=(t=a).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},Xa=function(a){return{h:(t=Xg(a)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},eb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ib=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,nb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hc={string:[[function(a){var t=tb.exec(a);return t?(a=t[1]).length<=4?{r:parseInt(a[0]+a[0],16),g:parseInt(a[1]+a[1],16),b:parseInt(a[2]+a[2],16),a:a.length===4?ae(parseInt(a[3]+a[3],16)/255,2):1}:a.length===6||a.length===8?{r:parseInt(a.substr(0,2),16),g:parseInt(a.substr(2,2),16),b:parseInt(a.substr(4,2),16),a:a.length===8?ae(parseInt(a.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(a){var t=nb.exec(a)||sb.exec(a);return t?t[2]!==t[4]||t[4]!==t[6]?null:Em({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(a){var t=eb.exec(a)||ib.exec(a);if(!t)return null;var n,r,o=Rm({h:(n=t[1],r=t[2],r===void 0&&(r="deg"),Number(n)*(J_[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return zm(o)},"hsl"]],object:[[function(a){var t=a.r,n=a.g,r=a.b,o=a.a,u=o===void 0?1:o;return Bi(t)&&Bi(n)&&Bi(r)?Em({r:Number(t),g:Number(n),b:Number(r),a:Number(u)}):null},"rgb"],[function(a){var t=a.h,n=a.s,r=a.l,o=a.a,u=o===void 0?1:o;if(!Bi(t)||!Bi(n)||!Bi(r))return null;var h=Rm({h:Number(t),s:Number(n),l:Number(r),a:Number(u)});return zm(h)},"hsl"],[function(a){var t=a.h,n=a.s,r=a.v,o=a.a,u=o===void 0?1:o;if(!Bi(t)||!Bi(n)||!Bi(r))return null;var h=function(f){return{h:Vg(f.h),s:Ie(f.s,0,100),v:Ie(f.v,0,100),a:Ie(f.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(u)});return qg(h)},"hsv"]]},Om=function(a,t){for(var n=0;n<t.length;n++){var r=t[n][0](a);if(r)return[r,t[n][1]]}return[null,void 0]},ab=function(a){return typeof a=="string"?Om(a.trim(),Hc.string):typeof a=="object"&&a!==null?Om(a,Hc.object):[null,void 0]},cc=function(a,t){var n=Xa(a);return{h:n.h,s:Ie(n.s+100*t,0,100),l:n.l,a:n.a}},hc=function(a){return(299*a.r+587*a.g+114*a.b)/1e3/255},Dm=function(a,t){var n=Xa(a);return{h:n.h,s:n.s,l:Ie(n.l+100*t,0,100),a:n.a}},kc=function(){function a(t){this.parsed=ab(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return a.prototype.isValid=function(){return this.parsed!==null},a.prototype.brightness=function(){return ae(hc(this.rgba),2)},a.prototype.isDark=function(){return hc(this.rgba)<.5},a.prototype.isLight=function(){return hc(this.rgba)>=.5},a.prototype.toHex=function(){return t=uc(this.rgba),n=t.r,r=t.g,o=t.b,h=(u=t.a)<1?ml(ae(255*u)):"","#"+ml(n)+ml(r)+ml(o)+h;var t,n,r,o,u,h},a.prototype.toRgb=function(){return uc(this.rgba)},a.prototype.toRgbString=function(){return t=uc(this.rgba),n=t.r,r=t.g,o=t.b,(u=t.a)<1?"rgba("+n+", "+r+", "+o+", "+u+")":"rgb("+n+", "+r+", "+o+")";var t,n,r,o,u},a.prototype.toHsl=function(){return Bm(Xa(this.rgba))},a.prototype.toHslString=function(){return t=Bm(Xa(this.rgba)),n=t.h,r=t.s,o=t.l,(u=t.a)<1?"hsla("+n+", "+r+"%, "+o+"%, "+u+")":"hsl("+n+", "+r+"%, "+o+"%)";var t,n,r,o,u},a.prototype.toHsv=function(){return t=Xg(this.rgba),{h:ae(t.h),s:ae(t.s),v:ae(t.v),a:ae(t.a,3)};var t},a.prototype.invert=function(){return hi({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},a.prototype.saturate=function(t){return t===void 0&&(t=.1),hi(cc(this.rgba,t))},a.prototype.desaturate=function(t){return t===void 0&&(t=.1),hi(cc(this.rgba,-t))},a.prototype.grayscale=function(){return hi(cc(this.rgba,-1))},a.prototype.lighten=function(t){return t===void 0&&(t=.1),hi(Dm(this.rgba,t))},a.prototype.darken=function(t){return t===void 0&&(t=.1),hi(Dm(this.rgba,-t))},a.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},a.prototype.alpha=function(t){return typeof t=="number"?hi({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):ae(this.rgba.a,3);var n},a.prototype.hue=function(t){var n=Xa(this.rgba);return typeof t=="number"?hi({h:t,s:n.s,l:n.l,a:n.a}):ae(n.h)},a.prototype.isEqual=function(t){return this.toHex()===hi(t).toHex()},a}(),hi=function(a){return a instanceof kc?a:new kc(a)},Um=[],rb=function(a){a.forEach(function(t){Um.indexOf(t)<0&&(t(kc,Hc),Um.push(t))})};function lb(a,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in n)r[n[o]]=o;var u={};a.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var f,p,m=r[this.toHex()];if(m)return m;if(h!=null&&h.closest){var g=this.toRgb(),y=1/0,b="black";if(!u.length)for(var _ in n)u[_]=new a(n[_]).toRgb();for(var S in n){var M=(f=g,p=u[S],Math.pow(f.r-p.r,2)+Math.pow(f.g-p.g,2)+Math.pow(f.b-p.b,2));M<y&&(y=M,b=S)}return b}},t.string.push([function(h){var f=h.toLowerCase(),p=f==="transparent"?"#0000":n[f];return p?new a(p).toRgb():null},"name"])}rb([lb]);const Rs=class La{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof La)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,n){const r=typeof t;if(r!==typeof n)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===n;if(Array.isArray(t)&&Array.isArray(n)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(n))return t.length!==n.length?!1:t.every((u,h)=>u===n[h]);if(t!==null&&n!==null){const u=Object.keys(t),h=Object.keys(n);return u.length!==h.length?!1:u.every(f=>t[f]===n[f])}return t===n}toRgba(){const[t,n,r,o]=this._components;return{r:t,g:n,b:r,a:o}}toRgb(){const[t,n,r]=this._components;return{r:t,g:n,b:r}}toRgbaString(){const[t,n,r]=this.toUint8RgbArray();return`rgba(${t},${n},${r},${this.alpha})`}toUint8RgbArray(t){const[n,r,o]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(n*255),t[1]=Math.round(r*255),t[2]=Math.round(o*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[n,r,o,u]=this._components;return t[0]=n,t[1]=r,t[2]=o,t[3]=u,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[n,r,o]=this._components;return t[0]=n,t[1]=r,t[2]=o,t}toNumber(){return this._int}toBgrNumber(){const[t,n,r]=this.toUint8RgbArray();return(r<<16)+(n<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[n,r,o,u]=La._temp.setValue(t)._components;return this._components[0]*=n,this._components[1]*=r,this._components[2]*=o,this._components[3]*=u,this._refreshInt(),this._value=null,this}premultiply(t,n=!0){return n&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,n=!0){if(t===1)return(255<<24)+this._int;if(t===0)return n?0:this._int;let r=this._int>>16&255,o=this._int>>8&255,u=this._int&255;return n&&(r=r*t+.5|0,o=o*t+.5|0,u=u*t+.5|0),(t*255<<24)+(r<<16)+(o<<8)+u}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let n,r,o,u;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const h=t;n=(h>>16&255)/255,r=(h>>8&255)/255,o=(h&255)/255,u=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[n,r,o,u=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[n,r,o,u=255]=t,n/=255,r/=255,o/=255,u/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const f=La.HEX_PATTERN.exec(t);f&&(t=`#${f[2]}`)}const h=hi(t);h.isValid()&&({r:n,g:r,b:o,a:u}=h.rgba,n/=255,r/=255,o/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=r,this._components[2]=o,this._components[3]=u,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,n,r]=this._components;this._int=(t*255<<16)+(n*255<<8)+(r*255|0)}_clamp(t,n=0,r=1){return typeof t=="number"?Math.min(Math.max(t,n),r):(t.forEach((o,u)=>{t[u]=Math.min(Math.max(o,n),r)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof La||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Rs.shared=new Rs;Rs._temp=new Rs;Rs.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let $t=Rs;const ob={cullArea:null,cullable:!1,cullableChildren:!0};class ah{constructor(t,n){this._pool=[],this._count=0,this._index=0,this._classType=t,n&&this.prepopulate(n)}prepopulate(t){for(let n=0;n<t;n++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){var r;let n;return this._index>0?n=this._pool[--this._index]:n=new this._classType,(r=n.init)==null||r.call(n,t),n}return(t){var n;(n=t.reset)==null||n.call(t),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class ub{constructor(){this._poolsByClass=new Map}prepopulate(t,n){this.getPool(t).prepopulate(n)}get(t,n){return this.getPool(t).get(n)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new ah(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(n=>{const r=t[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;t[r]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),t}}const zi=new ub,cb={get isCachedAsTexture(){var a;return!!((a=this.renderGroup)!=null&&a.isCachedAsTexture)},cacheAsTexture(a){typeof a=="boolean"&&a===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(a===!0?{}:a))},updateCacheTexture(){var a;(a=this.renderGroup)==null||a.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(a){vt("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(a)}};function hb(a,t,n){const r=a.length;let o;if(t>=r||n===0)return;n=t+n>r?r-t:n;const u=r-n;for(o=t;o<u;++o)a[o]=a[o+n];a.length=u}const fb={allowChildren:!0,removeChildren(a=0,t){var u;const n=t??this.children.length,r=n-a,o=[];if(r>0&&r<=n){for(let f=n-1;f>=a;f--){const p=this.children[f];p&&(o.push(p),p.parent=null)}hb(this.children,a,n);const h=this.renderGroup||this.parentRenderGroup;h&&h.removeChildren(o);for(let f=0;f<o.length;++f){const p=o[f];(u=p.parentRenderLayer)==null||u.detach(p),this.emit("childRemoved",p,this,f),o[f].emit("removed",this)}return o.length>0&&this._didViewChangeTick++,o}else if(r===0&&this.children.length===0)return o;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(a){const t=this.getChildAt(a);return this.removeChild(t)},getChildAt(a){if(a<0||a>=this.children.length)throw new Error(`getChildAt: Index (${a}) does not exist.`);return this.children[a]},setChildIndex(a,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(a),this.addChildAt(a,t)},getChildIndex(a){const t=this.children.indexOf(a);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(a,t){this.allowChildren||vt(Ot,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(t<0||t>n.length)throw new Error(`${a}addChildAt: The index ${t} supplied is out of bounds ${n.length}`);if(a.parent){const o=a.parent.children.indexOf(a);if(a.parent===this&&o===t)return a;o!==-1&&a.parent.children.splice(o,1)}t===n.length?n.push(a):n.splice(t,0,a),a.parent=this,a.didChange=!0,a._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(a),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",a,this,t),a.emit("added",this),a},swapChildren(a,t){if(a===t)return;const n=this.getChildIndex(a),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=a;const o=this.renderGroup||this.parentRenderGroup;o&&(o.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var a;(a=this.parent)==null||a.removeChild(this)},reparentChild(...a){return a.length===1?this.reparentChildAt(a[0],this.children.length):(a.forEach(t=>this.reparentChildAt(t,this.children.length)),a[0])},reparentChildAt(a,t){if(a.parent===this)return this.setChildIndex(a,t),a;const n=a.worldTransform.clone();a.removeFromParent(),this.addChildAt(a,t);const r=this.worldTransform.clone();return r.invert(),n.prepend(r),a.setFromMatrix(n),a}},db={collectRenderables(a,t,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(a,t,n):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,a):this.collectRenderablesWithEffects(a,t,n))},collectRenderablesSimple(a,t,n){const r=this.children,o=r.length;for(let u=0;u<o;u++)r[u].collectRenderables(a,t,n)},collectRenderablesWithEffects(a,t,n){const{renderPipes:r}=t;for(let o=0;o<this.effects.length;o++){const u=this.effects[o];r[u.pipe].push(u,this,a)}this.collectRenderablesSimple(a,t,n);for(let o=this.effects.length-1;o>=0;o--){const u=this.effects[o];r[u.pipe].pop(u,this,a)}}};class Gm{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class pb{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const r=this._tests[n];if(r.test(t))return zi.get(r.maskClass,t)}return t}returnMaskEffect(t){zi.return(t)}}const Lc=new pb;ce.handleByList(ut.MaskEffect,Lc._effectClasses);const mb={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const a=this.renderGroup||this.parentRenderGroup;a&&(a.structureDidChange=!0)},addEffect(a){this.effects.indexOf(a)===-1&&(this.effects.push(a),this.effects.sort((n,r)=>n.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(a){const t=this.effects.indexOf(a);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(a){const t=this._maskEffect;(t==null?void 0:t.mask)!==a&&(t&&(this.removeEffect(t),Lc.returnMaskEffect(t),this._maskEffect=null),a!=null&&(this._maskEffect=Lc.getMaskEffect(a),this.addEffect(this._maskEffect)))},get mask(){var a;return(a=this._maskEffect)==null?void 0:a.mask},setMask(a){this._maskOptions={...this._maskOptions,...a},a.mask&&(this.mask=a.mask),this._markStructureAsChanged()},set filters(a){var u;!Array.isArray(a)&&a&&(a=[a]);const t=this._filterEffect||(this._filterEffect=new Gm);a=a;const n=(a==null?void 0:a.length)>0,r=((u=t.filters)==null?void 0:u.length)>0,o=n!==r;a=Array.isArray(a)?a.slice(0):a,t.filters=Object.freeze(a),o&&(n?this.addEffect(t):(this.removeEffect(t),t.filters=a??null))},get filters(){var a;return(a=this._filterEffect)==null?void 0:a.filters},set filterArea(a){this._filterEffect||(this._filterEffect=new Gm),this._filterEffect.filterArea=a},get filterArea(){var a;return(a=this._filterEffect)==null?void 0:a.filterArea}},gb={label:null,get name(){return vt(Ot,"Container.name property has been removed, use Container.label instead"),this.label},set name(a){vt(Ot,"Container.name property has been removed, use Container.label instead"),this.label=a},getChildByName(a,t=!1){return this.getChildByLabel(a,t)},getChildByLabel(a,t=!1){const n=this.children;for(let r=0;r<n.length;r++){const o=n[r];if(o.label===a||a instanceof RegExp&&a.test(o.label))return o}if(t)for(let r=0;r<n.length;r++){const u=n[r].getChildByLabel(a,!0);if(u)return u}return null},getChildrenByLabel(a,t=!1,n=[]){const r=this.children;for(let o=0;o<r.length;o++){const u=r[o];(u.label===a||a instanceof RegExp&&a.test(u.label))&&n.push(u)}if(t)for(let o=0;o<r.length;o++)r[o].getChildrenByLabel(a,!0,n);return n}},ge=new ah(_t),Oi=new ah(ni),yb=new _t,xb={getFastGlobalBounds(a,t){t||(t=new ni),t.clear(),this._getGlobalBoundsRecursive(!!a,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(n.worldTransform),t},_getGlobalBoundsRecursive(a,t,n){let r=t;if(a&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const o=!!this.effects.length;if((this.renderGroup||o)&&(r=Oi.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const h=this.bounds;r.addFrame(h.minX,h.minY,h.maxX,h.maxY,this.groupTransform)}const u=this.children;for(let h=0;h<u.length;h++)u[h]._getGlobalBoundsRecursive(a,r,n)}if(o){let u=!1;const h=this.renderGroup||this.parentRenderGroup;for(let f=0;f<this.effects.length;f++)this.effects[f].addBounds&&(u||(u=!0,r.applyMatrix(h.worldTransform)),this.effects[f].addBounds(r,!0));u&&(r.applyMatrix(h.worldTransform.copyTo(yb).invert()),t.addBounds(r,this.relativeGroupTransform)),t.addBounds(r),Oi.return(r)}else this.renderGroup&&(t.addBounds(r,this.relativeGroupTransform),Oi.return(r))}};function jg(a,t,n){n.clear();let r,o;return a.parent?t?r=a.parent.worldTransform:(o=ge.get().identity(),r=rh(a,o)):r=_t.IDENTITY,Fg(a,n,r,t),o&&ge.return(o),n.isValid||n.set(0,0,0,0),n}function Fg(a,t,n,r){var f,p;if(!a.visible||!a.measurable)return;let o;r?o=a.worldTransform:(a.updateLocalTransform(),o=ge.get(),o.appendFrom(a.localTransform,n));const u=t,h=!!a.effects.length;if(h&&(t=Oi.get().clear()),a.boundsArea)t.addRect(a.boundsArea,o);else{a.bounds&&(t.matrix=o,t.addBounds(a.bounds));for(let m=0;m<a.children.length;m++)Fg(a.children[m],t,o,r)}if(h){for(let m=0;m<a.effects.length;m++)(p=(f=a.effects[m]).addBounds)==null||p.call(f,t);u.addBounds(t,_t.IDENTITY),Oi.return(t)}r||ge.return(o)}function rh(a,t){const n=a.parent;return n&&(rh(n,t),n.updateLocalTransform(),t.append(n.localTransform)),t}function Ig(a,t){if(a===16777215||!t)return t;if(t===16777215||!a)return a;const n=a>>16&255,r=a>>8&255,o=a&255,u=t>>16&255,h=t>>8&255,f=t&255,p=n*u/255|0,m=r*h/255|0,g=o*f/255|0;return(p<<16)+(m<<8)+g}const Nm=16777215;function Hm(a,t){return a===Nm?t:t===Nm?a:Ig(a,t)}function wl(a){return((a&255)<<16)+(a&65280)+(a>>16&255)}const _b={getGlobalAlpha(a){if(a)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,n=this.parent;for(;n;)t*=n.alpha,n=n.parent;return t},getGlobalTransform(a,t){if(t)return a.copyFrom(this.worldTransform);this.updateLocalTransform();const n=rh(this,ge.get().identity());return a.appendFrom(this.localTransform,n),ge.return(n),a},getGlobalTint(a){if(a)return this.renderGroup?wl(this.renderGroup.worldColor):this.parentRenderGroup?wl(Hm(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,n=this.parent;for(;n;)t=Hm(t,n.localColor),n=n.parent;return wl(t)}};function Zg(a,t,n){return t.clear(),n||(n=_t.IDENTITY),Qg(a,t,n,a,!0),t.isValid||t.set(0,0,0,0),t}function Qg(a,t,n,r,o){var p,m;let u;if(o)u=ge.get(),u=n.copyTo(u);else{if(!a.visible||!a.measurable)return;a.updateLocalTransform();const g=a.localTransform;u=ge.get(),u.appendFrom(g,n)}const h=t,f=!!a.effects.length;if(f&&(t=Oi.get().clear()),a.boundsArea)t.addRect(a.boundsArea,u);else{a.renderPipeId&&(t.matrix=u,t.addBounds(a.bounds));const g=a.children;for(let y=0;y<g.length;y++)Qg(g[y],t,u,r,!1)}if(f){for(let g=0;g<a.effects.length;g++)(m=(p=a.effects[g]).addLocalBounds)==null||m.call(p,t,r);h.addBounds(t,_t.IDENTITY),Oi.return(t)}ge.return(u)}function Kg(a,t){const n=a.children;for(let r=0;r<n.length;r++){const o=n[r],u=o.uid,h=(o._didViewChangeTick&65535)<<16|o._didContainerChangeTick&65535,f=t.index;(t.data[f]!==u||t.data[f+1]!==h)&&(t.data[t.index]=u,t.data[t.index+1]=h,t.didChange=!0),t.index=f+2,o.children.length&&Kg(o,t)}return t.didChange}const bb=new _t,vb={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(a,t){const n=Math.sign(this.scale.x)||1;t!==0?this.scale.x=a/t*n:this.scale.x=n},_setHeight(a,t){const n=Math.sign(this.scale.y)||1;t!==0?this.scale.y=a/t*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new ni});const a=this._localBoundsCacheData;return a.index=1,a.didChange=!1,a.data[0]!==this._didViewChangeTick&&(a.didChange=!0,a.data[0]=this._didViewChangeTick),Kg(this,a),a.didChange&&Zg(this,a.localBounds,bb),a.localBounds},getBounds(a,t){return jg(this,a,t||new ni)}},Sb={_onRender:null,set onRender(a){const t=this.renderGroup||this.parentRenderGroup;if(!a){this._onRender&&(t==null||t.removeOnRender(this)),this._onRender=null;return}this._onRender||t==null||t.addOnRender(this),this._onRender=a},get onRender(){return this._onRender}},Ab={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(a){this._zIndex!==a&&(this._zIndex=a,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Tb))}};function Tb(a,t){return a._zIndex-t._zIndex}const wb={getGlobalPosition(a=new pe,t=!1){return this.parent?this.parent.toGlobal(this._position,a,t):(a.x=this._position.x,a.y=this._position.y),a},toGlobal(a,t,n=!1){const r=this.getGlobalTransform(ge.get(),n);return t=r.apply(a,t),ge.return(r),t},toLocal(a,t,n,r){t&&(a=t.toGlobal(a,n,r));const o=this.getGlobalTransform(ge.get(),r);return n=o.applyInverse(a,n),ge.return(o),n}};class Wg{constructor(){this.uid=Ft("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let Mb=0;class Cb{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new Ol(this.textureOptions)}createTexture(t,n,r){const o=new ai({...this.textureOptions,width:t,height:n,resolution:1,antialias:r,autoGarbageCollect:!1});return new St({source:o,label:`texturePool_${Mb++}`})}getOptimalTexture(t,n,r=1,o){let u=Math.ceil(t*r-1e-6),h=Math.ceil(n*r-1e-6);u=zl(u),h=zl(h);const f=(u<<17)+(h<<1)+(o?1:0);this._texturePool[f]||(this._texturePool[f]=[]);let p=this._texturePool[f].pop();return p||(p=this.createTexture(u,h,o)),p.source._resolution=r,p.source.width=u/r,p.source.height=h/r,p.source.pixelWidth=u,p.source.pixelHeight=h,p.frame.x=0,p.frame.y=0,p.frame.width=t,p.frame.height=n,p.updateUvs(),this._poolKeyHash[p.uid]=f,p}getSameSizeTexture(t,n=!1){const r=t.source;return this.getOptimalTexture(t.width,t.height,r._resolution,n)}returnTexture(t,n=!1){const r=this._poolKeyHash[t.uid];n&&(t.source.style=this.textureStyle),this._texturePool[r].push(t)}clear(t){if(t=t!==!1,t)for(const n in this._texturePool){const r=this._texturePool[n];if(r)for(let o=0;o<r.length;o++)r[o].destroy(!0)}this._texturePool={}}}const Eb=new Cb;class Rb{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new _t,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Wg,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const n=t.children;for(let r=0;r<n.length;r++){const o=n[r];o._updateFlags=15,this.addChild(o)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Eb.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const n=this.childrenToUpdate[t];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const n=this.renderGroupChildren.indexOf(t);n>-1&&this.renderGroupChildren.splice(n,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const n=t.children;for(let r=0;r<n.length;r++)this.addChild(n[r])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const n=t.children;for(let r=0;r<n.length;r++)this.removeChild(n[r])}removeChildren(t){for(let n=0;n<t.length;n++)this.removeChild(t[n])}onChildUpdate(t){let n=this.childrenToUpdate[t.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const n=this.root.children;for(let r=0;r<n.length;r++)this._getChildren(n[r],t);return t}_getChildren(t,n=[]){if(n.push(t),t.renderGroup)return n;const r=t.children;for(let o=0;o<r.length;o++)this._getChildren(r[o],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new _t),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new _t),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new _t),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function Bb(a,t,n={}){for(const r in t)!n[r]&&t[r]!==void 0&&(a[r]=t[r])}const fc=new Ge(null),dc=new Ge(null),pc=new Ge(null,1,1),km=1,zb=2,mc=4;class Ui extends si{constructor(t={}){var n,r;super(),this.uid=Ft("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new _t,this.relativeGroupTransform=new _t,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Ge(this,0,0),this._scale=pc,this._pivot=dc,this._skew=fc,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],Bb(this,t,{children:!0,parent:!0,effects:!0}),(n=t.children)==null||n.forEach(o=>this.addChild(o)),(r=t.parent)==null||r.addChild(this)}static mixin(t){vt("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),ce.mixin(Ui,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||vt(Ot,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let o=0;o<t.length;o++)this.addChild(t[o]);return t[0]}const n=t[0],r=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),r&&(r.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,r&&r.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...t){if(t.length>1){for(let o=0;o<t.length;o++)this.removeChild(t[o]);return t[0]}const n=t[0],r=this.children.indexOf(n);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,r),n.emit("removed",this)),n}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),this.renderGroup=zi.get(Rb,this),this.groupTransform=_t.IDENTITY,t==null||t.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),zi.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t==null||t.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new _t),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*q_}set angle(t){this.rotation=t*j_}get pivot(){return this._pivot===dc&&(this._pivot=new Ge(this,0,0)),this._pivot}set pivot(t){this._pivot===dc&&(this._pivot=new Ge(this,0,0)),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===fc&&(this._skew=new Ge(this,0,0)),this._skew}set skew(t){this._skew===fc&&(this._skew=new Ge(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===pc&&(this._scale=new Ge(this,1,1)),this._scale}set scale(t){this._scale===pc&&(this._scale=new Ge(this,0,0)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const n=this.getLocalBounds().width;this._setWidth(t,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const n=this.getLocalBounds().height;this._setHeight(t,n)}getSize(t){t||(t={});const n=this.getLocalBounds();return t.width=Math.abs(this.scale.x*n.width),t.height=Math.abs(this.scale.y*n.height),t}setSize(t,n){const r=this.getLocalBounds();typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,r.width),n!==void 0&&this._setHeight(n,r.height)}_updateSkew(){const t=this._rotation,n=this._skew;this._cx=Math.cos(t+n._y),this._sx=Math.sin(t+n._y),this._cy=-Math.sin(t-n._x),this._sy=Math.cos(t-n._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const n=this.localTransform,r=this._scale,o=this._pivot,u=this._position,h=r._x,f=r._y,p=o._x,m=o._y;n.a=this._cx*h,n.b=this._sx*h,n.c=this._cy*f,n.d=this._sy*f,n.tx=u._x-(p*n.a+m*n.c),n.ty=u._y-(p*n.b+m*n.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=km,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const r=$t.shared.setValue(t??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=km,this._onUpdate())}get tint(){return wl(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=zb,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const n=t?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=mc,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const n=t?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=mc,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const n=t?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=mc,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){var o;if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t==null?void 0:t.children)&&n)for(let u=0;u<n.length;++u)n[u].destroy(t);(o=this.renderGroup)==null||o.destroy(),this.renderGroup=null}}ce.mixin(Ui,fb,xb,wb,Sb,vb,mb,gb,Ab,ob,cb,_b,db);class $g extends Ui{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new ni(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const n=this.bounds,{x:r,y:o}=t;return r>=n.minX&&r<=n.maxX&&o>=n.minY&&o<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){var n,r;super.destroy(t),this._bounds=null;for(const o in this._gpuData)(r=(n=this._gpuData[o]).destroy)==null||r.call(n);this._gpuData=null}collectRenderablesSimple(t,n,r){const{renderPipes:o}=n;o.blendMode.setBlendMode(this,this.groupBlendMode,t),o[this.renderPipeId].addRenderable(this,t),this.didViewUpdate=!1;const h=this.children,f=h.length;for(let p=0;p<f;p++)h[p].collectRenderables(t,n,r)}}class cn extends $g{constructor(t=St.EMPTY){t instanceof St&&(t={texture:t});const{texture:n=St.EMPTY,anchor:r,roundPixels:o,width:u,height:h,...f}=t;super({label:"Sprite",...f}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Ge({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=o??!1,u!==void 0&&(this.width=u),h!==void 0&&(this.height=h)}static from(t,n=!1){return t instanceof St?new cn(t):new cn(St.from(t,n))}set texture(t){t||(t=St.EMPTY);const n=this._texture;n!==t&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return $_(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return vt("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,n=this._texture,r=this._bounds,{width:o,height:u}=n.orig;r.minX=-t._x*o,r.maxX=r.minX+o,r.minY=-t._y*u,r.maxY=r.minY+u}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,n){typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}}const Ob=new ni;function Jg(a,t,n){const r=Ob;a.measurable=!0,jg(a,n,r),t.addBoundsMask(r),a.measurable=!1}let gc=0;const Lm=500;function Xt(...a){gc!==Lm&&(gc++,gc===Lm?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...a))}function ty(a,t,n){const r=Oi.get();a.measurable=!0;const o=ge.get().identity(),u=ey(a,n,o);Zg(a,r,u),a.measurable=!1,t.addBoundsMask(r),ge.return(o),Oi.return(r)}function ey(a,t,n){return a?(a!==t&&(ey(a.parent,t,n),a.updateLocalTransform(),n.append(a.localTransform)),n):(Xt("Mask bounds, renderable is not inside the root container"),n)}class iy{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof cn),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,n){this.inverse||Jg(this.mask,t,n)}addLocalBounds(t,n){ty(this.mask,t,n)}containsPoint(t,n){const r=this.mask;return n(r,t)}destroy(){this.reset()}static test(t){return t instanceof cn}}iy.extension=ut.MaskEffect;class ny{constructor(t){this.priority=0,this.pipe="colorMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}ny.extension=ut.MaskEffect;class sy{constructor(t){this.priority=0,this.pipe="stencilMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,n){Jg(this.mask,t,n)}addLocalBounds(t,n){ty(this.mask,t,n)}containsPoint(t,n){const r=this.mask;return n(r,t)}destroy(){this.reset()}static test(t){return t instanceof Ui}}sy.extension=ut.MaskEffect;const Db={createCanvas:(a,t)=>{const n=document.createElement("canvas");return n.width=a,n.height=t,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(a,t)=>fetch(a,t),parseXML:a=>new DOMParser().parseFromString(a,"text/xml")};let Pm=Db;const It={get(){return Pm},set(a){Pm=a}};class ay extends ai{constructor(t){t.resource||(t.resource=It.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,n=this.height,r=this._resolution){const o=super.resize(t,n,r);return o&&this.resizeCanvas(),o}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}ay.extension=ut.TextureSource;class Hn extends ai{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Hn.extension=ut.TextureSource;var Pc=(a=>(a[a.INTERACTION=50]="INTERACTION",a[a.HIGH=25]="HIGH",a[a.NORMAL=0]="NORMAL",a[a.LOW=-25]="LOW",a[a.UTILITY=-50]="UTILITY",a))(Pc||{});class yc{constructor(t,n=null,r=0,o=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=n,this.priority=r,this._once=o}match(t,n=null){return this._fn===t&&this._context===n}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=t?null:n,this.previous=null,n}}const ry=class Ue{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new yc(null,null,1/0),this.deltaMS=1/Ue.targetFPMS,this.elapsedMS=1/Ue.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,n,r=Pc.NORMAL){return this._addListener(new yc(t,n,r))}addOnce(t,n,r=Pc.NORMAL){return this._addListener(new yc(t,n,r,!0))}_addListener(t){let n=this._head.next,r=this._head;if(!n)t.connect(r);else{for(;n;){if(t.priority>n.priority){t.connect(r);break}r=n,n=n.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,n){let r=this._head.next;for(;r;)r.match(t,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,n=this._head;for(;n=n.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const u=t-this._lastFrame|0;if(u<this._minElapsedMS)return;this._lastFrame=t-u%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*Ue.targetFPMS;const r=this._head;let o=r.next;for(;o;)o=o.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const n=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,n)/1e3,Ue.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,t);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!Ue._shared){const t=Ue._shared=new Ue;t.autoStart=!0,t._protected=!0}return Ue._shared}static get system(){if(!Ue._system){const t=Ue._system=new Ue;t.autoStart=!0,t._protected=!0}return Ue._system}};ry.targetFPMS=.06;let gl=ry,xc;async function ly(){return xc??(xc=(async()=>{var h;const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const n=await new Promise(f=>{const p=document.createElement("video");p.onloadeddata=()=>f(p),p.onerror=()=>f(null),p.autoplay=!1,p.crossOrigin="anonymous",p.preload="auto",p.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",p.load()});if(!n)return"premultiply-alpha-on-upload";const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n);const u=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,u),t.deleteFramebuffer(o),t.deleteTexture(r),(h=t.getExtension("WEBGL_lose_context"))==null||h.loseContext(),u[0]<=u[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),xc}const Gl=class oy extends ai{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...oy.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=gl.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,n=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await ly(),this._load=new Promise((r,o)=>{this.isValid?r(this):(this._resolve=r,this._reject=o,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(gl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(gl.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(gl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};Gl.extension=ut.TextureSource;Gl.defaultOptions={...ai.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Gl.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Ml=Gl;const ii=(a,t,n=!1)=>(Array.isArray(a)||(a=[a]),t?a.map(r=>typeof r=="string"||n?t(r):r):a);class Ub{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const n=this._cache.get(t);return n||Xt(`[Assets] Asset id ${t} was not found in the Cache`),n}set(t,n){const r=ii(t);let o;for(let p=0;p<this.parsers.length;p++){const m=this.parsers[p];if(m.test(n)){o=m.getCacheableAssets(r,n);break}}const u=new Map(Object.entries(o||{}));o||r.forEach(p=>{u.set(p,n)});const h=[...u.keys()],f={cacheKeys:h,keys:r};r.forEach(p=>{this._cacheMap.set(p,f)}),h.forEach(p=>{const m=o?o[p]:n;this._cache.has(p)&&this._cache.get(p)!==m&&Xt("[Cache] already has key:",p),this._cache.set(p,u.get(p))})}remove(t){if(!this._cacheMap.has(t)){Xt(`[Assets] Asset id ${t} was not found in the Cache`);return}const n=this._cacheMap.get(t);n.cacheKeys.forEach(o=>{this._cache.delete(o)}),n.keys.forEach(o=>{this._cacheMap.delete(o)})}get parsers(){return this._parsers}}const Vt=new Ub,Yc=[];ce.handleByList(ut.TextureSource,Yc);function uy(a={}){const t=a&&a.resource,n=t?a.resource:a,r=t?a:{resource:a};for(let o=0;o<Yc.length;o++){const u=Yc[o];if(u.test(n))return new u(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function Gb(a={},t=!1){const n=a&&a.resource,r=n?a.resource:a,o=n?a:{resource:a};if(!t&&Vt.has(r))return Vt.get(r);const u=new St({source:uy(o)});return u.on("destroy",()=>{Vt.has(r)&&Vt.remove(r)}),t||Vt.set(r,u),u}function Nb(a,t=!1){return typeof a=="string"?Vt.get(a):a instanceof ai?new St({source:a}):Gb(a,t)}St.from=Nb;ai.from=uy;ce.add(iy,ny,sy,Ml,Hn,ay,sh);var hn=(a=>(a[a.Low=0]="Low",a[a.Normal=1]="Normal",a[a.High=2]="High",a))(hn||{});function ei(a){if(typeof a!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(a)}`)}function Ga(a){return a.split("?")[0].split("#")[0]}function Hb(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function kb(a,t,n){return a.replace(new RegExp(Hb(t),"g"),n)}function Lb(a,t){let n="",r=0,o=-1,u=0,h=-1;for(let f=0;f<=a.length;++f){if(f<a.length)h=a.charCodeAt(f);else{if(h===47)break;h=47}if(h===47){if(!(o===f-1||u===1))if(o!==f-1&&u===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const p=n.lastIndexOf("/");if(p!==n.length-1){p===-1?(n="",r=0):(n=n.slice(0,p),r=n.length-1-n.lastIndexOf("/")),o=f,u=0;continue}}else if(n.length===2||n.length===1){n="",r=0,o=f,u=0;continue}}}else n.length>0?n+=`/${a.slice(o+1,f)}`:n=a.slice(o+1,f),r=f-o-1;o=f,u=0}else h===46&&u!==-1?++u:u=-1}return n}const Ne={toPosix(a){return kb(a,"\\","/")},isUrl(a){return/^https?:/.test(this.toPosix(a))},isDataUrl(a){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(a)},isBlobUrl(a){return a.startsWith("blob:")},hasProtocol(a){return/^[^/:]+:/.test(this.toPosix(a))},getProtocol(a){ei(a),a=this.toPosix(a);const t=/^file:\/\/\//.exec(a);if(t)return t[0];const n=/^[^/:]+:\/{0,2}/.exec(a);return n?n[0]:""},toAbsolute(a,t,n){if(ei(a),this.isDataUrl(a)||this.isBlobUrl(a))return a;const r=Ga(this.toPosix(t??It.get().getBaseUrl())),o=Ga(this.toPosix(n??this.rootname(r)));return a=this.toPosix(a),a.startsWith("/")?Ne.join(o,a.slice(1)):this.isAbsolute(a)?a:this.join(r,a)},normalize(a){if(ei(a),a.length===0)return".";if(this.isDataUrl(a)||this.isBlobUrl(a))return a;a=this.toPosix(a);let t="";const n=a.startsWith("/");this.hasProtocol(a)&&(t=this.rootname(a),a=a.slice(t.length));const r=a.endsWith("/");return a=Lb(a),a.length>0&&r&&(a+="/"),n?`/${a}`:t+a},isAbsolute(a){return ei(a),a=this.toPosix(a),this.hasProtocol(a)?!0:a.startsWith("/")},join(...a){if(a.length===0)return".";let t;for(let n=0;n<a.length;++n){const r=a[n];if(ei(r),r.length>0)if(t===void 0)t=r;else{const o=a[n-1]??"";this.joinExtensions.includes(this.extname(o).toLowerCase())?t+=`/../${r}`:t+=`/${r}`}}return t===void 0?".":this.normalize(t)},dirname(a){if(ei(a),a.length===0)return".";a=this.toPosix(a);let t=a.charCodeAt(0);const n=t===47;let r=-1,o=!0;const u=this.getProtocol(a),h=a;a=a.slice(u.length);for(let f=a.length-1;f>=1;--f)if(t=a.charCodeAt(f),t===47){if(!o){r=f;break}}else o=!1;return r===-1?n?"/":this.isUrl(h)?u+a:u:n&&r===1?"//":u+a.slice(0,r)},rootname(a){ei(a),a=this.toPosix(a);let t="";if(a.startsWith("/")?t="/":t=this.getProtocol(a),this.isUrl(a)){const n=a.indexOf("/",t.length);n!==-1?t=a.slice(0,n):t=a,t.endsWith("/")||(t+="/")}return t},basename(a,t){ei(a),t&&ei(t),a=Ga(this.toPosix(a));let n=0,r=-1,o=!0,u;if(t!==void 0&&t.length>0&&t.length<=a.length){if(t.length===a.length&&t===a)return"";let h=t.length-1,f=-1;for(u=a.length-1;u>=0;--u){const p=a.charCodeAt(u);if(p===47){if(!o){n=u+1;break}}else f===-1&&(o=!1,f=u+1),h>=0&&(p===t.charCodeAt(h)?--h===-1&&(r=u):(h=-1,r=f))}return n===r?r=f:r===-1&&(r=a.length),a.slice(n,r)}for(u=a.length-1;u>=0;--u)if(a.charCodeAt(u)===47){if(!o){n=u+1;break}}else r===-1&&(o=!1,r=u+1);return r===-1?"":a.slice(n,r)},extname(a){ei(a),a=Ga(this.toPosix(a));let t=-1,n=0,r=-1,o=!0,u=0;for(let h=a.length-1;h>=0;--h){const f=a.charCodeAt(h);if(f===47){if(!o){n=h+1;break}continue}r===-1&&(o=!1,r=h+1),f===46?t===-1?t=h:u!==1&&(u=1):t!==-1&&(u=-1)}return t===-1||r===-1||u===0||u===1&&t===r-1&&t===n+1?"":a.slice(t,r)},parse(a){ei(a);const t={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return t;a=Ga(this.toPosix(a));let n=a.charCodeAt(0);const r=this.isAbsolute(a);let o;t.root=this.rootname(a),r||this.hasProtocol(a)?o=1:o=0;let u=-1,h=0,f=-1,p=!0,m=a.length-1,g=0;for(;m>=o;--m){if(n=a.charCodeAt(m),n===47){if(!p){h=m+1;break}continue}f===-1&&(p=!1,f=m+1),n===46?u===-1?u=m:g!==1&&(g=1):u!==-1&&(g=-1)}return u===-1||f===-1||g===0||g===1&&u===f-1&&u===h+1?f!==-1&&(h===0&&r?t.base=t.name=a.slice(1,f):t.base=t.name=a.slice(h,f)):(h===0&&r?(t.name=a.slice(1,u),t.base=a.slice(1,f)):(t.name=a.slice(h,u),t.base=a.slice(h,f)),t.ext=a.slice(u,f)),t.dir=this.dirname(a),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function cy(a,t,n,r,o){const u=t[n];for(let h=0;h<u.length;h++){const f=u[h];n<t.length-1?cy(a.replace(r[n],f),t,n+1,r,o):o.push(a.replace(r[n],f))}}function Pb(a){const t=/\{(.*?)\}/g,n=a.match(t),r=[];if(n){const o=[];n.forEach(u=>{const h=u.substring(1,u.length-1).split(",");o.push(h)}),cy(a,o,0,n,r)}else r.push(a);return r}const Dl=a=>!Array.isArray(a);class Ds{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,n)=>`${t}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(t,n)=>n.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const n=t;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}getAlias(t){const{alias:n,src:r}=t;return ii(n||r,u=>typeof u=="string"?u:Array.isArray(u)?u.map(h=>(h==null?void 0:h.src)??h):u!=null&&u.src?u.src:u,!0)}addManifest(t){this._manifest&&Xt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(t,n){const r=[];let o=n;Array.isArray(n)||(o=Object.entries(n).map(([u,h])=>typeof h=="string"||Array.isArray(h)?{alias:u,src:h}:{alias:u,...h})),o.forEach(u=>{const h=u.src,f=u.alias;let p;if(typeof f=="string"){const m=this._createBundleAssetId(t,f);r.push(m),p=[f,m]}else{const m=f.map(g=>this._createBundleAssetId(t,g));r.push(...m),p=[...f,...m]}this.add({...u,alias:p,src:h})}),this._bundles[t]=r}add(t){const n=[];Array.isArray(t)?n.push(...t):n.push(t);let r;r=u=>{this.hasKey(u)&&Xt(`[Resolver] already has key: ${u} overwriting`)},ii(n).forEach(u=>{const{src:h}=u;let{data:f,format:p,loadParser:m}=u;const g=ii(h).map(_=>typeof _=="string"?Pb(_):Array.isArray(_)?_:[_]),y=this.getAlias(u);Array.isArray(y)?y.forEach(r):r(y);const b=[];g.forEach(_=>{_.forEach(S=>{let M={};if(typeof S!="object"){M.src=S;for(let A=0;A<this._parsers.length;A++){const R=this._parsers[A];if(R.test(S)){M=R.parse(S);break}}}else f=S.data??f,p=S.format??p,m=S.loadParser??m,M={...M,...S};if(!y)throw new Error(`[Resolver] alias is undefined for this asset: ${M.src}`);M=this._buildResolvedAsset(M,{aliases:y,data:f,format:p,loadParser:m}),b.push(M)})}),y.forEach(_=>{this._assetMap[_]=b})})}resolveBundle(t){const n=Dl(t);t=ii(t);const r={};return t.forEach(o=>{const u=this._bundles[o];if(u){const h=this.resolve(u),f={};for(const p in h){const m=h[p];f[this._extractAssetIdFromBundle(o,p)]=m}r[o]=f}}),n?r[t[0]]:r}resolveUrl(t){const n=this.resolve(t);if(typeof t!="string"){const r={};for(const o in n)r[o]=n[o].src;return r}return n.src}resolve(t){const n=Dl(t);t=ii(t);const r={};return t.forEach(o=>{if(!this._resolverHash[o])if(this._assetMap[o]){let u=this._assetMap[o];const h=this._getPreferredOrder(u);h==null||h.priority.forEach(f=>{h.params[f].forEach(p=>{const m=u.filter(g=>g[f]?g[f]===p:!1);m.length&&(u=m)})}),this._resolverHash[o]=u[0]}else this._resolverHash[o]=this._buildResolvedAsset({alias:[o],src:o},{});r[o]=this._resolverHash[o]}),n?r[t[0]]:r}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let n=0;n<t.length;n++){const r=t[n],o=this._preferredOrder.find(u=>u.params.format.includes(r.format));if(o)return o}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const n=/\?/.test(t)?"&":"?";return`${t}${n}${this._defaultSearchParams}`}_buildResolvedAsset(t,n){const{aliases:r,data:o,loadParser:u,format:h}=n;return(this._basePath||this._rootPath)&&(t.src=Ne.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=r??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...o||{},...t.data},t.loadParser=u??t.loadParser,t.format=h??t.format??Yb(t.src),t}}Ds.RETINA_PREFIX=/@([0-9\.]+)x/;function Yb(a){return a.split(".").pop().split("?").shift().split("#").shift()}const Vc=(a,t)=>{const n=t.split("?")[1];return n&&(a+=`?${n}`),a},hy=class Pa{constructor(t,n){this.linkedSheets=[];let r=t;(t==null?void 0:t.source)instanceof ai&&(r={texture:t,data:n});const{texture:o,data:u,cachePrefix:h=""}=r;this.cachePrefix=h,this._texture=o instanceof St?o:null,this.textureSource=o.source,this.textures={},this.animations={},this.data=u;const f=parseFloat(u.meta.scale);f?(this.resolution=f,o.source.resolution=this.resolution):this.resolution=o.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Pa.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let n=t;const r=Pa.BATCH_SIZE;for(;n-t<r&&n<this._frameKeys.length;){const o=this._frameKeys[n],u=this._frames[o],h=u.frame;if(h){let f=null,p=null;const m=u.trimmed!==!1&&u.sourceSize?u.sourceSize:u.frame,g=new Wt(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);u.rotated?f=new Wt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):f=new Wt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),u.trimmed!==!1&&u.spriteSourceSize&&(p=new Wt(Math.floor(u.spriteSourceSize.x)/this.resolution,Math.floor(u.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[o]=new St({source:this.textureSource,frame:f,orig:g,trim:p,rotate:u.rotated?2:0,defaultAnchor:u.anchor,defaultBorders:u.borders,label:o.toString()})}n++}}_processAnimations(){const t=this.data.animations||{};for(const n in t){this.animations[n]=[];for(let r=0;r<t[n].length;r++){const o=t[n][r];this.animations[n].push(this.textures[o])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Pa.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Pa.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var n;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((n=this._texture)==null||n.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};hy.BATCH_SIZE=1e3;let Ym=hy;const Vb=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function fy(a,t,n){const r={};if(a.forEach(o=>{r[o]=t}),Object.keys(t.textures).forEach(o=>{r[`${t.cachePrefix}${o}`]=t.textures[o]}),!n){const o=Ne.dirname(a[0]);t.linkedSheets.forEach((u,h)=>{const f=fy([`${o}/${t.data.meta.related_multi_packs[h]}`],u,!0);Object.assign(r,f)})}return r}const Xb={extension:ut.Asset,cache:{test:a=>a instanceof Ym,getCacheableAssets:(a,t)=>fy(a,t,!1)},resolver:{extension:{type:ut.ResolveParser,name:"resolveSpritesheet"},test:a=>{const n=a.split("?")[0].split("."),r=n.pop(),o=n.pop();return r==="json"&&Vb.includes(o)},parse:a=>{var n;const t=a.split(".");return{resolution:parseFloat(((n=Ds.RETINA_PREFIX.exec(a))==null?void 0:n[1])??"1"),format:t[t.length-2],src:a}}},loader:{name:"spritesheetLoader",extension:{type:ut.LoadParser,priority:hn.Normal,name:"spritesheetLoader"},async testParse(a,t){return Ne.extname(t.src).toLowerCase()===".json"&&!!a.frames},async parse(a,t,n){var y,b;const{texture:r,imageFilename:o,textureOptions:u,cachePrefix:h}=(t==null?void 0:t.data)??{};let f=Ne.dirname(t.src);f&&f.lastIndexOf("/")!==f.length-1&&(f+="/");let p;if(r instanceof St)p=r;else{const _=Vc(f+(o??a.meta.image),t.src);p=(await n.load([{src:_,data:u}]))[_]}const m=new Ym({texture:p.source,data:a,cachePrefix:h});await m.parse();const g=(y=a==null?void 0:a.meta)==null?void 0:y.related_multi_packs;if(Array.isArray(g)){const _=[];for(const M of g){if(typeof M!="string")continue;let A=f+M;(b=t.data)!=null&&b.ignoreMultiPack||(A=Vc(A,t.src),_.push(n.load({src:A,data:{textureOptions:u,ignoreMultiPack:!0}})))}const S=await Promise.all(_);m.linkedSheets=S,S.forEach(M=>{M.linkedSheets=[m].concat(m.linkedSheets.filter(A=>A!==M))})}return m},async unload(a,t,n){await n.unload(a.textureSource._sourceOrigin),a.destroy(!1)}}};ce.add(Xb);const _c=Object.create(null),Vm=Object.create(null);function lh(a,t){let n=Vm[a];return n===void 0&&(_c[t]===void 0&&(_c[t]=1),Vm[a]=n=_c[t]++),n}let Ts;function dy(){return(!Ts||Ts!=null&&Ts.isContextLost())&&(Ts=It.get().createCanvas().getContext("webgl",{})),Ts}let yl;function qb(){if(!yl){yl="mediump";const a=dy();a&&a.getShaderPrecisionFormat&&(yl=a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision?"highp":"mediump")}return yl}function jb(a,t,n){return t?a:n?(a=a.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${a}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${a}
        `}function Fb(a,t,n){const r=n?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(a.substring(0,9)!=="precision"){let o=n?t.requestedFragmentPrecision:t.requestedVertexPrecision;return o==="highp"&&r!=="highp"&&(o="mediump"),`precision ${o} float;
${a}`}else if(r!=="highp"&&a.substring(0,15)==="precision highp")return a.replace("precision highp","precision mediump");return a}function Ib(a,t){return t?`#version 300 es
${a}`:a}const Zb={},Qb={};function Kb(a,{name:t="pixi-program"},n=!0){t=t.replace(/\s+/g,"-"),t+=n?"-fragment":"-vertex";const r=n?Zb:Qb;return r[t]?(r[t]++,t+=`-${r[t]}`):r[t]=1,a.indexOf("#define SHADER_NAME")!==-1?a:`${`#define SHADER_NAME ${t}`}
${a}`}function Wb(a,t){return t?a.replace("#version 300 es",""):a}const bc={stripVersion:Wb,ensurePrecision:Fb,addProgramDefines:jb,setProgramName:Kb,insertVersion:Ib},vc=Object.create(null),py=class Xc{constructor(t){t={...Xc.defaultOptions,...t};const n=t.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:qb()},setProgramName:{name:t.name},addProgramDefines:n,insertVersion:n};let o=t.fragment,u=t.vertex;Object.keys(bc).forEach(h=>{const f=r[h];o=bc[h](o,f,!0),u=bc[h](u,f,!1)}),this.fragment=o,this.vertex=u,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=lh(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const n=`${t.vertex}:${t.fragment}`;return vc[n]||(vc[n]=new Xc(t)),vc[n]}};py.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let my=py;const Xm={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function $b(a){return Xm[a]??Xm.float32}const Jb={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function tv({source:a,entryPoint:t}){const n={},r=a.indexOf(`fn ${t}`);if(r!==-1){const o=a.indexOf("->",r);if(o!==-1){const u=a.substring(r,o),h=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let f;for(;(f=h.exec(u))!==null;){const p=Jb[f[3]]??"float32";n[f[2]]={location:parseInt(f[1],10),format:p,stride:$b(p).stride,offset:0,instance:!1,start:0}}}}return n}function Sc(a){var y,b;const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,o=/var(<[^>]+>)? (\w+)/,u=/:\s*(\w+)/,h=/struct\s+(\w+)\s*{([^}]+)}/g,f=/(\w+)\s*:\s*([\w\<\>]+)/g,p=/struct\s+(\w+)/,m=(y=a.match(t))==null?void 0:y.map(_=>({group:parseInt(_.match(n)[1],10),binding:parseInt(_.match(r)[1],10),name:_.match(o)[2],isUniform:_.match(o)[1]==="<uniform>",type:_.match(u)[1]}));if(!m)return{groups:[],structs:[]};const g=((b=a.match(h))==null?void 0:b.map(_=>{const S=_.match(p)[1],M=_.match(f).reduce((A,R)=>{const[O,U]=R.split(":");return A[O.trim()]=U.trim(),A},{});return M?{name:S,members:M}:null}).filter(({name:_})=>m.some(S=>S.type===_)))??[];return{groups:m,structs:g}}var Ya=(a=>(a[a.VERTEX=1]="VERTEX",a[a.FRAGMENT=2]="FRAGMENT",a[a.COMPUTE=4]="COMPUTE",a))(Ya||{});function ev({groups:a}){const t=[];for(let n=0;n<a.length;n++){const r=a[n];t[r.group]||(t[r.group]=[]),r.isUniform?t[r.group].push({binding:r.binding,visibility:Ya.VERTEX|Ya.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?t[r.group].push({binding:r.binding,visibility:Ya.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&t[r.group].push({binding:r.binding,visibility:Ya.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function iv({groups:a}){const t=[];for(let n=0;n<a.length;n++){const r=a[n];t[r.group]||(t[r.group]={}),t[r.group][r.name]=r.binding}return t}function nv(a,t){const n=new Set,r=new Set,o=[...a.structs,...t.structs].filter(h=>n.has(h.name)?!1:(n.add(h.name),!0)),u=[...a.groups,...t.groups].filter(h=>{const f=`${h.name}-${h.binding}`;return r.has(f)?!1:(r.add(f),!0)});return{structs:o,groups:u}}const Ac=Object.create(null);class Nl{constructor(t){var f,p;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:r,layout:o,gpuLayout:u,name:h}=t;if(this.name=h,this.fragment=n,this.vertex=r,n.source===r.source){const m=Sc(n.source);this.structsAndGroups=m}else{const m=Sc(r.source),g=Sc(n.source);this.structsAndGroups=nv(m,g)}this.layout=o??iv(this.structsAndGroups),this.gpuLayout=u??ev(this.structsAndGroups),this.autoAssignGlobalUniforms=((f=this.layout[0])==null?void 0:f.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((p=this.layout[1])==null?void 0:p.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:n}=this,r=t.source+n.source+t.entryPoint+n.entryPoint;this._layoutKey=lh(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=tv(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const n=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return Ac[n]||(Ac[n]=new Nl(t)),Ac[n]}}const gy=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],sv=gy.reduce((a,t)=>(a[t]=!0,a),{});function av(a,t){switch(a){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const yy=class xy{constructor(t,n){this._touched=0,this.uid=Ft("uniform"),this._resourceType="uniformGroup",this._resourceId=Ft("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...xy.defaultOptions,...n},this.uniformStructures=t;const r={};for(const o in t){const u=t[o];if(u.name=o,u.size=u.size??1,!sv[u.type])throw new Error(`Uniform type ${u.type} is not supported. Supported uniform types are: ${gy.join(", ")}`);u.value??(u.value=av(u.type,u.size)),r[o]=u.value}this.uniforms=r,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=lh(Object.keys(r).map(o=>`${o}-${t[o].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};yy.defaultOptions={ubo:!1,isStatic:!1};let _y=yy;class Cl{constructor(t){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const r in t){const o=t[r];this.setResource(o,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let n=0;for(const r in this.resources)t[n++]=this.resources[r]._resourceId;this._key=t.join("|")}setResource(t,n){var o,u;const r=this.resources[n];t!==r&&(r&&((o=t.off)==null||o.call(t,"change",this.onResourceChange,this)),(u=t.on)==null||u.call(t,"change",this.onResourceChange,this),this.resources[n]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const n=this.resources;for(const r in n)n[r]._touched=t}destroy(){var n;const t=this.resources;for(const r in t){const o=t[r];(n=o.off)==null||n.call(o,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const n=this.resources;for(const r in n)n[r]===t&&(n[r]=null)}else this._updateKey()}}var qc=(a=>(a[a.WEBGL=1]="WEBGL",a[a.WEBGPU=2]="WEBGPU",a[a.BOTH=3]="BOTH",a))(qc||{});class oh extends si{constructor(t){super(),this.uid=Ft("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:n,glProgram:r,groups:o,resources:u,compatibleRenderers:h,groupMap:f}=t;this.gpuProgram=n,this.glProgram=r,h===void 0&&(h=0,n&&(h|=qc.WEBGPU),r&&(h|=qc.WEBGL)),this.compatibleRenderers=h;const p={};if(!u&&!o&&(u={}),u&&o)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&o&&!f)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&o&&f)for(const m in f)for(const g in f[m]){const y=f[m][g];p[y]={group:m,binding:g,name:y}}else if(n&&o&&!f){const m=n.structsAndGroups.groups;f={},m.forEach(g=>{f[g.group]=f[g.group]||{},f[g.group][g.binding]=g.name,p[g.name]=g})}else if(u){o={},f={},n&&n.structsAndGroups.groups.forEach(y=>{f[y.group]=f[y.group]||{},f[y.group][y.binding]=y.name,p[y.name]=y});let m=0;for(const g in u)p[g]||(o[99]||(o[99]=new Cl,this._ownedBindGroups.push(o[99])),p[g]={group:99,binding:m,name:g},f[99]=f[99]||{},f[99][m]=g,m++);for(const g in u){const y=g;let b=u[g];!b.source&&!b._resourceType&&(b=new _y(b));const _=p[y];_&&(o[_.group]||(o[_.group]=new Cl,this._ownedBindGroups.push(o[_.group])),o[_.group].setResource(b,_.binding))}}this.groups=o,this._uniformBindMap=f,this.resources=this._buildResourceAccessor(o,p)}addResource(t,n,r){var o,u;(o=this._uniformBindMap)[n]||(o[n]={}),(u=this._uniformBindMap[n])[r]||(u[r]=t),this.groups[n]||(this.groups[n]=new Cl,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(t,n){const r={};for(const o in n){const u=n[o];Object.defineProperty(r,u.name,{get(){return t[u.group].getResource(u.binding)},set(h){t[u.group].setResource(h,u.binding)}})}return r}destroy(t=!1){var n,r;this.emit("destroy",this),t&&((n=this.gpuProgram)==null||n.destroy(),(r=this.glProgram)==null||r.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(o=>{o.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:n,gl:r,...o}=t;let u,h;return n&&(u=Nl.from(n)),r&&(h=my.from(r)),new oh({gpuProgram:u,glProgram:h,...o})}}const jc=[];ce.handleByNamedList(ut.Environment,jc);async function rv(a){if(!a)for(let t=0;t<jc.length;t++){const n=jc[t];if(n.value.test()){await n.value.load();return}}}let Na;function lv(){if(typeof Na=="boolean")return Na;try{Na=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Na=!1}return Na}function qm(a,t,n=2){const r=t&&t.length,o=r?t[0]*n:a.length;let u=by(a,0,o,n,!0);const h=[];if(!u||u.next===u.prev)return h;let f,p,m;if(r&&(u=fv(a,t,u,n)),a.length>80*n){f=1/0,p=1/0;let g=-1/0,y=-1/0;for(let b=n;b<o;b+=n){const _=a[b],S=a[b+1];_<f&&(f=_),S<p&&(p=S),_>g&&(g=_),S>y&&(y=S)}m=Math.max(g-f,y-p),m=m!==0?32767/m:0}return Fa(u,h,n,f,p,m,0),h}function by(a,t,n,r,o){let u;if(o===Av(a,t,n,r)>0)for(let h=t;h<n;h+=r)u=jm(h/r|0,a[h],a[h+1],u);else for(let h=n-r;h>=t;h-=r)u=jm(h/r|0,a[h],a[h+1],u);return u&&Bs(u,u.next)&&(Za(u),u=u.next),u}function kn(a,t){if(!a)return a;t||(t=a);let n=a,r;do if(r=!1,!n.steiner&&(Bs(n,n.next)||kt(n.prev,n,n.next)===0)){if(Za(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Fa(a,t,n,r,o,u,h){if(!a)return;!h&&u&&yv(a,r,o,u);let f=a;for(;a.prev!==a.next;){const p=a.prev,m=a.next;if(u?uv(a,r,o,u):ov(a)){t.push(p.i,a.i,m.i),Za(a),a=m.next,f=m.next;continue}if(a=m,a===f){h?h===1?(a=cv(kn(a),t),Fa(a,t,n,r,o,u,2)):h===2&&hv(a,t,n,r,o,u):Fa(kn(a),t,n,r,o,u,1);break}}}function ov(a){const t=a.prev,n=a,r=a.next;if(kt(t,n,r)>=0)return!1;const o=t.x,u=n.x,h=r.x,f=t.y,p=n.y,m=r.y,g=Math.min(o,u,h),y=Math.min(f,p,m),b=Math.max(o,u,h),_=Math.max(f,p,m);let S=r.next;for(;S!==t;){if(S.x>=g&&S.x<=b&&S.y>=y&&S.y<=_&&Va(o,f,u,p,h,m,S.x,S.y)&&kt(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function uv(a,t,n,r){const o=a.prev,u=a,h=a.next;if(kt(o,u,h)>=0)return!1;const f=o.x,p=u.x,m=h.x,g=o.y,y=u.y,b=h.y,_=Math.min(f,p,m),S=Math.min(g,y,b),M=Math.max(f,p,m),A=Math.max(g,y,b),R=Fc(_,S,t,n,r),O=Fc(M,A,t,n,r);let U=a.prevZ,H=a.nextZ;for(;U&&U.z>=R&&H&&H.z<=O;){if(U.x>=_&&U.x<=M&&U.y>=S&&U.y<=A&&U!==o&&U!==h&&Va(f,g,p,y,m,b,U.x,U.y)&&kt(U.prev,U,U.next)>=0||(U=U.prevZ,H.x>=_&&H.x<=M&&H.y>=S&&H.y<=A&&H!==o&&H!==h&&Va(f,g,p,y,m,b,H.x,H.y)&&kt(H.prev,H,H.next)>=0))return!1;H=H.nextZ}for(;U&&U.z>=R;){if(U.x>=_&&U.x<=M&&U.y>=S&&U.y<=A&&U!==o&&U!==h&&Va(f,g,p,y,m,b,U.x,U.y)&&kt(U.prev,U,U.next)>=0)return!1;U=U.prevZ}for(;H&&H.z<=O;){if(H.x>=_&&H.x<=M&&H.y>=S&&H.y<=A&&H!==o&&H!==h&&Va(f,g,p,y,m,b,H.x,H.y)&&kt(H.prev,H,H.next)>=0)return!1;H=H.nextZ}return!0}function cv(a,t){let n=a;do{const r=n.prev,o=n.next.next;!Bs(r,o)&&Sy(r,n,n.next,o)&&Ia(r,o)&&Ia(o,r)&&(t.push(r.i,n.i,o.i),Za(n),Za(n.next),n=a=o),n=n.next}while(n!==a);return kn(n)}function hv(a,t,n,r,o,u){let h=a;do{let f=h.next.next;for(;f!==h.prev;){if(h.i!==f.i&&bv(h,f)){let p=Ay(h,f);h=kn(h,h.next),p=kn(p,p.next),Fa(h,t,n,r,o,u,0),Fa(p,t,n,r,o,u,0);return}f=f.next}h=h.next}while(h!==a)}function fv(a,t,n,r){const o=[];for(let u=0,h=t.length;u<h;u++){const f=t[u]*r,p=u<h-1?t[u+1]*r:a.length,m=by(a,f,p,r,!1);m===m.next&&(m.steiner=!0),o.push(_v(m))}o.sort(dv);for(let u=0;u<o.length;u++)n=pv(o[u],n);return n}function dv(a,t){let n=a.x-t.x;if(n===0&&(n=a.y-t.y,n===0)){const r=(a.next.y-a.y)/(a.next.x-a.x),o=(t.next.y-t.y)/(t.next.x-t.x);n=r-o}return n}function pv(a,t){const n=mv(a,t);if(!n)return t;const r=Ay(n,a);return kn(r,r.next),kn(n,n.next)}function mv(a,t){let n=t;const r=a.x,o=a.y;let u=-1/0,h;if(Bs(a,n))return n;do{if(Bs(a,n.next))return n.next;if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const y=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(y<=r&&y>u&&(u=y,h=n.x<n.next.x?n:n.next,y===r))return h}n=n.next}while(n!==t);if(!h)return null;const f=h,p=h.x,m=h.y;let g=1/0;n=h;do{if(r>=n.x&&n.x>=p&&r!==n.x&&vy(o<m?r:u,o,p,m,o<m?u:r,o,n.x,n.y)){const y=Math.abs(o-n.y)/(r-n.x);Ia(n,a)&&(y<g||y===g&&(n.x>h.x||n.x===h.x&&gv(h,n)))&&(h=n,g=y)}n=n.next}while(n!==f);return h}function gv(a,t){return kt(a.prev,a,t.prev)<0&&kt(t.next,a,a.next)<0}function yv(a,t,n,r){let o=a;do o.z===0&&(o.z=Fc(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==a);o.prevZ.nextZ=null,o.prevZ=null,xv(o)}function xv(a){let t,n=1;do{let r=a,o;a=null;let u=null;for(t=0;r;){t++;let h=r,f=0;for(let m=0;m<n&&(f++,h=h.nextZ,!!h);m++);let p=n;for(;f>0||p>0&&h;)f!==0&&(p===0||!h||r.z<=h.z)?(o=r,r=r.nextZ,f--):(o=h,h=h.nextZ,p--),u?u.nextZ=o:a=o,o.prevZ=u,u=o;r=h}u.nextZ=null,n*=2}while(t>1);return a}function Fc(a,t,n,r,o){return a=(a-n)*o|0,t=(t-r)*o|0,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,a|t<<1}function _v(a){let t=a,n=a;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==a);return n}function vy(a,t,n,r,o,u,h,f){return(o-h)*(t-f)>=(a-h)*(u-f)&&(a-h)*(r-f)>=(n-h)*(t-f)&&(n-h)*(u-f)>=(o-h)*(r-f)}function Va(a,t,n,r,o,u,h,f){return!(a===h&&t===f)&&vy(a,t,n,r,o,u,h,f)}function bv(a,t){return a.next.i!==t.i&&a.prev.i!==t.i&&!vv(a,t)&&(Ia(a,t)&&Ia(t,a)&&Sv(a,t)&&(kt(a.prev,a,t.prev)||kt(a,t.prev,t))||Bs(a,t)&&kt(a.prev,a,a.next)>0&&kt(t.prev,t,t.next)>0)}function kt(a,t,n){return(t.y-a.y)*(n.x-t.x)-(t.x-a.x)*(n.y-t.y)}function Bs(a,t){return a.x===t.x&&a.y===t.y}function Sy(a,t,n,r){const o=_l(kt(a,t,n)),u=_l(kt(a,t,r)),h=_l(kt(n,r,a)),f=_l(kt(n,r,t));return!!(o!==u&&h!==f||o===0&&xl(a,n,t)||u===0&&xl(a,r,t)||h===0&&xl(n,a,r)||f===0&&xl(n,t,r))}function xl(a,t,n){return t.x<=Math.max(a.x,n.x)&&t.x>=Math.min(a.x,n.x)&&t.y<=Math.max(a.y,n.y)&&t.y>=Math.min(a.y,n.y)}function _l(a){return a>0?1:a<0?-1:0}function vv(a,t){let n=a;do{if(n.i!==a.i&&n.next.i!==a.i&&n.i!==t.i&&n.next.i!==t.i&&Sy(n,n.next,a,t))return!0;n=n.next}while(n!==a);return!1}function Ia(a,t){return kt(a.prev,a,a.next)<0?kt(a,t,a.next)>=0&&kt(a,a.prev,t)>=0:kt(a,t,a.prev)<0||kt(a,a.next,t)<0}function Sv(a,t){let n=a,r=!1;const o=(a.x+t.x)/2,u=(a.y+t.y)/2;do n.y>u!=n.next.y>u&&n.next.y!==n.y&&o<(n.next.x-n.x)*(u-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==a);return r}function Ay(a,t){const n=Ic(a.i,a.x,a.y),r=Ic(t.i,t.x,t.y),o=a.next,u=t.prev;return a.next=t,t.prev=a,n.next=o,o.prev=n,r.next=n,n.prev=r,u.next=r,r.prev=u,r}function jm(a,t,n,r){const o=Ic(a,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function Za(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function Ic(a,t,n){return{i:a,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Av(a,t,n,r){let o=0;for(let u=t,h=n-r;u<n;u+=r)o+=(a[h]-a[u])*(a[u+1]+a[h+1]),h=u;return o}const Tv=qm.default||qm;var Ty=(a=>(a[a.NONE=0]="NONE",a[a.COLOR=16384]="COLOR",a[a.STENCIL=1024]="STENCIL",a[a.DEPTH=256]="DEPTH",a[a.COLOR_DEPTH=16640]="COLOR_DEPTH",a[a.COLOR_STENCIL=17408]="COLOR_STENCIL",a[a.DEPTH_STENCIL=1280]="DEPTH_STENCIL",a[a.ALL=17664]="ALL",a))(Ty||{});class wv{constructor(t){this.items=[],this._name=t}emit(t,n,r,o,u,h,f,p){const{name:m,items:g}=this;for(let y=0,b=g.length;y<b;y++)g[y][m](t,n,r,o,u,h,f,p);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const n=this.items.indexOf(t);return n!==-1&&this.items.splice(n,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const Mv=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],wy=class My extends si{constructor(t){super(),this.uid=Ft("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const n=[...Mv,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(t={}){const n=t.skipExtensionImports===!0?!0:t.manageImports===!1;await rv(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)t={...this._systemsHash[r].constructor.defaultOptions,...t};t={...My.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(t);this._initOptions=t}render(t,n){let r=t;if(r instanceof Ui&&(r={container:r},n&&(vt(Ot,"passing a second argument is deprecated, please use render options instead"),r.target=n.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const o=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=o?r.clearColor:$t.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r)}resize(t,n,r){const o=this.view.resolution;this.view.resize(t,n,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==o&&this.runners.resolutionChange.emit(r)}clear(t={}){const n=this;t.target||(t.target=n.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=Ty.ALL);const{clear:r,clearColor:o,target:u}=t;$t.shared.setValue(o??this.background.colorRgba),n.renderTarget.clear(u,r,$t.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(n=>{this.runners[n]=new wv(n)})}_addSystems(t){let n;for(n in t){const r=t[n];this._addSystem(r.value,r.name)}}_addSystem(t,n){const r=new t(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const o in this.runners)this.runners[o].add(r);return this}_addPipes(t,n){const r=n.reduce((o,u)=>(o[u.name]=u.value,o),{});t.forEach(o=>{const u=o.value,h=o.name,f=r[h];this.renderPipes[h]=new u(this,f?new f:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!lv())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};wy.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Cy=wy,bl;function Cv(a){return bl!==void 0||(bl=(()=>{var n;const t={stencil:!0,failIfMajorPerformanceCaveat:a??Cy.defaultOptions.failIfMajorPerformanceCaveat};try{if(!It.get().getWebGLRenderingContext())return!1;let o=It.get().createCanvas().getContext("webgl",t);const u=!!((n=o==null?void 0:o.getContextAttributes())!=null&&n.stencil);if(o){const h=o.getExtension("WEBGL_lose_context");h&&h.loseContext()}return o=null,u}catch{return!1}})()),bl}let vl;async function Ev(a={}){return vl!==void 0||(vl=await(async()=>{const t=It.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(a)).requestDevice(),!0}catch{return!1}})()),vl}const Fm=["webgl","webgpu","canvas"];async function Rv(a){let t=[];a.preference?(t.push(a.preference),Fm.forEach(u=>{u!==a.preference&&t.push(u)})):t=Fm.slice();let n,r={};for(let u=0;u<t.length;u++){const h=t[u];if(h==="webgpu"&&await Ev()){const{WebGPURenderer:f}=await Bl(async()=>{const{WebGPURenderer:p}=await import("./WebGPURenderer-IsTvm9fK.js");return{WebGPURenderer:p}},__vite__mapDeps([3,2,4]));n=f,r={...a,...a.webgpu};break}else if(h==="webgl"&&Cv(a.failIfMajorPerformanceCaveat??Cy.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:f}=await Bl(async()=>{const{WebGLRenderer:p}=await import("./WebGLRenderer-DC-vSlYb.js");return{WebGLRenderer:p}},__vite__mapDeps([5,2,4]));n=f,r={...a,...a.webgl};break}else if(h==="canvas")throw r={...a},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!n)throw new Error("No available renderer for the current environment");const o=new n;return await o.init(r),o}const Ey="8.10.1";class Ry{static init(){var t;(t=globalThis.__PIXI_APP_INIT__)==null||t.call(globalThis,this,Ey)}static destroy(){}}Ry.extension=ut.Application;class Bv{constructor(t){this._renderer=t}init(){var t;(t=globalThis.__PIXI_RENDERER_INIT__)==null||t.call(globalThis,this._renderer,Ey)}destroy(){this._renderer=null}}Bv.extension={type:[ut.WebGLSystem,ut.WebGPUSystem],name:"initHook",priority:-10};const By=class Zc{constructor(...t){this.stage=new Ui,t[0]!==void 0&&vt(Ot,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.renderer=await Rv(t),Zc._plugins.forEach(n=>{n.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return vt(Ot,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,n=!1){const r=Zc._plugins.slice(0);r.reverse(),r.forEach(o=>{o.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}};By._plugins=[];let zy=By;ce.handleByList(ut.Application,zy._plugins);ce.add(Ry);class Oy extends si{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return vt(Ot,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return vt(Ot,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return vt(Ot,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return vt(Ot,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return vt(Ot,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){var n;this.emit("destroy",this),this.removeAllListeners();for(const r in this.chars)(n=this.chars[r].texture)==null||n.destroy();this.chars=null,t&&(this.pages.forEach(r=>r.texture.destroy(!0)),this.pages=null)}}const zv=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function Qc(a){const t=typeof a.fontSize=="number"?`${a.fontSize}px`:a.fontSize;let n=a.fontFamily;Array.isArray(a.fontFamily)||(n=a.fontFamily.split(","));for(let r=n.length-1;r>=0;r--){let o=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&!zv.includes(o)&&(o=`"${o}"`),n[r]=o}return`${a.fontStyle} ${a.fontVariant} ${a.fontWeight} ${t} ${n.join(",")}`}const Tc={willReadFrequently:!0},di=class ot{static get experimentalLetterSpacingSupported(){let t=ot._experimentalLetterSpacingSupported;if(t===void 0){const n=It.get().getCanvasRenderingContext2D().prototype;t=ot._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}constructor(t,n,r,o,u,h,f,p,m){this.text=t,this.style=n,this.width=r,this.height=o,this.lines=u,this.lineWidths=h,this.lineHeight=f,this.maxLineWidth=p,this.fontProperties=m}static measureText(t=" ",n,r=ot._canvas,o=n.wordWrap){var R;const u=Qc(n),h=ot.measureFont(u);h.fontSize===0&&(h.fontSize=n.fontSize,h.ascent=n.fontSize);const f=ot.__context;f.font=u;const m=(o?ot._wordWrap(t,n,r):t).split(/(?:\r\n|\r|\n)/),g=new Array(m.length);let y=0;for(let O=0;O<m.length;O++){const U=ot._measureText(m[O],n.letterSpacing,f);g[O]=U,y=Math.max(y,U)}const b=((R=n._stroke)==null?void 0:R.width)||0;let _=y+b;n.dropShadow&&(_+=n.dropShadow.distance);const S=n.lineHeight||h.fontSize;let M=Math.max(S,h.fontSize+b)+(m.length-1)*(S+n.leading);return n.dropShadow&&(M+=n.dropShadow.distance),new ot(t,n,_,M,m,g,S+n.leading,y,h)}static _measureText(t,n,r){let o=!1;ot.experimentalLetterSpacingSupported&&(ot.experimentalLetterSpacing?(r.letterSpacing=`${n}px`,r.textLetterSpacing=`${n}px`,o=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));const u=r.measureText(t);let h=u.width;const f=-u.actualBoundingBoxLeft;let m=u.actualBoundingBoxRight-f;if(h>0)if(o)h-=n,m-=n;else{const g=(ot.graphemeSegmenter(t).length-1)*n;h+=g,m+=g}return Math.max(h,m)}static _wordWrap(t,n,r=ot._canvas){const o=r.getContext("2d",Tc);let u=0,h="",f="";const p=Object.create(null),{letterSpacing:m,whiteSpace:g}=n,y=ot._collapseSpaces(g),b=ot._collapseNewlines(g);let _=!y;const S=n.wordWrapWidth+m,M=ot._tokenize(t);for(let A=0;A<M.length;A++){let R=M[A];if(ot._isNewline(R)){if(!b){f+=ot._addLine(h),_=!y,h="",u=0;continue}R=" "}if(y){const U=ot.isBreakingSpace(R),H=ot.isBreakingSpace(h[h.length-1]);if(U&&H)continue}const O=ot._getFromCache(R,m,p,o);if(O>S)if(h!==""&&(f+=ot._addLine(h),h="",u=0),ot.canBreakWords(R,n.breakWords)){const U=ot.wordWrapSplit(R);for(let H=0;H<U.length;H++){let j=U[H],I=j,Z=1;for(;U[H+Z];){const B=U[H+Z];if(!ot.canBreakChars(I,B,R,H,n.breakWords))j+=B;else break;I=B,Z++}H+=Z-1;const rt=ot._getFromCache(j,m,p,o);rt+u>S&&(f+=ot._addLine(h),_=!1,h="",u=0),h+=j,u+=rt}}else{h.length>0&&(f+=ot._addLine(h),h="",u=0);const U=A===M.length-1;f+=ot._addLine(R,!U),_=!1,h="",u=0}else O+u>S&&(_=!1,f+=ot._addLine(h),h="",u=0),(h.length>0||!ot.isBreakingSpace(R)||_)&&(h+=R,u+=O)}return f+=ot._addLine(h,!1),f}static _addLine(t,n=!0){return t=ot._trimRight(t),t=n?`${t}
`:t,t}static _getFromCache(t,n,r,o){let u=r[t];return typeof u!="number"&&(u=ot._measureText(t,n,o)+n,r[t]=u),u}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let n=t.length-1;n>=0;n--){const r=t[n];if(!ot.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:ot._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,n){return typeof t!="string"?!1:ot._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const n=[];let r="";if(typeof t!="string")return n;for(let o=0;o<t.length;o++){const u=t[o],h=t[o+1];if(ot.isBreakingSpace(u,h)||ot._isNewline(u)){r!==""&&(n.push(r),r=""),n.push(u);continue}r+=u}return r!==""&&n.push(r),n}static canBreakWords(t,n){return n}static canBreakChars(t,n,r,o,u){return!0}static wordWrapSplit(t){return ot.graphemeSegmenter(t)}static measureFont(t){if(ot._fonts[t])return ot._fonts[t];const n=ot._context;n.font=t;const r=n.measureText(ot.METRICS_STRING+ot.BASELINE_SYMBOL),o={ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,fontSize:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent};return ot._fonts[t]=o,o}static clearMetrics(t=""){t?delete ot._fonts[t]:ot._fonts={}}static get _canvas(){if(!ot.__canvas){let t;try{const n=new OffscreenCanvas(0,0),r=n.getContext("2d",Tc);if(r!=null&&r.measureText)return ot.__canvas=n,n;t=It.get().createCanvas()}catch{t=It.get().createCanvas()}t.width=t.height=10,ot.__canvas=t}return ot.__canvas}static get _context(){return ot.__context||(ot.__context=ot._canvas.getContext("2d",Tc)),ot.__context}};di.METRICS_STRING="|ÉqÅ";di.BASELINE_SYMBOL="M";di.BASELINE_MULTIPLIER=1.4;di.HEIGHT_MULTIPLIER=2;di.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const a=new Intl.Segmenter;return t=>{const n=a.segment(t),r=[];let o=0;for(const u of n)r[o++]=u.segment;return r}}return a=>[...a]})();di.experimentalLetterSpacing=!1;di._fonts={};di._newlines=[10,13];di._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let El=di;const Im=[{offset:0,color:"white"},{offset:1,color:"black"}],uh=class Kc{constructor(...t){this.uid=Ft("fillGradient"),this.type="linear",this.colorStops=[];let n=Ov(t);n={...n.type==="radial"?Kc.defaultRadialOptions:Kc.defaultLinearOptions,...Hg(n)},this._textureSize=n.textureSize,this._wrapMode=n.wrapMode,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(o=>{this.addColorStop(o.offset,o.color)})}addColorStop(t,n){return this.colorStops.push({offset:t,color:$t.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:n}=this.start,{x:r,y:o}=this.end,u=r-t,h=o-n;const f=u<0||h<0;if(this._wrapMode==="clamp-to-edge"){if(u<0){const A=t;t=r,r=A,u*=-1}if(h<0){const A=n;n=o,o=A,h*=-1}}const p=this.colorStops.length?this.colorStops:Im,m=this._textureSize,{canvas:g,context:y}=Qm(m,1),b=f?y.createLinearGradient(this._textureSize,0,0,0):y.createLinearGradient(0,0,this._textureSize,0);Zm(b,p),y.fillStyle=b,y.fillRect(0,0,m,1),this.texture=new St({source:new Hn({resource:g,addressMode:this._wrapMode})});const _=Math.sqrt(u*u+h*h),S=Math.atan2(h,u),M=new _t;M.scale(_/m,1),M.rotate(S),M.translate(t,n),this.textureSpace==="local"&&M.scale(m,m),this.transform=M}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Im,n=this._textureSize,{canvas:r,context:o}=Qm(n,n),{x:u,y:h}=this.center,{x:f,y:p}=this.outerCenter,m=this.innerRadius,g=this.outerRadius,y=f-g,b=p-g,_=n/(g*2),S=(u-y)*_,M=(h-b)*_,A=o.createRadialGradient(S,M,m*_,(f-y)*_,(p-b)*_,g*_);Zm(A,t),o.fillStyle=t[t.length-1].color,o.fillRect(0,0,n,n),o.fillStyle=A,o.translate(S,M),o.rotate(this.rotation),o.scale(1,this.scale),o.translate(-S,-M),o.fillRect(0,0,n,n),this.texture=new St({source:new Hn({resource:r,addressMode:this._wrapMode})});const R=new _t;R.scale(1/_,1/_),R.translate(y,b),this.textureSpace==="local"&&R.scale(n,n),this.transform=R}get styleKey(){return this.uid}destroy(){var t;(t=this.texture)==null||t.destroy(!0),this.texture=null}};uh.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};uh.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Di=uh;function Zm(a,t){for(let n=0;n<t.length;n++){const r=t[n];a.addColorStop(r.offset,r.color)}}function Qm(a,t){const n=It.get().createCanvas(a,t),r=n.getContext("2d");return{canvas:n,context:r}}function Ov(a){let t=a[0]??{};return(typeof t=="number"||a[1])&&(vt("8.5.2","use options object instead"),t={type:"linear",start:{x:a[0],y:a[1]},end:{x:a[2],y:a[3]},textureSpace:a[4],textureSize:a[5]??Di.defaultLinearOptions.textureSize}),t}const Km={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Hl{constructor(t,n){this.uid=Ft("fillPattern"),this.transform=new _t,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),n&&(t.source.style.addressModeU=Km[n].addressModeU,t.source.style.addressModeV=Km[n].addressModeV)}setTransform(t){const n=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var wc,Wm;function Dv(){if(Wm)return wc;Wm=1,wc=n;var a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(u){var h=[];return u.replace(t,function(f,p,m){var g=p.toLowerCase();for(m=o(m),g=="m"&&m.length>2&&(h.push([p].concat(m.splice(0,2))),g="l",p=p=="m"?"l":"L");;){if(m.length==a[g])return m.unshift(p),h.push(m);if(m.length<a[g])throw new Error("malformed path data");h.push([p].concat(m.splice(0,a[g])))}}),h}var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function o(u){var h=u.match(r);return h?h.map(Number):[]}return wc}var Uv=Dv();const Gv=ih(Uv);function Nv(a,t){const n=Gv(a),r=[];let o=null,u=0,h=0;for(let f=0;f<n.length;f++){const p=n[f],m=p[0],g=p;switch(m){case"M":u=g[1],h=g[2],t.moveTo(u,h);break;case"m":u+=g[1],h+=g[2],t.moveTo(u,h);break;case"H":u=g[1],t.lineTo(u,h);break;case"h":u+=g[1],t.lineTo(u,h);break;case"V":h=g[1],t.lineTo(u,h);break;case"v":h+=g[1],t.lineTo(u,h);break;case"L":u=g[1],h=g[2],t.lineTo(u,h);break;case"l":u+=g[1],h+=g[2],t.lineTo(u,h);break;case"C":u=g[5],h=g[6],t.bezierCurveTo(g[1],g[2],g[3],g[4],u,h);break;case"c":t.bezierCurveTo(u+g[1],h+g[2],u+g[3],h+g[4],u+g[5],h+g[6]),u+=g[5],h+=g[6];break;case"S":u=g[3],h=g[4],t.bezierCurveToShort(g[1],g[2],u,h);break;case"s":t.bezierCurveToShort(u+g[1],h+g[2],u+g[3],h+g[4]),u+=g[3],h+=g[4];break;case"Q":u=g[3],h=g[4],t.quadraticCurveTo(g[1],g[2],u,h);break;case"q":t.quadraticCurveTo(u+g[1],h+g[2],u+g[3],h+g[4]),u+=g[3],h+=g[4];break;case"T":u=g[1],h=g[2],t.quadraticCurveToShort(u,h);break;case"t":u+=g[1],h+=g[2],t.quadraticCurveToShort(u,h);break;case"A":u=g[6],h=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,h);break;case"a":u+=g[6],h+=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,h);break;case"Z":case"z":t.closePath(),r.length>0&&(o=r.pop(),o?(u=o.startX,h=o.startY):(u=0,h=0)),o=null;break;default:Xt(`Unknown SVG path command: ${m}`)}m!=="Z"&&m!=="z"&&o===null&&(o={startX:u,startY:h},r.push(o))}return t}class ch{constructor(t=0,n=0,r=0){this.type="circle",this.x=t,this.y=n,this.radius=r}clone(){return new ch(this.x,this.y,this.radius)}contains(t,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let o=this.x-t,u=this.y-n;return o*=o,u*=u,o+u<=r}strokeContains(t,n,r,o=.5){if(this.radius===0)return!1;const u=this.x-t,h=this.y-n,f=this.radius,p=(1-o)*r,m=Math.sqrt(u*u+h*h);return m<=f+p&&m>f-(r-p)}getBounds(t){return t||(t=new Wt),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class hh{constructor(t=0,n=0,r=0,o=0){this.type="ellipse",this.x=t,this.y=n,this.halfWidth=r,this.halfHeight=o}clone(){return new hh(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(t-this.x)/this.halfWidth,o=(n-this.y)/this.halfHeight;return r*=r,o*=o,r+o<=1}strokeContains(t,n,r,o=.5){const{halfWidth:u,halfHeight:h}=this;if(u<=0||h<=0)return!1;const f=r*(1-o),p=r-f,m=u-p,g=h-p,y=u+f,b=h+f,_=t-this.x,S=n-this.y,M=_*_/(m*m)+S*S/(g*g),A=_*_/(y*y)+S*S/(b*b);return M>1&&A<=1}getBounds(t){return t||(t=new Wt),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function Hv(a,t,n,r,o,u){const h=a-n,f=t-r,p=o-n,m=u-r,g=h*p+f*m,y=p*p+m*m;let b=-1;y!==0&&(b=g/y);let _,S;b<0?(_=n,S=r):b>1?(_=o,S=u):(_=n+b*p,S=r+b*m);const M=a-_,A=t-S;return M*M+A*A}let kv,Lv;class qa{constructor(...t){this.type="polygon";let n=Array.isArray(t[0])?t[0]:t;if(typeof n[0]!="number"){const r=[];for(let o=0,u=n.length;o<u;o++)r.push(n[o].x,n[o].y);n=r}this.points=n,this.closePath=!0}isClockwise(){let t=0;const n=this.points,r=n.length;for(let o=0;o<r;o+=2){const u=n[o],h=n[o+1],f=n[(o+2)%r],p=n[(o+3)%r];t+=(f-u)*(p+h)}return t<0}containsPolygon(t){const n=this.getBounds(kv),r=t.getBounds(Lv);if(!n.containsRect(r))return!1;const o=t.points;for(let u=0;u<o.length;u+=2){const h=o[u],f=o[u+1];if(!this.contains(h,f))return!1}return!0}clone(){const t=this.points.slice(),n=new qa(t);return n.closePath=this.closePath,n}contains(t,n){let r=!1;const o=this.points.length/2;for(let u=0,h=o-1;u<o;h=u++){const f=this.points[u*2],p=this.points[u*2+1],m=this.points[h*2],g=this.points[h*2+1];p>n!=g>n&&t<(m-f)*((n-p)/(g-p))+f&&(r=!r)}return r}strokeContains(t,n,r,o=.5){const u=r*r,h=u*(1-o),f=u-h,{points:p}=this,m=p.length-(this.closePath?0:2);for(let g=0;g<m;g+=2){const y=p[g],b=p[g+1],_=p[(g+2)%p.length],S=p[(g+3)%p.length],M=Hv(t,n,y,b,_,S),A=Math.sign((_-y)*(n-b)-(S-b)*(t-y));if(M<=(A<0?f:h))return!0}return!1}getBounds(t){t||(t=new Wt);const n=this.points;let r=1/0,o=-1/0,u=1/0,h=-1/0;for(let f=0,p=n.length;f<p;f+=2){const m=n[f],g=n[f+1];r=m<r?m:r,o=m>o?m:o,u=g<u?g:u,h=g>h?g:h}return t.x=r,t.width=o-r,t.y=u,t.height=h-u,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,n)=>`${t}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const Sl=(a,t,n,r,o,u,h)=>{const f=a-n,p=t-r,m=Math.sqrt(f*f+p*p);return m>=o-u&&m<=o+h};class fh{constructor(t=0,n=0,r=0,o=0,u=20){this.type="roundedRectangle",this.x=t,this.y=n,this.width=r,this.height=o,this.radius=u}getBounds(t){return t||(t=new Wt),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new fh(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;let o=t-(this.x+r),u=n-(this.y+r);const h=r*r;if(o*o+u*u<=h||(o=t-(this.x+this.width-r),o*o+u*u<=h)||(u=n-(this.y+this.height-r),o*o+u*u<=h)||(o=t-(this.x+r),o*o+u*u<=h))return!0}return!1}strokeContains(t,n,r,o=.5){const{x:u,y:h,width:f,height:p,radius:m}=this,g=r*(1-o),y=r-g,b=u+m,_=h+m,S=f-m*2,M=p-m*2,A=u+f,R=h+p;return(t>=u-g&&t<=u+y||t>=A-y&&t<=A+g)&&n>=_&&n<=_+M||(n>=h-g&&n<=h+y||n>=R-y&&n<=R+g)&&t>=b&&t<=b+S?!0:t<b&&n<_&&Sl(t,n,b,_,m,y,g)||t>A-m&&n<_&&Sl(t,n,A-m,_,m,y,g)||t>A-m&&n>R-m&&Sl(t,n,A-m,R-m,m,y,g)||t<b&&n>R-m&&Sl(t,n,b,R-m,m,y,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const Dy={};function Pv(a,t,n){let r=2166136261;for(let o=0;o<t;o++)r^=a[o].uid,r=Math.imul(r,16777619),r>>>=0;return Dy[r]||Yv(a,t,r,n)}function Yv(a,t,n,r){const o={};let u=0;for(let f=0;f<r;f++){const p=f<t?a[f]:St.EMPTY.source;o[u++]=p.source,o[u++]=p.style}const h=new Cl(o);return Dy[n]=h,h}class $m{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function Jm(a,t){const n=a.byteLength/8|0,r=new Float64Array(a,0,n);new Float64Array(t,0,n).set(r);const u=a.byteLength-n*8;if(u>0){const h=new Uint8Array(a,n*8,u);new Uint8Array(t,n*8,u).set(h)}}const Vv={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var Xv=(a=>(a[a.DISABLED=0]="DISABLED",a[a.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",a[a.MASK_ACTIVE=2]="MASK_ACTIVE",a[a.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",a[a.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",a[a.NONE=5]="NONE",a))(Xv||{});function tg(a,t){return t.alphaMode==="no-premultiply-alpha"&&Vv[a]||a}const qv=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function jv(a){let t="";for(let n=0;n<a;++n)n>0&&(t+=`
else `),n<a-1&&(t+=`if(test == ${n}.0){}`);return t}function Fv(a,t){if(a===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const r=qv.replace(/%forloop%/gi,jv(a));if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))a=a/2|0;else break}}finally{t.deleteShader(n)}return a}let ws=null;function Iv(){var t;if(ws)return ws;const a=dy();return ws=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),ws=Fv(ws,a),(t=a.getExtension("WEBGL_lose_context"))==null||t.loseContext(),ws}class Zv{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const n=this.textures[t];this.textures[t]=null,this.ids[n.uid]=null}this.count=0}}class Qv{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new Zv,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Uy=[];let Wc=0;function eg(){return Wc>0?Uy[--Wc]:new Qv}function ig(a){Uy[Wc++]=a}let Ha=0;const Gy=class Ny{constructor(t){this.uid=Ft("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t={...Ny.defaultOptions,...t},t.maxTextures||(vt("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=Iv());const{maxTextures:n,attributesInitialSize:r,indicesInitialSize:o}=t;this.attributeBuffer=new $m(r*4),this.indexBuffer=new Uint16Array(o),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)ig(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,n){const r=t._batch.textures.ids[n._source.uid];return!r&&r!==0?!1:(t._textureId=r,t.texture=n,!0)}updateElement(t){this.dirty=!0;const n=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId)}break(t){const n=this._elements;if(!n[this.elementStart])return;let r=eg(),o=r.textures;o.clear();const u=n[this.elementStart];let h=tg(u.blendMode,u.texture._source),f=u.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const p=this.attributeBuffer.float32View,m=this.attributeBuffer.uint32View,g=this.indexBuffer;let y=this._batchIndexSize,b=this._batchIndexStart,_="startBatch";const S=this.maxTextures;for(let M=this.elementStart;M<this.elementSize;++M){const A=n[M];n[M]=null;const O=A.texture._source,U=tg(A.blendMode,O),H=h!==U||f!==A.topology;if(O._batchTick===Ha&&!H){A._textureId=O._textureBindLocation,y+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,p,m,A._attributeStart,A._textureId),this.packQuadIndex(g,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,p,m,A._attributeStart,A._textureId),this.packIndex(A,g,A._indexStart,A._attributeStart/this.vertexSize)),A._batch=r;continue}O._batchTick=Ha,(o.count>=S||H)&&(this._finishBatch(r,b,y-b,o,h,f,t,_),_="renderBatch",b=y,h=U,f=A.topology,r=eg(),o=r.textures,o.clear(),++Ha),A._textureId=O._textureBindLocation=o.count,o.ids[O.uid]=o.count,o.textures[o.count++]=O,A._batch=r,y+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,p,m,A._attributeStart,A._textureId),this.packQuadIndex(g,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,p,m,A._attributeStart,A._textureId),this.packIndex(A,g,A._indexStart,A._attributeStart/this.vertexSize))}o.count>0&&(this._finishBatch(r,b,y-b,o,h,f,t,_),b=y,++Ha),this.elementStart=this.elementSize,this._batchIndexStart=b,this._batchIndexSize=y}_finishBatch(t,n,r,o,u,h,f,p){t.gpuBindGroup=null,t.bindGroup=null,t.action=p,t.batcher=this,t.textures=o,t.blendMode=u,t.topology=h,t.start=n,t.size=r,++Ha,this.batches[this.batchIndex++]=t,f.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const n=Math.max(t,this.attributeBuffer.size*2),r=new $m(n);Jm(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(t){const n=this.indexBuffer;let r=Math.max(t,n.length*1.5);r+=r%2;const o=r>65535?new Uint32Array(r):new Uint16Array(r);if(o.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let u=0;u<n.length;u++)o[u]=n[u];else Jm(n.buffer,o.buffer);this.indexBuffer=o}packQuadIndex(t,n,r){t[n]=r+0,t[n+1]=r+1,t[n+2]=r+2,t[n+3]=r+0,t[n+4]=r+2,t[n+5]=r+3}packIndex(t,n,r,o){const u=t.indices,h=t.indexSize,f=t.indexOffset,p=t.attributeOffset;for(let m=0;m<h;m++)n[r++]=o+u[m+f]-p}destroy(){for(let t=0;t<this.batches.length;t++)ig(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};Gy.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Kv=Gy;var Se=(a=>(a[a.MAP_READ=1]="MAP_READ",a[a.MAP_WRITE=2]="MAP_WRITE",a[a.COPY_SRC=4]="COPY_SRC",a[a.COPY_DST=8]="COPY_DST",a[a.INDEX=16]="INDEX",a[a.VERTEX=32]="VERTEX",a[a.UNIFORM=64]="UNIFORM",a[a.STORAGE=128]="STORAGE",a[a.INDIRECT=256]="INDIRECT",a[a.QUERY_RESOLVE=512]="QUERY_RESOLVE",a[a.STATIC=1024]="STATIC",a))(Se||{});class Qa extends si{constructor(t){let{data:n,size:r}=t;const{usage:o,label:u,shrinkToFit:h}=t;super(),this.uid=Ft("buffer"),this._resourceType="buffer",this._resourceId=Ft("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,r??(r=n==null?void 0:n.byteLength);const f=!!n;this.descriptor={size:r,usage:o,mappedAtCreation:f,label:u},this.shrinkToFit=h??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Se.STATIC)}set static(t){t?this.descriptor.usage|=Se.STATIC:this.descriptor.usage&=~Se.STATIC}setDataWithSize(t,n,r){if(this._updateID++,this._updateSize=n*t.BYTES_PER_ELEMENT,this._data===t){r&&this.emit("update",this);return}const o=this._data;if(this._data=t,this._dataInt32=null,!o||o.length!==t.length){!this.shrinkToFit&&o&&t.byteLength<o.byteLength?r&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Ft("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Hy(a,t){if(!(a instanceof Qa)){let n=t?Se.INDEX:Se.VERTEX;a instanceof Array&&(t?(a=new Uint32Array(a),n=Se.INDEX|Se.COPY_DST):(a=new Float32Array(a),n=Se.VERTEX|Se.COPY_DST)),a=new Qa({data:a,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return a}function Wv(a,t,n){const r=a.getAttribute(t);if(!r)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const o=r.buffer.data;let u=1/0,h=1/0,f=-1/0,p=-1/0;const m=o.BYTES_PER_ELEMENT,g=(r.offset||0)/m,y=(r.stride||2*4)/m;for(let b=g;b<o.length;b+=y){const _=o[b],S=o[b+1];_>f&&(f=_),S>p&&(p=S),_<u&&(u=_),S<h&&(h=S)}return n.minX=u,n.minY=h,n.maxX=f,n.maxY=p,n}function $v(a){return(a instanceof Qa||Array.isArray(a)||a.BYTES_PER_ELEMENT)&&(a={buffer:a}),a.buffer=Hy(a.buffer,!1),a}class Jv extends si{constructor(t={}){super(),this.uid=Ft("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new ni,this._boundsDirty=!0;const{attributes:n,indexBuffer:r,topology:o}=t;if(this.buffers=[],this.attributes={},n)for(const u in n)this.addAttribute(u,n[u]);this.instanceCount=t.instanceCount??1,r&&this.addIndex(r),this.topology=o||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const n=this.attributes[t];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(t,n){const r=$v(n);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=r}addIndex(t){this.indexBuffer=Hy(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,Wv(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(n=>n.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const t1=new Float32Array(1),e1=new Uint32Array(1);class i1 extends Jv{constructor(){const n=new Qa({data:t1,label:"attribute-batch-buffer",usage:Se.VERTEX|Se.COPY_DST,shrinkToFit:!1}),r=new Qa({data:e1,label:"index-batch-buffer",usage:Se.INDEX|Se.COPY_DST,shrinkToFit:!1}),o=6*4;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:o,offset:0},aUV:{buffer:n,format:"float32x2",stride:o,offset:2*4},aColor:{buffer:n,format:"unorm8x4",stride:o,offset:4*4},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:o,offset:5*4}},indexBuffer:r})}}function ng(a,t,n){if(a)for(const r in a){const o=r.toLocaleLowerCase(),u=t[o];if(u){let h=a[r];r==="header"&&(h=h.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&u.push(`//----${n}----//`),u.push(h)}else Xt(`${r} placement hook does not exist in shader`)}}const n1=/\{\{(.*?)\}\}/g;function sg(a){var r;const t={};return(((r=a.match(n1))==null?void 0:r.map(o=>o.replace(/[{()}]/g,"")))??[]).forEach(o=>{t[o]=[]}),t}function ag(a,t){let n;const r=/@in\s+([^;]+);/g;for(;(n=r.exec(a))!==null;)t.push(n[1])}function rg(a,t,n=!1){const r=[];ag(t,r),a.forEach(f=>{f.header&&ag(f.header,r)});const o=r;n&&o.sort();const u=o.map((f,p)=>`       @location(${p}) ${f},`).join(`
`);let h=t.replace(/@in\s+[^;]+;\s*/g,"");return h=h.replace("{{in}}",`
${u}
`),h}function lg(a,t){let n;const r=/@out\s+([^;]+);/g;for(;(n=r.exec(a))!==null;)t.push(n[1])}function s1(a){const n=/\b(\w+)\s*:/g.exec(a);return n?n[1]:""}function a1(a){const t=/@.*?\s+/g;return a.replace(t,"")}function r1(a,t){const n=[];lg(t,n),a.forEach(p=>{p.header&&lg(p.header,n)});let r=0;const o=n.sort().map(p=>p.indexOf("builtin")>-1?p:`@location(${r++}) ${p}`).join(`,
`),u=n.sort().map(p=>`       var ${a1(p)};`).join(`
`),h=`return VSOutput(
            ${n.sort().map(p=>` ${s1(p)}`).join(`,
`)});`;let f=t.replace(/@out\s+[^;]+;\s*/g,"");return f=f.replace("{{struct}}",`
${o}
`),f=f.replace("{{start}}",`
${u}
`),f=f.replace("{{return}}",`
${h}
`),f}function og(a,t){let n=a;for(const r in t){const o=t[r];o.join(`
`).length?n=n.replace(`{{${r}}}`,`//-----${r} START-----//
${o.join(`
`)}
//----${r} FINISH----//`):n=n.replace(`{{${r}}}`,"")}return n}const un=Object.create(null),Mc=new Map;let l1=0;function o1({template:a,bits:t}){const n=ky(a,t);if(un[n])return un[n];const{vertex:r,fragment:o}=c1(a,t);return un[n]=Ly(r,o,t),un[n]}function u1({template:a,bits:t}){const n=ky(a,t);return un[n]||(un[n]=Ly(a.vertex,a.fragment,t)),un[n]}function c1(a,t){const n=t.map(h=>h.vertex).filter(h=>!!h),r=t.map(h=>h.fragment).filter(h=>!!h);let o=rg(n,a.vertex,!0);o=r1(n,o);const u=rg(r,a.fragment,!0);return{vertex:o,fragment:u}}function ky(a,t){return t.map(n=>(Mc.has(n)||Mc.set(n,l1++),Mc.get(n))).sort((n,r)=>n-r).join("-")+a.vertex+a.fragment}function Ly(a,t,n){const r=sg(a),o=sg(t);return n.forEach(u=>{ng(u.vertex,r,u.name),ng(u.fragment,o,u.name)}),{vertex:og(a,r),fragment:og(t,o)}}const h1=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,f1=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,d1=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,p1=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,m1={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},g1={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function y1({bits:a,name:t}){const n=o1({template:{fragment:f1,vertex:h1},bits:[m1,...a]});return Nl.from({name:t,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function x1({bits:a,name:t}){return new my({name:t,...u1({template:{vertex:d1,fragment:p1},bits:[g1,...a]})})}const _1={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},b1={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Cc={};function v1(a){const t=[];if(a===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let r=0;r<a;r++)t.push(`@group(1) @binding(${n++}) var textureSource${r+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${n++}) var textureSampler${r+1}: sampler;`)}return t.join(`
`)}function S1(a){const t=[];if(a===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let n=0;n<a;n++)n===a-1?t.push("  default:{"):t.push(`  case ${n}:{`),t.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function A1(a){return Cc[a]||(Cc[a]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${v1(a)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${S1(a)}
            `}}),Cc[a]}const Ec={};function T1(a){const t=[];for(let n=0;n<a;n++)n>0&&t.push("else"),n<a-1&&t.push(`if(vTextureId < ${n}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${n}], vUV);`),t.push("}");return t.join(`
`)}function w1(a){return Ec[a]||(Ec[a]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${a}];

            `,main:`

                ${T1(a)}
            `}}),Ec[a]}const M1={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},C1={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},ug={};function E1(a){let t=ug[a];if(t)return t;const n=new Int32Array(a);for(let r=0;r<a;r++)n[r]=r;return t=ug[a]=new _y({uTextures:{value:n,type:"i32",size:a}},{isStatic:!0}),t}class R1 extends oh{constructor(t){const n=x1({name:"batch",bits:[b1,w1(t),C1]}),r=y1({name:"batch",bits:[_1,A1(t),M1]});super({glProgram:n,gpuProgram:r,resources:{batchSamplers:E1(t)}})}}let Rc=null;const Py=class Yy extends Kv{constructor(t){super(t),this.geometry=new i1,this.name=Yy.extension.name,this.vertexSize=6,Rc??(Rc=new R1(t.maxTextures)),this.shader=Rc}packAttributes(t,n,r,o,u){const h=u<<16|t.roundPixels&65535,f=t.transform,p=f.a,m=f.b,g=f.c,y=f.d,b=f.tx,_=f.ty,{positions:S,uvs:M}=t,A=t.color,R=t.attributeOffset,O=R+t.attributeSize;for(let U=R;U<O;U++){const H=U*2,j=S[H],I=S[H+1];n[o++]=p*j+g*I+b,n[o++]=y*I+m*j+_,n[o++]=M[H],n[o++]=M[H+1],r[o++]=A,r[o++]=h}}packQuadAttributes(t,n,r,o,u){const h=t.texture,f=t.transform,p=f.a,m=f.b,g=f.c,y=f.d,b=f.tx,_=f.ty,S=t.bounds,M=S.maxX,A=S.minX,R=S.maxY,O=S.minY,U=h.uvs,H=t.color,j=u<<16|t.roundPixels&65535;n[o+0]=p*A+g*O+b,n[o+1]=y*O+m*A+_,n[o+2]=U.x0,n[o+3]=U.y0,r[o+4]=H,r[o+5]=j,n[o+6]=p*M+g*O+b,n[o+7]=y*O+m*M+_,n[o+8]=U.x1,n[o+9]=U.y1,r[o+10]=H,r[o+11]=j,n[o+12]=p*M+g*R+b,n[o+13]=y*R+m*M+_,n[o+14]=U.x2,n[o+15]=U.y2,r[o+16]=H,r[o+17]=j,n[o+18]=p*A+g*R+b,n[o+19]=y*R+m*A+_,n[o+20]=U.x3,n[o+21]=U.y3,r[o+22]=H,r[o+23]=j}};Py.extension={type:[ut.Batcher],name:"default"};let B1=Py;function z1(a,t,n,r,o,u,h,f=null){let p=0;n*=t,o*=u;const m=f.a,g=f.b,y=f.c,b=f.d,_=f.tx,S=f.ty;for(;p<h;){const M=a[n],A=a[n+1];r[o]=m*M+y*A+_,r[o+1]=g*M+b*A+S,o+=u,n+=t,p++}}function O1(a,t,n,r){let o=0;for(t*=n;o<r;)a[t]=0,a[t+1]=0,t+=n,o++}function Vy(a,t,n,r,o){const u=t.a,h=t.b,f=t.c,p=t.d,m=t.tx,g=t.ty;n||(n=0),r||(r=2),o||(o=a.length/r-n);let y=n*r;for(let b=0;b<o;b++){const _=a[y],S=a[y+1];a[y]=u*_+f*S+m,a[y+1]=h*_+p*S+g,y+=r}}const D1=new _t;class Xy{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,n=t>>16|t&65280|(t&255)<<16,r=this.renderable;return r?Ig(n,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){var t;return((t=this.renderable)==null?void 0:t.groupTransform)||D1}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const Ka={extension:{type:ut.ShapeBuilder,name:"circle"},build(a,t){let n,r,o,u,h,f;if(a.type==="circle"){const H=a;if(h=f=H.radius,h<=0)return!1;n=H.x,r=H.y,o=u=0}else if(a.type==="ellipse"){const H=a;if(h=H.halfWidth,f=H.halfHeight,h<=0||f<=0)return!1;n=H.x,r=H.y,o=u=0}else{const H=a,j=H.width/2,I=H.height/2;n=H.x+j,r=H.y+I,h=f=Math.max(0,Math.min(H.radius,Math.min(j,I))),o=j-h,u=I-f}if(o<0||u<0)return!1;const p=Math.ceil(2.3*Math.sqrt(h+f)),m=p*8+(o?4:0)+(u?4:0);if(m===0)return!1;if(p===0)return t[0]=t[6]=n+o,t[1]=t[3]=r+u,t[2]=t[4]=n-o,t[5]=t[7]=r-u,!0;let g=0,y=p*4+(o?2:0)+2,b=y,_=m,S=o+h,M=u,A=n+S,R=n-S,O=r+M;if(t[g++]=A,t[g++]=O,t[--y]=O,t[--y]=R,u){const H=r-M;t[b++]=R,t[b++]=H,t[--_]=H,t[--_]=A}for(let H=1;H<p;H++){const j=Math.PI/2*(H/p),I=o+Math.cos(j)*h,Z=u+Math.sin(j)*f,rt=n+I,B=n-I,P=r+Z,D=r-Z;t[g++]=rt,t[g++]=P,t[--y]=P,t[--y]=B,t[b++]=B,t[b++]=D,t[--_]=D,t[--_]=rt}S=o,M=u+f,A=n+S,R=n-S,O=r+M;const U=r-M;return t[g++]=A,t[g++]=O,t[--_]=U,t[--_]=A,o&&(t[g++]=R,t[g++]=O,t[--_]=U,t[--_]=R),!0},triangulate(a,t,n,r,o,u){if(a.length===0)return;let h=0,f=0;for(let g=0;g<a.length;g+=2)h+=a[g],f+=a[g+1];h/=a.length/2,f/=a.length/2;let p=r;t[p*n]=h,t[p*n+1]=f;const m=p++;for(let g=0;g<a.length;g+=2)t[p*n]=a[g],t[p*n+1]=a[g+1],g>0&&(o[u++]=p,o[u++]=m,o[u++]=p-1),p++;o[u++]=m+1,o[u++]=m,o[u++]=p-1}},U1={...Ka,extension:{...Ka.extension,name:"ellipse"}},G1={...Ka,extension:{...Ka.extension,name:"roundedRectangle"}},qy=1e-4,cg=1e-4;function N1(a){const t=a.length;if(t<6)return 1;let n=0;for(let r=0,o=a[t-2],u=a[t-1];r<t;r+=2){const h=a[r],f=a[r+1];n+=(h-o)*(f+u),o=h,u=f}return n<0?-1:1}function hg(a,t,n,r,o,u,h,f){const p=a-n*o,m=t-r*o,g=a+n*u,y=t+r*u;let b,_;h?(b=r,_=-n):(b=-r,_=n);const S=p+b,M=m+_,A=g+b,R=y+_;return f.push(S,M),f.push(A,R),2}function Bn(a,t,n,r,o,u,h,f){const p=n-a,m=r-t;let g=Math.atan2(p,m),y=Math.atan2(o-a,u-t);f&&g<y?g+=Math.PI*2:!f&&g>y&&(y+=Math.PI*2);let b=g;const _=y-g,S=Math.abs(_),M=Math.sqrt(p*p+m*m),A=(15*S*Math.sqrt(M)/Math.PI>>0)+1,R=_/A;if(b+=R,f){h.push(a,t),h.push(n,r);for(let O=1,U=b;O<A;O++,U+=R)h.push(a,t),h.push(a+Math.sin(U)*M,t+Math.cos(U)*M);h.push(a,t),h.push(o,u)}else{h.push(n,r),h.push(a,t);for(let O=1,U=b;O<A;O++,U+=R)h.push(a+Math.sin(U)*M,t+Math.cos(U)*M),h.push(a,t);h.push(o,u),h.push(a,t)}return A*2}function H1(a,t,n,r,o,u){const h=qy;if(a.length===0)return;const f=t;let p=f.alignment;if(t.alignment!==.5){let tt=N1(a);p=(p-.5)*tt+.5}const m=new pe(a[0],a[1]),g=new pe(a[a.length-2],a[a.length-1]),y=r,b=Math.abs(m.x-g.x)<h&&Math.abs(m.y-g.y)<h;if(y){a=a.slice(),b&&(a.pop(),a.pop(),g.set(a[a.length-2],a[a.length-1]));const tt=(m.x+g.x)*.5,C=(g.y+m.y)*.5;a.unshift(tt,C),a.push(tt,C)}const _=o,S=a.length/2;let M=a.length;const A=_.length/2,R=f.width/2,O=R*R,U=f.miterLimit*f.miterLimit;let H=a[0],j=a[1],I=a[2],Z=a[3],rt=0,B=0,P=-(j-Z),D=H-I,Q=0,$=0,at=Math.sqrt(P*P+D*D);P/=at,D/=at,P*=R,D*=R;const et=p,T=(1-et)*2,Y=et*2;y||(f.cap==="round"?M+=Bn(H-P*(T-Y)*.5,j-D*(T-Y)*.5,H-P*T,j-D*T,H+P*Y,j+D*Y,_,!0)+2:f.cap==="square"&&(M+=hg(H,j,P,D,T,Y,!0,_))),_.push(H-P*T,j-D*T),_.push(H+P*Y,j+D*Y);for(let tt=1;tt<S-1;++tt){H=a[(tt-1)*2],j=a[(tt-1)*2+1],I=a[tt*2],Z=a[tt*2+1],rt=a[(tt+1)*2],B=a[(tt+1)*2+1],P=-(j-Z),D=H-I,at=Math.sqrt(P*P+D*D),P/=at,D/=at,P*=R,D*=R,Q=-(Z-B),$=I-rt,at=Math.sqrt(Q*Q+$*$),Q/=at,$/=at,Q*=R,$*=R;const C=I-H,X=j-Z,W=I-rt,K=B-Z,nt=C*W+X*K,dt=X*W-K*C,st=dt<0;if(Math.abs(dt)<.001*Math.abs(nt)){_.push(I-P*T,Z-D*T),_.push(I+P*Y,Z+D*Y),nt>=0&&(f.join==="round"?M+=Bn(I,Z,I-P*T,Z-D*T,I-Q*T,Z-$*T,_,!1)+4:M+=2,_.push(I-Q*Y,Z-$*Y),_.push(I+Q*T,Z+$*T));continue}const Zt=(-P+H)*(-D+Z)-(-P+I)*(-D+j),Mt=(-Q+rt)*(-$+Z)-(-Q+I)*(-$+B),Ae=(C*Mt-W*Zt)/dt,Gi=(K*Zt-X*Mt)/dt,Ni=(Ae-I)*(Ae-I)+(Gi-Z)*(Gi-Z),Ze=I+(Ae-I)*T,Qe=Z+(Gi-Z)*T,Ke=I-(Ae-I)*Y,pi=Z-(Gi-Z)*Y,Ll=Math.min(C*C+X*X,W*W+K*K),Te=st?T:Y,Pl=Ll+Te*Te*O;Ni<=Pl?f.join==="bevel"||Ni/O>U?(st?(_.push(Ze,Qe),_.push(I+P*Y,Z+D*Y),_.push(Ze,Qe),_.push(I+Q*Y,Z+$*Y)):(_.push(I-P*T,Z-D*T),_.push(Ke,pi),_.push(I-Q*T,Z-$*T),_.push(Ke,pi)),M+=2):f.join==="round"?st?(_.push(Ze,Qe),_.push(I+P*Y,Z+D*Y),M+=Bn(I,Z,I+P*Y,Z+D*Y,I+Q*Y,Z+$*Y,_,!0)+4,_.push(Ze,Qe),_.push(I+Q*Y,Z+$*Y)):(_.push(I-P*T,Z-D*T),_.push(Ke,pi),M+=Bn(I,Z,I-P*T,Z-D*T,I-Q*T,Z-$*T,_,!1)+4,_.push(I-Q*T,Z-$*T),_.push(Ke,pi)):(_.push(Ze,Qe),_.push(Ke,pi)):(_.push(I-P*T,Z-D*T),_.push(I+P*Y,Z+D*Y),f.join==="round"?st?M+=Bn(I,Z,I+P*Y,Z+D*Y,I+Q*Y,Z+$*Y,_,!0)+2:M+=Bn(I,Z,I-P*T,Z-D*T,I-Q*T,Z-$*T,_,!1)+2:f.join==="miter"&&Ni/O<=U&&(st?(_.push(Ke,pi),_.push(Ke,pi)):(_.push(Ze,Qe),_.push(Ze,Qe)),M+=2),_.push(I-Q*T,Z-$*T),_.push(I+Q*Y,Z+$*Y),M+=2)}H=a[(S-2)*2],j=a[(S-2)*2+1],I=a[(S-1)*2],Z=a[(S-1)*2+1],P=-(j-Z),D=H-I,at=Math.sqrt(P*P+D*D),P/=at,D/=at,P*=R,D*=R,_.push(I-P*T,Z-D*T),_.push(I+P*Y,Z+D*Y),y||(f.cap==="round"?M+=Bn(I-P*(T-Y)*.5,Z-D*(T-Y)*.5,I-P*T,Z-D*T,I+P*Y,Z+D*Y,_,!1)+2:f.cap==="square"&&(M+=hg(I,Z,P,D,T,Y,!1,_)));const J=cg*cg;for(let tt=A;tt<M+A-2;++tt)H=_[tt*2],j=_[tt*2+1],I=_[(tt+1)*2],Z=_[(tt+1)*2+1],rt=_[(tt+2)*2],B=_[(tt+2)*2+1],!(Math.abs(H*(Z-B)+I*(B-j)+rt*(j-Z))<J)&&u.push(tt,tt+1,tt+2)}function k1(a,t,n,r){const o=qy;if(a.length===0)return;const u=a[0],h=a[1],f=a[a.length-2],p=a[a.length-1],m=t||Math.abs(u-f)<o&&Math.abs(h-p)<o,g=n,y=a.length/2,b=g.length/2;for(let _=0;_<y;_++)g.push(a[_*2]),g.push(a[_*2+1]);for(let _=0;_<y-1;_++)r.push(b+_,b+_+1);m&&r.push(b+y-1,b)}function jy(a,t,n,r,o,u,h){const f=Tv(a,t,2);if(!f)return;for(let m=0;m<f.length;m+=3)u[h++]=f[m]+o,u[h++]=f[m+1]+o,u[h++]=f[m+2]+o;let p=o*r;for(let m=0;m<a.length;m+=2)n[p]=a[m],n[p+1]=a[m+1],p+=r}const L1=[],P1={extension:{type:ut.ShapeBuilder,name:"polygon"},build(a,t){for(let n=0;n<a.points.length;n++)t[n]=a.points[n];return!0},triangulate(a,t,n,r,o,u){jy(a,L1,t,n,r,o,u)}},Y1={extension:{type:ut.ShapeBuilder,name:"rectangle"},build(a,t){const n=a,r=n.x,o=n.y,u=n.width,h=n.height;return u>0&&h>0?(t[0]=r,t[1]=o,t[2]=r+u,t[3]=o,t[4]=r+u,t[5]=o+h,t[6]=r,t[7]=o+h,!0):!1},triangulate(a,t,n,r,o,u){let h=0;r*=n,t[r+h]=a[0],t[r+h+1]=a[1],h+=n,t[r+h]=a[2],t[r+h+1]=a[3],h+=n,t[r+h]=a[6],t[r+h+1]=a[7],h+=n,t[r+h]=a[4],t[r+h+1]=a[5],h+=n;const f=r/n;o[u++]=f,o[u++]=f+1,o[u++]=f+2,o[u++]=f+1,o[u++]=f+3,o[u++]=f+2}},V1={extension:{type:ut.ShapeBuilder,name:"triangle"},build(a,t){return t[0]=a.x,t[1]=a.y,t[2]=a.x2,t[3]=a.y2,t[4]=a.x3,t[5]=a.y3,!0},triangulate(a,t,n,r,o,u){let h=0;r*=n,t[r+h]=a[0],t[r+h+1]=a[1],h+=n,t[r+h]=a[2],t[r+h+1]=a[3],h+=n,t[r+h]=a[4],t[r+h+1]=a[5];const f=r/n;o[u++]=f,o[u++]=f+1,o[u++]=f+2}},X1=new _t,q1=new Wt;function j1(a,t,n,r){const o=t.matrix?a.copyFrom(t.matrix).invert():a.identity();if(t.textureSpace==="local"){const h=n.getBounds(q1);t.width&&h.pad(t.width);const{x:f,y:p}=h,m=1/h.width,g=1/h.height,y=-f*m,b=-p*g,_=o.a,S=o.b,M=o.c,A=o.d;o.a*=m,o.b*=m,o.c*=g,o.d*=g,o.tx=y*_+b*M+o.tx,o.ty=y*S+b*A+o.ty}else o.translate(t.texture.frame.x,t.texture.frame.y),o.scale(1/t.texture.source.width,1/t.texture.source.height);const u=t.texture.source.style;return!(t.fill instanceof Di)&&u.addressMode==="clamp-to-edge"&&(u.addressMode="repeat",u.update()),r&&o.append(X1.copyFrom(r).invert()),o}const kl={};ce.handleByMap(ut.ShapeBuilder,kl);ce.add(Y1,P1,V1,Ka,U1,G1);const F1=new Wt,I1=new _t;function Z1(a,t){const{geometryData:n,batches:r}=t;r.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let o=0;o<a.instructions.length;o++){const u=a.instructions[o];if(u.action==="texture")Q1(u.data,r,n);else if(u.action==="fill"||u.action==="stroke"){const h=u.action==="stroke",f=u.data.path.shapePath,p=u.data.style,m=u.data.hole;h&&m&&fg(m.shapePath,p,!0,r,n),m&&(f.shapePrimitives[f.shapePrimitives.length-1].holes=m.shapePath.shapePrimitives),fg(f,p,h,r,n)}}}function Q1(a,t,n){const r=[],o=kl.rectangle,u=F1;u.x=a.dx,u.y=a.dy,u.width=a.dw,u.height=a.dh;const h=a.transform;if(!o.build(u,r))return;const{vertices:f,uvs:p,indices:m}=n,g=m.length,y=f.length/2;h&&Vy(r,h),o.triangulate(r,f,2,y,m,g);const b=a.image,_=b.uvs;p.push(_.x0,_.y0,_.x1,_.y1,_.x3,_.y3,_.x2,_.y2);const S=zi.get(Xy);S.indexOffset=g,S.indexSize=m.length-g,S.attributeOffset=y,S.attributeSize=f.length/2-y,S.baseColor=a.style,S.alpha=a.alpha,S.texture=b,S.geometryData=n,t.push(S)}function fg(a,t,n,r,o){const{vertices:u,uvs:h,indices:f}=o;a.shapePrimitives.forEach(({shape:p,transform:m,holes:g})=>{const y=[],b=kl[p.type];if(!b.build(p,y))return;const _=f.length,S=u.length/2;let M="triangle-list";if(m&&Vy(y,m),n){const U=p.closePath??!0,H=t;H.pixelLine?(k1(y,U,u,f),M="line-list"):H1(y,H,!1,U,u,f)}else if(g){const U=[],H=y.slice();K1(g).forEach(I=>{U.push(H.length/2),H.push(...I)}),jy(H,U,u,2,S,f,_)}else b.triangulate(y,u,2,S,f,_);const A=h.length/2,R=t.texture;if(R!==St.WHITE){const U=j1(I1,t,p,m);z1(u,2,S,h,A,2,u.length/2-S,U)}else O1(h,A,2,u.length/2-S);const O=zi.get(Xy);O.indexOffset=_,O.indexSize=f.length-_,O.attributeOffset=S,O.attributeSize=u.length/2-S,O.baseColor=t.color,O.alpha=t.alpha,O.texture=R,O.geometryData=o,O.topology=M,r.push(O)})}function K1(a){const t=[];for(let n=0;n<a.length;n++){const r=a[n].shape,o=[];kl[r.type].build(r,o)&&t.push(o)}return t}class W1{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class $1{constructor(){this.instructions=new Wg}init(t){this.batcher=new B1({maxTextures:t}),this.instructions.reset()}get geometry(){return vt(Q_,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const dh=class $c{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=t,t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){$c.defaultOptions.bezierSmoothness=(t==null?void 0:t.bezierSmoothness)??$c.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let n=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){n?this._cleanGraphicsContextData(t):n=this._initContext(t),Z1(t,n);const r=t.batchMode;t.customShader||r==="no-batch"?n.isBatchable=!1:r==="auto"?n.isBatchable=n.geometryData.vertices.length<400:n.isBatchable=!0,t.dirty=!1}return n}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const n=zi.get($1,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:r,geometryData:o}=this._gpuContextHash[t.uid],u=o.vertices.length,h=o.indices.length;for(let g=0;g<r.length;g++)r[g].applyTransform=!1;const f=n.batcher;f.ensureAttributeBuffer(u),f.ensureIndexBuffer(h),f.begin();for(let g=0;g<r.length;g++){const y=r[g];f.add(y)}f.finish(n.instructions);const p=f.geometry;p.indexBuffer.setDataWithSize(f.indexBuffer,f.indexSize,!0),p.buffers[0].setDataWithSize(f.attributeBuffer.float32View,f.attributeSize,!0);const m=f.batches;for(let g=0;g<m.length;g++){const y=m[g];y.bindGroup=Pv(y.textures.textures,y.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[t.uid]=n,n}_initContext(t){const n=new W1;return n.context=t,this._gpuContextHash[t.uid]=n,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const n=this._gpuContextHash[t.uid];n.isBatchable||this._graphicsDataContextHash[t.uid]&&(zi.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),n.batches&&n.batches.forEach(r=>{zi.return(r)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};dh.extension={type:[ut.WebGLSystem,ut.WebGPUSystem,ut.CanvasSystem],name:"graphicsContext"};dh.defaultOptions={bezierSmoothness:.5};let Fy=dh;const J1=8,Al=11920929e-14,tS=1;function Iy(a,t,n,r,o,u,h,f,p,m){const y=Math.min(.99,Math.max(0,m??Fy.defaultOptions.bezierSmoothness));let b=(tS-y)/1;return b*=b,eS(t,n,r,o,u,h,f,p,a,b),a}function eS(a,t,n,r,o,u,h,f,p,m){Jc(a,t,n,r,o,u,h,f,p,m,0),p.push(h,f)}function Jc(a,t,n,r,o,u,h,f,p,m,g){if(g>J1)return;const y=(a+n)/2,b=(t+r)/2,_=(n+o)/2,S=(r+u)/2,M=(o+h)/2,A=(u+f)/2,R=(y+_)/2,O=(b+S)/2,U=(_+M)/2,H=(S+A)/2,j=(R+U)/2,I=(O+H)/2;if(g>0){let Z=h-a,rt=f-t;const B=Math.abs((n-h)*rt-(r-f)*Z),P=Math.abs((o-h)*rt-(u-f)*Z);if(B>Al&&P>Al){if((B+P)*(B+P)<=m*(Z*Z+rt*rt)){p.push(j,I);return}}else if(B>Al){if(B*B<=m*(Z*Z+rt*rt)){p.push(j,I);return}}else if(P>Al){if(P*P<=m*(Z*Z+rt*rt)){p.push(j,I);return}}else if(Z=j-(a+h)/2,rt=I-(t+f)/2,Z*Z+rt*rt<=m){p.push(j,I);return}}Jc(a,t,y,b,R,O,j,I,p,m,g+1),Jc(j,I,U,H,M,A,h,f,p,m,g+1)}const iS=8,nS=11920929e-14,sS=1;function aS(a,t,n,r,o,u,h,f){const m=Math.min(.99,Math.max(0,f??Fy.defaultOptions.bezierSmoothness));let g=(sS-m)/1;return g*=g,rS(t,n,r,o,u,h,a,g),a}function rS(a,t,n,r,o,u,h,f){th(h,a,t,n,r,o,u,f,0),h.push(o,u)}function th(a,t,n,r,o,u,h,f,p){if(p>iS)return;const m=(t+r)/2,g=(n+o)/2,y=(r+u)/2,b=(o+h)/2,_=(m+y)/2,S=(g+b)/2;let M=u-t,A=h-n;const R=Math.abs((r-u)*A-(o-h)*M);if(R>nS){if(R*R<=f*(M*M+A*A)){a.push(_,S);return}}else if(M=_-(t+u)/2,A=S-(n+h)/2,M*M+A*A<=f){a.push(_,S);return}th(a,t,n,m,g,_,S,f,p+1),th(a,_,S,y,b,u,h,f,p+1)}function Zy(a,t,n,r,o,u,h,f){let p=Math.abs(o-u);(!h&&o>u||h&&u>o)&&(p=2*Math.PI-p),f||(f=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(p/Math.PI)))),f=Math.max(f,3);let m=p/f,g=o;m*=h?-1:1;for(let y=0;y<f+1;y++){const b=Math.cos(g),_=Math.sin(g),S=t+b*r,M=n+_*r;a.push(S,M),g+=m}}function lS(a,t,n,r,o,u){const h=a[a.length-2],p=a[a.length-1]-n,m=h-t,g=o-n,y=r-t,b=Math.abs(p*y-m*g);if(b<1e-8||u===0){(a[a.length-2]!==t||a[a.length-1]!==n)&&a.push(t,n);return}const _=p*p+m*m,S=g*g+y*y,M=p*g+m*y,A=u*Math.sqrt(_)/b,R=u*Math.sqrt(S)/b,O=A*M/_,U=R*M/S,H=A*y+R*m,j=A*g+R*p,I=m*(R+O),Z=p*(R+O),rt=y*(A+U),B=g*(A+U),P=Math.atan2(Z-j,I-H),D=Math.atan2(B-j,rt-H);Zy(a,H+t,j+n,u,P,D,m*g>y*p)}const ja=Math.PI*2,Bc={centerX:0,centerY:0,ang1:0,ang2:0},zc=({x:a,y:t},n,r,o,u,h,f,p)=>{a*=n,t*=r;const m=o*a-u*t,g=u*a+o*t;return p.x=m+h,p.y=g+f,p};function oS(a,t){const n=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),r=t===1.5707963267948966?.551915024494:n,o=Math.cos(a),u=Math.sin(a),h=Math.cos(a+t),f=Math.sin(a+t);return[{x:o-u*r,y:u+o*r},{x:h+f*r,y:f-h*r},{x:h,y:f}]}const dg=(a,t,n,r)=>{const o=a*r-t*n<0?-1:1;let u=a*n+t*r;return u>1&&(u=1),u<-1&&(u=-1),o*Math.acos(u)},uS=(a,t,n,r,o,u,h,f,p,m,g,y,b)=>{const _=Math.pow(o,2),S=Math.pow(u,2),M=Math.pow(g,2),A=Math.pow(y,2);let R=_*S-_*A-S*M;R<0&&(R=0),R/=_*A+S*M,R=Math.sqrt(R)*(h===f?-1:1);const O=R*o/u*y,U=R*-u/o*g,H=m*O-p*U+(a+n)/2,j=p*O+m*U+(t+r)/2,I=(g-O)/o,Z=(y-U)/u,rt=(-g-O)/o,B=(-y-U)/u,P=dg(1,0,I,Z);let D=dg(I,Z,rt,B);f===0&&D>0&&(D-=ja),f===1&&D<0&&(D+=ja),b.centerX=H,b.centerY=j,b.ang1=P,b.ang2=D};function cS(a,t,n,r,o,u,h,f=0,p=0,m=0){if(u===0||h===0)return;const g=Math.sin(f*ja/360),y=Math.cos(f*ja/360),b=y*(t-r)/2+g*(n-o)/2,_=-g*(t-r)/2+y*(n-o)/2;if(b===0&&_===0)return;u=Math.abs(u),h=Math.abs(h);const S=Math.pow(b,2)/Math.pow(u,2)+Math.pow(_,2)/Math.pow(h,2);S>1&&(u*=Math.sqrt(S),h*=Math.sqrt(S)),uS(t,n,r,o,u,h,p,m,g,y,b,_,Bc);let{ang1:M,ang2:A}=Bc;const{centerX:R,centerY:O}=Bc;let U=Math.abs(A)/(ja/4);Math.abs(1-U)<1e-7&&(U=1);const H=Math.max(Math.ceil(U),1);A/=H;let j=a[a.length-2],I=a[a.length-1];const Z={x:0,y:0};for(let rt=0;rt<H;rt++){const B=oS(M,A),{x:P,y:D}=zc(B[0],u,h,y,g,R,O,Z),{x:Q,y:$}=zc(B[1],u,h,y,g,R,O,Z),{x:at,y:et}=zc(B[2],u,h,y,g,R,O,Z);Iy(a,j,I,P,D,Q,$,at,et),j=at,I=et,M+=A}}function hS(a,t,n){const r=(h,f)=>{const p=f.x-h.x,m=f.y-h.y,g=Math.sqrt(p*p+m*m),y=p/g,b=m/g;return{len:g,nx:y,ny:b}},o=(h,f)=>{h===0?a.moveTo(f.x,f.y):a.lineTo(f.x,f.y)};let u=t[t.length-1];for(let h=0;h<t.length;h++){const f=t[h%t.length],p=f.radius??n;if(p<=0){o(h,f),u=f;continue}const m=t[(h+1)%t.length],g=r(f,u),y=r(f,m);if(g.len<1e-4||y.len<1e-4){o(h,f),u=f;continue}let b=Math.asin(g.nx*y.ny-g.ny*y.nx),_=1,S=!1;g.nx*y.nx-g.ny*-y.ny<0?b<0?b=Math.PI+b:(b=Math.PI-b,_=-1,S=!0):b>0&&(_=-1,S=!0);const M=b/2;let A,R=Math.abs(Math.cos(M)*p/Math.sin(M));R>Math.min(g.len/2,y.len/2)?(R=Math.min(g.len/2,y.len/2),A=Math.abs(R*Math.sin(M)/Math.cos(M))):A=p;const O=f.x+y.nx*R+-y.ny*A*_,U=f.y+y.ny*R+y.nx*A*_,H=Math.atan2(g.ny,g.nx)+Math.PI/2*_,j=Math.atan2(y.ny,y.nx)-Math.PI/2*_;h===0&&a.moveTo(O+Math.cos(H)*A,U+Math.sin(H)*A),a.arc(O,U,A,H,j,S),u=f}}function fS(a,t,n,r){const o=(f,p)=>Math.sqrt((f.x-p.x)**2+(f.y-p.y)**2),u=(f,p,m)=>({x:f.x+(p.x-f.x)*m,y:f.y+(p.y-f.y)*m}),h=t.length;for(let f=0;f<h;f++){const p=t[(f+1)%h],m=p.radius??n;if(m<=0){f===0?a.moveTo(p.x,p.y):a.lineTo(p.x,p.y);continue}const g=t[f],y=t[(f+2)%h],b=o(g,p);let _;if(b<1e-4)_=p;else{const A=Math.min(b/2,m);_=u(p,g,A/b)}const S=o(y,p);let M;if(S<1e-4)M=p;else{const A=Math.min(S/2,m);M=u(p,y,A/S)}f===0?a.moveTo(_.x,_.y):a.lineTo(_.x,_.y),a.quadraticCurveTo(p.x,p.y,M.x,M.y,r)}}const dS=new Wt;class pS{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new ni,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,n){return this.startPoly(t,n),this}lineTo(t,n){this._ensurePoly();const r=this._currentPoly.points,o=r[r.length-2],u=r[r.length-1];return(o!==t||u!==n)&&r.push(t,n),this}arc(t,n,r,o,u,h){this._ensurePoly(!1);const f=this._currentPoly.points;return Zy(f,t,n,r,o,u,h),this}arcTo(t,n,r,o,u){this._ensurePoly();const h=this._currentPoly.points;return lS(h,t,n,r,o,u),this}arcToSvg(t,n,r,o,u,h,f){const p=this._currentPoly.points;return cS(p,this._currentPoly.lastX,this._currentPoly.lastY,h,f,t,n,r,o,u),this}bezierCurveTo(t,n,r,o,u,h,f){this._ensurePoly();const p=this._currentPoly;return Iy(this._currentPoly.points,p.lastX,p.lastY,t,n,r,o,u,h,f),this}quadraticCurveTo(t,n,r,o,u){this._ensurePoly();const h=this._currentPoly;return aS(this._currentPoly.points,h.lastX,h.lastY,t,n,r,o,u),this}closePath(){return this.endPoly(!0),this}addPath(t,n){this.endPoly(),n&&!n.isIdentity()&&(t=t.clone(!0),t.transform(n));const r=this.shapePrimitives,o=r.length;for(let u=0;u<t.instructions.length;u++){const h=t.instructions[u];this[h.action](...h.data)}if(t.checkForHoles&&r.length-o>1){let u=null;for(let h=o;h<r.length;h++){const f=r[h];if(f.shape.type==="polygon"){const p=f.shape,m=u==null?void 0:u.shape;m&&m.containsPolygon(p)?(u.holes||(u.holes=[]),u.holes.push(f),r.copyWithin(h,h+1),r.length--,h--):u=f}}}return this}finish(t=!1){this.endPoly(t)}rect(t,n,r,o,u){return this.drawShape(new Wt(t,n,r,o),u),this}circle(t,n,r,o){return this.drawShape(new ch(t,n,r),o),this}poly(t,n,r){const o=new qa(t);return o.closePath=n,this.drawShape(o,r),this}regularPoly(t,n,r,o,u=0,h){o=Math.max(o|0,3);const f=-1*Math.PI/2+u,p=Math.PI*2/o,m=[];for(let g=0;g<o;g++){const y=f-g*p;m.push(t+r*Math.cos(y),n+r*Math.sin(y))}return this.poly(m,!0,h),this}roundPoly(t,n,r,o,u,h=0,f){if(o=Math.max(o|0,3),u<=0)return this.regularPoly(t,n,r,o,h);const p=r*Math.sin(Math.PI/o)-.001;u=Math.min(u,p);const m=-1*Math.PI/2+h,g=Math.PI*2/o,y=(o-2)*Math.PI/o/2;for(let b=0;b<o;b++){const _=b*g+m,S=t+r*Math.cos(_),M=n+r*Math.sin(_),A=_+Math.PI+y,R=_-Math.PI-y,O=S+u*Math.cos(A),U=M+u*Math.sin(A),H=S+u*Math.cos(R),j=M+u*Math.sin(R);b===0?this.moveTo(O,U):this.lineTo(O,U),this.quadraticCurveTo(S,M,H,j,f)}return this.closePath()}roundShape(t,n,r=!1,o){return t.length<3?this:(r?fS(this,t,n,o):hS(this,t,n),this.closePath())}filletRect(t,n,r,o,u){if(u===0)return this.rect(t,n,r,o);const h=Math.min(r,o)/2,f=Math.min(h,Math.max(-h,u)),p=t+r,m=n+o,g=f<0?-f:0,y=Math.abs(f);return this.moveTo(t,n+y).arcTo(t+g,n+g,t+y,n,y).lineTo(p-y,n).arcTo(p-g,n+g,p,n+y,y).lineTo(p,m-y).arcTo(p-g,m-g,t+r-y,m,y).lineTo(t+y,m).arcTo(t+g,m-g,t,m-y,y).closePath()}chamferRect(t,n,r,o,u,h){if(u<=0)return this.rect(t,n,r,o);const f=Math.min(u,Math.min(r,o)/2),p=t+r,m=n+o,g=[t+f,n,p-f,n,p,n+f,p,m-f,p-f,m,t+f,m,t,m-f,t,n+f];for(let y=g.length-1;y>=2;y-=2)g[y]===g[y-2]&&g[y-1]===g[y-3]&&g.splice(y-1,2);return this.poly(g,!0,h)}ellipse(t,n,r,o,u){return this.drawShape(new hh(t,n,r,o),u),this}roundRect(t,n,r,o,u,h){return this.drawShape(new fh(t,n,r,o,u),h),this}drawShape(t,n){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:n}),this}startPoly(t,n){let r=this._currentPoly;return r&&this.endPoly(),r=new qa,r.points.push(t,n),this._currentPoly=r,this}endPoly(t=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=t,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new qa,t)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let r=n.shape.x,o=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const u=n.transform,h=r;r=u.a*r+u.c*o+u.tx,o=u.b*h+u.d*o+u.ty}this._currentPoly.points.push(r,o)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<t.instructions.length;n++){const r=t.instructions[n];this[r.action](...r.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const n=this.shapePrimitives;for(let r=0;r<n.length;r++){const o=n[r],u=o.shape.getBounds(dS);o.transform?t.addRect(u,o.transform):t.addRect(u)}return t}}class zs{constructor(t,n=!1){this.instructions=[],this.uid=Ft("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof t=="string"?Nv(t,this):this.instructions=(t==null?void 0:t.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new pS(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,n){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,n]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,n,r,o,u){const h=this.instructions[this.instructions.length-1],f=this.getLastPoint(pe.shared);let p=0,m=0;if(!h||h.action!=="bezierCurveTo")p=f.x,m=f.y;else{p=h.data[2],m=h.data[3];const g=f.x,y=f.y;p=g+(g-p),m=y+(y-m)}return this.instructions.push({action:"bezierCurveTo",data:[p,m,t,n,r,o,u]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,n,r){const o=this.instructions[this.instructions.length-1],u=this.getLastPoint(pe.shared);let h=0,f=0;if(!o||o.action!=="quadraticCurveTo")h=u.x,f=u.y;else{h=o.data[0],f=o.data[1];const p=u.x,m=u.y;h=p+(p-h),f=m+(m-f)}return this.instructions.push({action:"quadraticCurveTo",data:[h,f,t,n,r]}),this._dirty=!0,this}rect(t,n,r,o,u){return this.instructions.push({action:"rect",data:[t,n,r,o,u]}),this._dirty=!0,this}circle(t,n,r,o){return this.instructions.push({action:"circle",data:[t,n,r,o]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,n,r,o,u,h,f){u||(u=o/2);const p=-1*Math.PI/2+h,m=r*2,g=Math.PI*2/m,y=[];for(let b=0;b<m;b++){const _=b%2?u:o,S=b*g+p;y.push(t+_*Math.cos(S),n+_*Math.sin(S))}return this.poly(y,!0,f),this}clone(t=!1){const n=new zs;if(n.checkForHoles=this.checkForHoles,!t)n.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const o=this.instructions[r];n.instructions.push({action:o.action,data:o.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const n=t.a,r=t.b,o=t.c,u=t.d,h=t.tx,f=t.ty;let p=0,m=0,g=0,y=0,b=0,_=0,S=0,M=0;for(let A=0;A<this.instructions.length;A++){const R=this.instructions[A],O=R.data;switch(R.action){case"moveTo":case"lineTo":p=O[0],m=O[1],O[0]=n*p+o*m+h,O[1]=r*p+u*m+f;break;case"bezierCurveTo":g=O[0],y=O[1],b=O[2],_=O[3],p=O[4],m=O[5],O[0]=n*g+o*y+h,O[1]=r*g+u*y+f,O[2]=n*b+o*_+h,O[3]=r*b+u*_+f,O[4]=n*p+o*m+h,O[5]=r*p+u*m+f;break;case"quadraticCurveTo":g=O[0],y=O[1],p=O[2],m=O[3],O[0]=n*g+o*y+h,O[1]=r*g+u*y+f,O[2]=n*p+o*m+h,O[3]=r*p+u*m+f;break;case"arcToSvg":p=O[5],m=O[6],S=O[0],M=O[1],O[0]=n*S+o*M,O[1]=r*S+u*M,O[5]=n*p+o*m+h,O[6]=r*p+u*m+f;break;case"circle":O[4]=ka(O[3],t);break;case"rect":O[4]=ka(O[4],t);break;case"ellipse":O[8]=ka(O[8],t);break;case"roundRect":O[5]=ka(O[5],t);break;case"addPath":O[0].transform(t);break;case"poly":O[2]=ka(O[2],t);break;default:Xt("unknown transform action",R.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let n=this.instructions.length-1,r=this.instructions[n];if(!r)return t.x=0,t.y=0,t;for(;r.action==="closePath";){if(n--,n<0)return t.x=0,t.y=0,t;r=this.instructions[n]}switch(r.action){case"moveTo":case"lineTo":t.x=r.data[0],t.y=r.data[1];break;case"quadraticCurveTo":t.x=r.data[2],t.y=r.data[3];break;case"bezierCurveTo":t.x=r.data[4],t.y=r.data[5];break;case"arc":case"arcToSvg":t.x=r.data[5],t.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(t);break}return t}}function ka(a,t){return a?a.prepend(t):t.clone()}function Yt(a,t,n){const r=a.getAttribute(t);return r?Number(r):n}function mS(a,t){const n=a.querySelectorAll("defs");for(let r=0;r<n.length;r++){const o=n[r];for(let u=0;u<o.children.length;u++){const h=o.children[u];switch(h.nodeName.toLowerCase()){case"lineargradient":t.defs[h.id]=gS(h);break;case"radialgradient":t.defs[h.id]=yS();break}}}}function gS(a){const t=Yt(a,"x1",0),n=Yt(a,"y1",0),r=Yt(a,"x2",1),o=Yt(a,"y2",0),u=a.getAttribute("gradientUnits")||"objectBoundingBox",h=new Di(t,n,r,o,u==="objectBoundingBox"?"local":"global");for(let f=0;f<a.children.length;f++){const p=a.children[f],m=Yt(p,"offset",0),g=$t.shared.setValue(p.getAttribute("stop-color")).toNumber();h.addColorStop(m,g)}return h}function yS(a){return Xt("[SVG Parser] Radial gradients are not yet supported"),new Di(0,0,1,0)}function pg(a){const t=a.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const mg={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function Qy(a,t){const n=a.getAttribute("style"),r={},o={},u={strokeStyle:r,fillStyle:o,useFill:!1,useStroke:!1};for(const h in mg){const f=a.getAttribute(h);f&&gg(t,u,h,f.trim())}if(n){const h=n.split(";");for(let f=0;f<h.length;f++){const p=h[f].trim(),[m,g]=p.split(":");mg[m]&&gg(t,u,m,g.trim())}}return{strokeStyle:u.useStroke?r:null,fillStyle:u.useFill?o:null,useFill:u.useFill,useStroke:u.useStroke}}function gg(a,t,n,r){switch(n){case"stroke":if(r!=="none"){if(r.startsWith("url(")){const o=pg(r);t.strokeStyle.fill=a.defs[o]}else t.strokeStyle.color=$t.shared.setValue(r).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(r);break;case"fill":if(r!=="none"){if(r.startsWith("url(")){const o=pg(r);t.fillStyle.fill=a.defs[o]}else t.fillStyle.color=$t.shared.setValue(r).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(r);break;case"stroke-opacity":t.strokeStyle.alpha=Number(r);break;case"opacity":t.fillStyle.alpha=Number(r),t.strokeStyle.alpha=Number(r);break}}function xS(a,t){if(typeof a=="string"){const h=document.createElement("div");h.innerHTML=a.trim(),a=h.querySelector("svg")}const n={context:t,defs:{},path:new zs};mS(a,n);const r=a.children,{fillStyle:o,strokeStyle:u}=Qy(a,n);for(let h=0;h<r.length;h++){const f=r[h];f.nodeName.toLowerCase()!=="defs"&&Ky(f,n,o,u)}return t}function Ky(a,t,n,r){const o=a.children,{fillStyle:u,strokeStyle:h}=Qy(a,t);u&&n?n={...n,...u}:u&&(n=u),h&&r?r={...r,...h}:h&&(r=h);const f=!n&&!r;f&&(n={color:0});let p,m,g,y,b,_,S,M,A,R,O,U,H,j,I,Z,rt;switch(a.nodeName.toLowerCase()){case"path":j=a.getAttribute("d"),a.getAttribute("fill-rule")==="evenodd"&&Xt("SVG Evenodd fill rule not supported, your svg may render incorrectly"),I=new zs(j,!0),t.context.path(I),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"circle":S=Yt(a,"cx",0),M=Yt(a,"cy",0),A=Yt(a,"r",0),t.context.ellipse(S,M,A,A),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"rect":p=Yt(a,"x",0),m=Yt(a,"y",0),Z=Yt(a,"width",0),rt=Yt(a,"height",0),R=Yt(a,"rx",0),O=Yt(a,"ry",0),R||O?t.context.roundRect(p,m,Z,rt,R||O):t.context.rect(p,m,Z,rt),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"ellipse":S=Yt(a,"cx",0),M=Yt(a,"cy",0),R=Yt(a,"rx",0),O=Yt(a,"ry",0),t.context.beginPath(),t.context.ellipse(S,M,R,O),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"line":g=Yt(a,"x1",0),y=Yt(a,"y1",0),b=Yt(a,"x2",0),_=Yt(a,"y2",0),t.context.beginPath(),t.context.moveTo(g,y),t.context.lineTo(b,_),r&&t.context.stroke(r);break;case"polygon":H=a.getAttribute("points"),U=H.match(/\d+/g).map(B=>parseInt(B,10)),t.context.poly(U,!0),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"polyline":H=a.getAttribute("points"),U=H.match(/\d+/g).map(B=>parseInt(B,10)),t.context.poly(U,!1),r&&t.context.stroke(r);break;case"g":case"svg":break;default:{Xt(`[SVG parser] <${a.nodeName}> elements unsupported`);break}}f&&(n=null);for(let B=0;B<o.length;B++)Ky(o[B],t,n,r)}function _S(a){return $t.isColorLike(a)}function yg(a){return a instanceof Hl}function xg(a){return a instanceof Di}function bS(a){return a instanceof St}function vS(a,t,n){const r=$t.shared.setValue(t??0);return a.color=r.toNumber(),a.alpha=r.alpha===1?n.alpha:r.alpha,a.texture=St.WHITE,{...n,...a}}function SS(a,t,n){return a.texture=t,{...n,...a}}function _g(a,t,n){return a.fill=t,a.color=16777215,a.texture=t.texture,a.matrix=t.transform,{...n,...a}}function bg(a,t,n){return t.buildGradient(),a.fill=t,a.color=16777215,a.texture=t.texture,a.matrix=t.transform,a.textureSpace=t.textureSpace,{...n,...a}}function AS(a,t){const n={...t,...a},r=$t.shared.setValue(n.color);return n.alpha*=r.alpha,n.color=r.toNumber(),n}function Gn(a,t){if(a==null)return null;const n={},r=a;return _S(a)?vS(n,a,t):bS(a)?SS(n,a,t):yg(a)?_g(n,a,t):xg(a)?bg(n,a,t):r.fill&&yg(r.fill)?_g(r,r.fill,t):r.fill&&xg(r.fill)?bg(r,r.fill,t):AS(r,t)}function Ul(a,t){const{width:n,alignment:r,miterLimit:o,cap:u,join:h,pixelLine:f,...p}=t,m=Gn(a,p);return m?{width:n,alignment:r,miterLimit:o,cap:u,join:h,pixelLine:f,...m}:null}const TS=new pe,vg=new _t,ph=class fi extends si{constructor(){super(...arguments),this.uid=Ft("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new zs,this._transform=new _t,this._fillStyle={...fi.defaultFillStyle},this._strokeStyle={...fi.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new ni,this._boundsDirty=!0}clone(){const t=new fi;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=Gn(t,fi.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=Ul(t,fi.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=Gn(t,fi.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=Gn(t,fi.defaultStrokeStyle),this}texture(t,n,r,o,u,h){return this.instructions.push({action:"texture",data:{image:t,dx:r||0,dy:o||0,dw:u||t.frame.width,dh:h||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?$t.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new zs,this}fill(t,n){let r;const o=this.instructions[this.instructions.length-1];return this._tick===0&&o&&o.action==="stroke"?r=o.data.path:r=this._activePath.clone(),r?(t!=null&&(n!==void 0&&typeof t=="number"&&(vt(Ot,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:n}),this._fillStyle=Gn(t,fi.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:n}=this._activePath.getLastPoint(pe.shared);this._activePath.clear(),this._activePath.moveTo(t,n)}stroke(t){let n;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r&&r.action==="fill"?n=r.data.path:n=this._activePath.clone(),n?(t!=null&&(this._strokeStyle=Ul(t,fi.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const n=this.instructions[this.instructions.length-1-t],r=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(r);else{n.data.hole=r;break}}return this._initNextPathLocation(),this}arc(t,n,r,o,u,h){this._tick++;const f=this._transform;return this._activePath.arc(f.a*t+f.c*n+f.tx,f.b*t+f.d*n+f.ty,r,o,u,h),this}arcTo(t,n,r,o,u){this._tick++;const h=this._transform;return this._activePath.arcTo(h.a*t+h.c*n+h.tx,h.b*t+h.d*n+h.ty,h.a*r+h.c*o+h.tx,h.b*r+h.d*o+h.ty,u),this}arcToSvg(t,n,r,o,u,h,f){this._tick++;const p=this._transform;return this._activePath.arcToSvg(t,n,r,o,u,p.a*h+p.c*f+p.tx,p.b*h+p.d*f+p.ty),this}bezierCurveTo(t,n,r,o,u,h,f){this._tick++;const p=this._transform;return this._activePath.bezierCurveTo(p.a*t+p.c*n+p.tx,p.b*t+p.d*n+p.ty,p.a*r+p.c*o+p.tx,p.b*r+p.d*o+p.ty,p.a*u+p.c*h+p.tx,p.b*u+p.d*h+p.ty,f),this}closePath(){var t;return this._tick++,(t=this._activePath)==null||t.closePath(),this}ellipse(t,n,r,o){return this._tick++,this._activePath.ellipse(t,n,r,o,this._transform.clone()),this}circle(t,n,r){return this._tick++,this._activePath.circle(t,n,r,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,n){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*t+r.c*n+r.tx,r.b*t+r.d*n+r.ty),this}moveTo(t,n){this._tick++;const r=this._transform,o=this._activePath.instructions,u=r.a*t+r.c*n+r.tx,h=r.b*t+r.d*n+r.ty;return o.length===1&&o[0].action==="moveTo"?(o[0].data[0]=u,o[0].data[1]=h,this):(this._activePath.moveTo(u,h),this)}quadraticCurveTo(t,n,r,o,u){this._tick++;const h=this._transform;return this._activePath.quadraticCurveTo(h.a*t+h.c*n+h.tx,h.b*t+h.d*n+h.ty,h.a*r+h.c*o+h.tx,h.b*r+h.d*o+h.ty,u),this}rect(t,n,r,o){return this._tick++,this._activePath.rect(t,n,r,o,this._transform.clone()),this}roundRect(t,n,r,o,u){return this._tick++,this._activePath.roundRect(t,n,r,o,u,this._transform.clone()),this}poly(t,n){return this._tick++,this._activePath.poly(t,n,this._transform.clone()),this}regularPoly(t,n,r,o,u=0,h){return this._tick++,this._activePath.regularPoly(t,n,r,o,u,h),this}roundPoly(t,n,r,o,u,h){return this._tick++,this._activePath.roundPoly(t,n,r,o,u,h),this}roundShape(t,n,r,o){return this._tick++,this._activePath.roundShape(t,n,r,o),this}filletRect(t,n,r,o,u){return this._tick++,this._activePath.filletRect(t,n,r,o,u),this}chamferRect(t,n,r,o,u,h){return this._tick++,this._activePath.chamferRect(t,n,r,o,u,h),this}star(t,n,r,o,u=0,h=0){return this._tick++,this._activePath.star(t,n,r,o,u,h,this._transform.clone()),this}svg(t){return this._tick++,xS(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,n=t){return this._transform.scale(t,n),this}setTransform(t,n,r,o,u,h){return t instanceof _t?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,n,r,o,u,h),this)}transform(t,n,r,o,u,h){return t instanceof _t?(this._transform.append(t),this):(vg.set(t,n,r,o,u,h),this._transform.append(vg),this)}translate(t,n=t){return this._transform.translate(t,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let n=0;n<this.instructions.length;n++){const r=this.instructions[n],o=r.action;if(o==="fill"){const u=r.data;t.addBounds(u.path.bounds)}else if(o==="texture"){const u=r.data;t.addFrame(u.dx,u.dy,u.dx+u.dw,u.dy+u.dh,u.transform)}if(o==="stroke"){const u=r.data,h=u.style.alignment,f=u.style.width*(1-h),p=u.path.bounds;t.addFrame(p.minX-f,p.minY-f,p.maxX+f,p.maxY+f)}}return t}containsPoint(t){var o;if(!this.bounds.containsPoint(t.x,t.y))return!1;const n=this.instructions;let r=!1;for(let u=0;u<n.length;u++){const h=n[u],f=h.data,p=f.path;if(!h.action||!p)continue;const m=f.style,g=p.shapePath.shapePrimitives;for(let y=0;y<g.length;y++){const b=g[y].shape;if(!m||!b)continue;const _=g[y].transform,S=_?_.applyInverse(t,TS):t;if(h.action==="fill")r=b.contains(S.x,S.y);else{const A=m;r=b.strokeContains(S.x,S.y,A.width,A.alignment)}const M=f.hole;if(M){const A=(o=M.shapePath)==null?void 0:o.shapePrimitives;if(A)for(let R=0;R<A.length;R++)A[R].shape.contains(S.x,S.y)&&(r=!1)}if(r)return!0}}return r}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(r),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(r)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};ph.defaultFillStyle={color:16777215,alpha:1,texture:St.WHITE,matrix:null,fill:null,textureSpace:"local"};ph.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:St.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Fe=ph;const Sg=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function wS(a){const t=[];let n=0;for(let r=0;r<Sg.length;r++){const o=`_${Sg[r]}`;t[n++]=a[o]}return n=Wy(a._fill,t,n),n=CS(a._stroke,t,n),n=ES(a.dropShadow,t,n),n=MS(a.filters,t,n),t.join("-")}function MS(a,t,n){if(!a)return n;for(const r of a)t[n++]=r.uid;return n}function Wy(a,t,n){var r;return a&&(t[n++]=a.color,t[n++]=a.alpha,t[n++]=(r=a.fill)==null?void 0:r.styleKey),n}function CS(a,t,n){return a&&(n=Wy(a,t,n),t[n++]=a.width,t[n++]=a.alignment,t[n++]=a.cap,t[n++]=a.join,t[n++]=a.miterLimit),n}function ES(a,t,n){return a&&(t[n++]=a.alpha,t[n++]=a.angle,t[n++]=a.blur,t[n++]=a.distance,t[n++]=$t.shared.setValue(a.color).toNumber()),n}const mh=class Ms extends si{constructor(t={}){super(),RS(t);const n={...Ms.defaultTextStyle,...t};for(const r in n){const o=r;this[o]=n[r]}this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...Ms.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...Ms.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get filters(){return this._filters}set filters(t){this._filters=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...Fe.defaultFillStyle,...t},()=>{this._fill=Gn({...this._originalFill},Fe.defaultFillStyle)})),this._fill=Gn(t===0?"black":t,Fe.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...Fe.defaultStrokeStyle,...t},()=>{this._stroke=Ul({...this._originalStroke},Fe.defaultStrokeStyle)})),this._stroke=Ul(t,Fe.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=wS(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=Ms.defaultTextStyle;for(const n in t)this[n]=t[n]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new Ms({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let t=0;if(this._filters)for(let n=0;n<this._filters.length;n++)t+=this._filters[n].padding;return Math.max(this._padding,t)}destroy(t=!1){var r,o,u,h;if(this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const f=typeof t=="boolean"?t:t==null?void 0:t.textureSource;(r=this._fill)!=null&&r.texture&&this._fill.texture.destroy(f),(o=this._originalFill)!=null&&o.texture&&this._originalFill.texture.destroy(f),(u=this._stroke)!=null&&u.texture&&this._stroke.texture.destroy(f),(h=this._originalStroke)!=null&&h.texture&&this._originalStroke.texture.destroy(f)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,n){return new Proxy(t,{set:(r,o,u)=>(r[o]=u,n==null||n(o,u),this.update(),!0)})}_isFillStyle(t){return(t??null)!==null&&!($t.isColorLike(t)||t instanceof Di||t instanceof Hl)}};mh.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};mh.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Wa=mh;function RS(a){const t=a;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const n=Wa.defaultDropShadow;a.dropShadow={alpha:t.dropShadowAlpha??n.alpha,angle:t.dropShadowAngle??n.angle,blur:t.dropShadowBlur??n.blur,color:t.dropShadowColor??n.color,distance:t.dropShadowDistance??n.distance}}if(t.strokeThickness!==void 0){vt(Ot,"strokeThickness is now a part of stroke");const n=t.stroke;let r={};if($t.isColorLike(n))r.color=n;else if(n instanceof Di||n instanceof Hl)r.fill=n;else if(Object.hasOwnProperty.call(n,"color")||Object.hasOwnProperty.call(n,"fill"))r=n;else throw new Error("Invalid stroke value.");a.stroke={...r,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){vt(Ot,"gradient fill is now a fill pattern: `new FillGradient(...)`");let n;a.fontSize==null?a.fontSize=Wa.defaultTextStyle.fontSize:typeof a.fontSize=="string"?n=parseInt(a.fontSize,10):n=a.fontSize;const r=new Di({start:{x:0,y:0},end:{x:0,y:(n||0)*1.7}}),o=t.fillGradientStops.map(u=>$t.shared.setValue(u).toNumber());o.forEach((u,h)=>{const f=h/(o.length-1);r.addColorStop(f,u)}),a.fill={fill:r}}}class BS{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,n){const r=It.get().createCanvas();r.width=t,r.height=n;const o=r.getContext("2d");return{canvas:r,context:o}}getOptimalCanvasAndContext(t,n,r=1){t=Math.ceil(t*r-1e-6),n=Math.ceil(n*r-1e-6),t=zl(t),n=zl(n);const o=(t<<17)+(n<<1);this._canvasPool[o]||(this._canvasPool[o]=[]);let u=this._canvasPool[o].pop();return u||(u=this._createCanvasAndContext(t,n)),u}returnCanvasAndContext(t){const n=t.canvas,{width:r,height:o}=n,u=(r<<17)+(o<<1);t.context.clearRect(0,0,r,o),this._canvasPool[u].push(t)}clear(){this._canvasPool={}}}const Ag=new BS,Tg=1e5;function wg(a,t,n,r=0){if(a.texture===St.WHITE&&!a.fill)return $t.shared.setValue(a.color).setAlpha(a.alpha??1).toHexa();if(a.fill){if(a.fill instanceof Hl){const o=a.fill,u=t.createPattern(o.texture.source.resource,"repeat"),h=o.transform.copyTo(_t.shared);return h.scale(o.texture.frame.width,o.texture.frame.height),u.setTransform(h),u}else if(a.fill instanceof Di){const o=a.fill,u=o.type==="linear",h=o.textureSpace==="local";let f=1,p=1;h&&n&&(f=n.width+r,p=n.height+r);let m,g=!1;if(u){const{start:y,end:b}=o;m=t.createLinearGradient(y.x*f,y.y*p,b.x*f,b.y*p),g=Math.abs(b.x-y.x)<Math.abs((b.y-y.y)*.1)}else{const{center:y,innerRadius:b,outerCenter:_,outerRadius:S}=o;m=t.createRadialGradient(y.x*f,y.y*p,b*f,_.x*f,_.y*p,S*f)}if(g&&h&&n){const y=n.lineHeight/p;for(let b=0;b<n.lines.length;b++){const _=(b*n.lineHeight+r/2)/p;o.colorStops.forEach(S=>{const M=_+S.offset*y;m.addColorStop(Math.floor(M*Tg)/Tg,$t.shared.setValue(S.color).toHex())})}}else o.colorStops.forEach(y=>{m.addColorStop(y.offset,$t.shared.setValue(y.color).toHex())});return m}}else{const o=t.createPattern(a.texture.source.resource,"repeat"),u=a.matrix.copyTo(_t.shared);return u.scale(a.texture.frame.width,a.texture.frame.height),o.setTransform(u),o}return Xt("FillStyle not recognised",a),"red"}const $y=class Jy extends Oy{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const n={...Jy.defaultOptions,...t};this._textureSize=n.textureSize,this._mipmap=n.mipmap;const r=n.style.clone();n.overrideFill&&(r._fill.color=16777215,r._fill.alpha=1,r._fill.texture=St.WHITE,r._fill.fill=null),this.applyFillAsTint=n.overrideFill;const o=r.fontSize;r.fontSize=this.baseMeasurementFontSize;const u=Qc(r);n.overrideSize?r._stroke&&(r._stroke.width*=this.baseRenderedFontSize/o):r.fontSize=this.baseRenderedFontSize=o,this._style=r,this._skipKerning=n.skipKerning??!1,this.resolution=n.resolution??1,this._padding=n.padding??4,n.textureStyle&&(this._textureStyle=n.textureStyle instanceof Ol?n.textureStyle:new Ol(n.textureStyle)),this.fontMetrics=El.measureFont(u),this.lineHeight=r.lineHeight||this.fontMetrics.fontSize||r.fontSize}ensureCharacters(t){var A,R;const n=El.graphemeSegmenter(t).filter(O=>!this._currentChars.includes(O)).filter((O,U,H)=>H.indexOf(O)===U);if(!n.length)return;this._currentChars=[...this._currentChars,...n];let r;this._currentPageIndex===-1?r=this._nextPage():r=this.pages[this._currentPageIndex];let{canvas:o,context:u}=r.canvasAndContext,h=r.texture.source;const f=this._style;let p=this._currentX,m=this._currentY,g=this._currentMaxCharHeight;const y=this.baseRenderedFontSize/this.baseMeasurementFontSize,b=this._padding*y;let _=!1;const S=o.width/this.resolution,M=o.height/this.resolution;for(let O=0;O<n.length;O++){const U=n[O],H=El.measureText(U,f,o,!1);H.lineHeight=H.height;const j=H.width*y,I=Math.ceil((f.fontStyle==="italic"?2:1)*j),Z=H.height*y,rt=I+b*2,B=Z+b*2;if(_=!1,U!==`
`&&U!=="\r"&&U!=="	"&&U!==" "&&(_=!0,g=Math.ceil(Math.max(B,g))),p+rt>S&&(m+=g,g=B,p=0,m+g>M)){h.update();const D=this._nextPage();o=D.canvasAndContext.canvas,u=D.canvasAndContext.context,h=D.texture.source,p=0,m=0,g=0}const P=j/y-(((A=f.dropShadow)==null?void 0:A.distance)??0)-(((R=f._stroke)==null?void 0:R.width)??0);if(this.chars[U]={id:U.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:P,kerning:{}},_){this._drawGlyph(u,H,p+b,m+b,y,f);const D=h.width*y,Q=h.height*y,$=new Wt(p/D*h.width,m/Q*h.height,rt/D*h.width,B/Q*h.height);this.chars[U].texture=new St({source:h,frame:$}),p+=Math.ceil(rt)}}h.update(),this._currentX=p,this._currentY=m,this._currentMaxCharHeight=g,this._skipKerning&&this._applyKerning(n,u)}get pageTextures(){return vt(Ot,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,n){const r=this._measureCache;for(let o=0;o<t.length;o++){const u=t[o];for(let h=0;h<this._currentChars.length;h++){const f=this._currentChars[h];let p=r[u];p||(p=r[u]=n.measureText(u).width);let m=r[f];m||(m=r[f]=n.measureText(f).width);let g=n.measureText(u+f).width,y=g-(p+m);y&&(this.chars[u].kerning[f]=y),g=n.measureText(u+f).width,y=g-(p+m),y&&(this.chars[f].kerning[u]=y)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,n=Ag.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(n.context,this._style,t);const r=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),o=new St({source:new Hn({resource:n.canvas,resolution:r,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(o.source.style=this._textureStyle);const u={canvasAndContext:n,texture:o};return this.pages[this._currentPageIndex]=u,u}_setupContext(t,n,r){n.fontSize=this.baseRenderedFontSize,t.scale(r,r),t.font=Qc(n),n.fontSize=this.baseMeasurementFontSize,t.textBaseline=n.textBaseline;const o=n._stroke,u=(o==null?void 0:o.width)??0;if(o&&(t.lineWidth=u,t.lineJoin=o.join,t.miterLimit=o.miterLimit,t.strokeStyle=wg(o,t)),n._fill&&(t.fillStyle=wg(n._fill,t)),n.dropShadow){const h=n.dropShadow,f=$t.shared.setValue(h.color).toArray(),p=h.blur*r,m=h.distance*r;t.shadowColor=`rgba(${f[0]*255},${f[1]*255},${f[2]*255},${h.alpha})`,t.shadowBlur=p,t.shadowOffsetX=Math.cos(h.angle)*m,t.shadowOffsetY=Math.sin(h.angle)*m}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,n,r,o,u,h){const f=n.text,p=n.fontProperties,m=h._stroke,g=((m==null?void 0:m.width)??0)*u,y=r+g/2,b=o-g/2,_=p.descent*u,S=n.lineHeight*u;h.stroke&&g&&t.strokeText(f,y,b+S-_),h._fill&&t.fillText(f,y,b+S-_)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:n,texture:r}=this.pages[t];Ag.returnCanvasAndContext(n),r.destroy(!0)}this.pages=null}};$y.defaultOptions={textureSize:512,style:new Wa,mipmap:!0};let Mg=$y;function zS(a,t,n,r){const o={width:0,height:0,offsetY:0,scale:t.fontSize/n.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};o.offsetY=n.baseLineOffset;let u=o.lines[0],h=null,f=!0;const p={width:0,start:0,index:0,positions:[],chars:[]},m=S=>{const M=u.width;for(let A=0;A<p.index;A++){const R=S.positions[A];u.chars.push(S.chars[A]),u.charPositions.push(R+M)}u.width+=S.width,f=!1,p.width=0,p.index=0,p.chars.length=0},g=()=>{let S=u.chars.length-1;if(r){let M=u.chars[S];for(;M===" ";)u.width-=n.chars[M].xAdvance,M=u.chars[--S]}o.width=Math.max(o.width,u.width),u={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},f=!0,o.lines.push(u),o.height+=n.lineHeight},y=n.baseMeasurementFontSize/t.fontSize,b=t.letterSpacing*y,_=t.wordWrapWidth*y;for(let S=0;S<a.length+1;S++){let M;const A=S===a.length;A||(M=a[S]);const R=n.chars[M]||n.chars[" "];if(/(?:\s)/.test(M)||M==="\r"||M===`
`||A){if(!f&&t.wordWrap&&u.width+p.width-b>_?(g(),m(p),A||u.charPositions.push(0)):(p.start=u.width,m(p),A||u.charPositions.push(0)),M==="\r"||M===`
`)u.width!==0&&g();else if(!A){const j=R.xAdvance+(R.kerning[h]||0)+b;u.width+=j,u.spaceWidth=j,u.spacesIndex.push(u.charPositions.length),u.chars.push(M)}}else{const H=R.kerning[h]||0,j=R.xAdvance+H+b;p.positions[p.index++]=p.width+H,p.chars.push(M),p.width+=j}h=M}return g(),t.align==="center"?OS(o):t.align==="right"?DS(o):t.align==="justify"&&US(o),o}function OS(a){for(let t=0;t<a.lines.length;t++){const n=a.lines[t],r=a.width/2-n.width/2;for(let o=0;o<n.charPositions.length;o++)n.charPositions[o]+=r}}function DS(a){for(let t=0;t<a.lines.length;t++){const n=a.lines[t],r=a.width-n.width;for(let o=0;o<n.charPositions.length;o++)n.charPositions[o]+=r}}function US(a){const t=a.width;for(let n=0;n<a.lines.length;n++){const r=a.lines[n];let o=0,u=r.spacesIndex[o++],h=0;const f=r.spacesIndex.length,m=(t-r.width)/f;for(let g=0;g<r.charPositions.length;g++)g===u&&(u=r.spacesIndex[o++],h+=m),r.charPositions[g]+=h}}function GS(a){if(a==="")return[];typeof a=="string"&&(a=[a]);const t=[];for(let n=0,r=a.length;n<r;n++){const o=a[n];if(Array.isArray(o)){if(o.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${o.length}.`);if(o[0].length===0||o[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const u=o[0].charCodeAt(0),h=o[1].charCodeAt(0);if(h<u)throw new Error("[BitmapFont]: Invalid character range.");for(let f=u,p=h;f<=p;f++)t.push(String.fromCharCode(f))}else t.push(...Array.from(o))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}let Tl=0;class NS{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null}}getFont(t,n){var h;let r=`${n.fontFamily}-bitmap`,o=!0;if(n._fill.fill&&!n._stroke)r+=n._fill.fill.styleKey,o=!1;else if(n._stroke||n.dropShadow){let f=n.styleKey;f=f.substring(0,f.lastIndexOf("-")),r=`${f}-bitmap`,o=!1}if(!Vt.has(r)){const f=new Mg({style:n,overrideFill:o,overrideSize:!0,...this.defaultOptions});Tl++,Tl>50&&Xt("BitmapText",`You have dynamically created ${Tl} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),f.once("destroy",()=>{Tl--,Vt.remove(r)}),Vt.set(r,f)}const u=Vt.get(r);return(h=u.ensureCharacters)==null||h.call(u,t),u}getLayout(t,n,r=!0){const o=this.getFont(t,n),u=El.graphemeSegmenter(t);return zS(u,n,o,r)}measureText(t,n,r=!0){return this.getLayout(t,n,r)}install(...t){var m,g,y,b;let n=t[0];typeof n=="string"&&(n={name:n,style:t[1],chars:(m=t[2])==null?void 0:m.chars,resolution:(g=t[2])==null?void 0:g.resolution,padding:(y=t[2])==null?void 0:y.padding,skipKerning:(b=t[2])==null?void 0:b.skipKerning},vt(Ot,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const r=n==null?void 0:n.name;if(!r)throw new Error("[BitmapFontManager] Property `name` is required.");n={...this.defaultOptions,...n};const o=n.style,u=o instanceof Wa?o:new Wa(o),h=u._fill.fill!==null&&u._fill.fill!==void 0,f=new Mg({style:u,overrideFill:h,skipKerning:n.skipKerning,padding:n.padding,resolution:n.resolution,overrideSize:!1,textureStyle:n.textureStyle}),p=GS(n.chars);return f.ensureCharacters(p.join("")),Vt.set(`${r}-bitmap`,f),f.once("destroy",()=>Vt.remove(`${r}-bitmap`)),f}uninstall(t){const n=`${t}-bitmap`,r=Vt.get(n);r&&r.destroy()}}const Cg=new NS;class t0 extends Oy{constructor(t,n){super();const{textures:r,data:o}=t;Object.keys(o.pages).forEach(u=>{const h=o.pages[parseInt(u,10)],f=r[h.id];this.pages.push({texture:f})}),Object.keys(o.chars).forEach(u=>{const h=o.chars[u],{frame:f,source:p}=r[h.page],m=new Wt(h.x+f.x,h.y+f.y,h.width,h.height),g=new St({source:p,frame:m});this.chars[u]={id:u.codePointAt(0),xOffset:h.xOffset,yOffset:h.yOffset,xAdvance:h.xAdvance,kerning:h.kerning??{},texture:g}}),this.baseRenderedFontSize=o.fontSize,this.baseMeasurementFontSize=o.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:o.fontSize},this.baseLineOffset=o.baseLineOffset,this.lineHeight=o.lineHeight,this.fontFamily=o.fontFamily,this.distanceField=o.distanceField??{type:"none",range:0},this.url=n}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:n}=this.pages[t];n.destroy(!0)}this.pages=null}static install(t){Cg.install(t)}static uninstall(t){Cg.uninstall(t)}}const Oc={test(a){return typeof a=="string"&&a.startsWith("info face=")},parse(a){const t=a.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const y in t){const b=t[y].match(/^[a-z]+/gm)[0],_=t[y].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),S={};for(const M in _){const A=_[M].split("="),R=A[0],O=A[1].replace(/"/gm,""),U=parseFloat(O),H=isNaN(U)?O:U;S[R]=H}n[b].push(S)}const r={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[o]=n.info,[u]=n.common,[h]=n.distanceField??[];h&&(r.distanceField={range:parseInt(h.distanceRange,10),type:h.fieldType}),r.fontSize=parseInt(o.size,10),r.fontFamily=o.face,r.lineHeight=parseInt(u.lineHeight,10);const f=n.page;for(let y=0;y<f.length;y++)r.pages.push({id:parseInt(f[y].id,10)||0,file:f[y].file});const p={};r.baseLineOffset=r.lineHeight-parseInt(u.base,10);const m=n.char;for(let y=0;y<m.length;y++){const b=m[y],_=parseInt(b.id,10);let S=b.letter??b.char??String.fromCharCode(_);S==="space"&&(S=" "),p[_]=S,r.chars[S]={id:_,page:parseInt(b.page,10)||0,x:parseInt(b.x,10),y:parseInt(b.y,10),width:parseInt(b.width,10),height:parseInt(b.height,10),xOffset:parseInt(b.xoffset,10),yOffset:parseInt(b.yoffset,10),xAdvance:parseInt(b.xadvance,10),kerning:{}}}const g=n.kerning||[];for(let y=0;y<g.length;y++){const b=parseInt(g[y].first,10),_=parseInt(g[y].second,10),S=parseInt(g[y].amount,10);r.chars[p[_]].kerning[p[b]]=S}return r}},Eg={test(a){const t=a;return typeof t!="string"&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(a){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},n=a.getElementsByTagName("info")[0],r=a.getElementsByTagName("common")[0],o=a.getElementsByTagName("distanceField")[0];o&&(t.distanceField={type:o.getAttribute("fieldType"),range:parseInt(o.getAttribute("distanceRange"),10)});const u=a.getElementsByTagName("page"),h=a.getElementsByTagName("char"),f=a.getElementsByTagName("kerning");t.fontSize=parseInt(n.getAttribute("size"),10),t.fontFamily=n.getAttribute("face"),t.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let m=0;m<u.length;m++)t.pages.push({id:parseInt(u[m].getAttribute("id"),10)||0,file:u[m].getAttribute("file")});const p={};t.baseLineOffset=t.lineHeight-parseInt(r.getAttribute("base"),10);for(let m=0;m<h.length;m++){const g=h[m],y=parseInt(g.getAttribute("id"),10);let b=g.getAttribute("letter")??g.getAttribute("char")??String.fromCharCode(y);b==="space"&&(b=" "),p[y]=b,t.chars[b]={id:y,page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xOffset:parseInt(g.getAttribute("xoffset"),10),yOffset:parseInt(g.getAttribute("yoffset"),10),xAdvance:parseInt(g.getAttribute("xadvance"),10),kerning:{}}}for(let m=0;m<f.length;m++){const g=parseInt(f[m].getAttribute("first"),10),y=parseInt(f[m].getAttribute("second"),10),b=parseInt(f[m].getAttribute("amount"),10);t.chars[p[y]].kerning[p[g]]=b}return t}},Rg={test(a){return typeof a=="string"&&a.includes("<font>")?Eg.test(It.get().parseXML(a)):!1},parse(a){return Eg.parse(It.get().parseXML(a))}},HS=[".xml",".fnt"],kS={extension:{type:ut.CacheParser,name:"cacheBitmapFont"},test:a=>a instanceof t0,getCacheableAssets(a,t){const n={};return a.forEach(r=>{n[r]=t,n[`${r}-bitmap`]=t}),n[`${t.fontFamily}-bitmap`]=t,n}},LS={extension:{type:ut.LoadParser,priority:hn.Normal},name:"loadBitmapFont",test(a){return HS.includes(Ne.extname(a).toLowerCase())},async testParse(a){return Oc.test(a)||Rg.test(a)},async parse(a,t,n){const r=Oc.test(a)?Oc.parse(a):Rg.parse(a),{src:o}=t,{pages:u}=r,h=[],f=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let y=0;y<u.length;++y){const b=u[y].file;let _=Ne.join(Ne.dirname(o),b);_=Vc(_,o),h.push({src:_,data:f})}const p=await n.load(h),m=h.map(y=>p[y.src]);return new t0({data:r,textures:m},o)},async load(a,t){return await(await It.get().fetch(a)).text()},async unload(a,t,n){await Promise.all(a.pages.map(r=>n.unload(r.texture.source._sourceOrigin))),a.destroy()}};class PS{constructor(t,n=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(t){t.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const YS={extension:{type:ut.CacheParser,name:"cacheTextureArray"},test:a=>Array.isArray(a)&&a.every(t=>t instanceof St),getCacheableAssets:(a,t)=>{const n={};return a.forEach(r=>{t.forEach((o,u)=>{n[r+(u===0?"":u+1)]=o})}),n}};async function e0(a){if("Image"in globalThis)return new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=a});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(a)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const VS={extension:{type:ut.DetectionParser,priority:1},test:async()=>e0("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async a=>[...a,"avif"],remove:async a=>a.filter(t=>t!=="avif")},Bg=["png","jpg","jpeg"],XS={extension:{type:ut.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async a=>[...a,...Bg],remove:async a=>a.filter(t=>!Bg.includes(t))},qS="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function gh(a){return qS?!1:document.createElement("video").canPlayType(a)!==""}const jS={extension:{type:ut.DetectionParser,priority:0},test:async()=>gh("video/mp4"),add:async a=>[...a,"mp4","m4v"],remove:async a=>a.filter(t=>t!=="mp4"&&t!=="m4v")},FS={extension:{type:ut.DetectionParser,priority:0},test:async()=>gh("video/ogg"),add:async a=>[...a,"ogv"],remove:async a=>a.filter(t=>t!=="ogv")},IS={extension:{type:ut.DetectionParser,priority:0},test:async()=>gh("video/webm"),add:async a=>[...a,"webm"],remove:async a=>a.filter(t=>t!=="webm")},ZS={extension:{type:ut.DetectionParser,priority:0},test:async()=>e0("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async a=>[...a,"webp"],remove:async a=>a.filter(t=>t!=="webp")};class QS{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,n,r)=>(this._parsersValidated=!1,t[n]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,n){const r={promise:null,parser:null};return r.promise=(async()=>{var h,f;let o=null,u=null;if(n.loadParser&&(u=this._parserHash[n.loadParser],u||Xt(`[Assets] specified load parser "${n.loadParser}" not found while loading ${t}`)),!u){for(let p=0;p<this.parsers.length;p++){const m=this.parsers[p];if(m.load&&((h=m.test)!=null&&h.call(m,t,n,this))){u=m;break}}if(!u)return Xt(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}o=await u.load(t,n,this),r.parser=u;for(let p=0;p<this.parsers.length;p++){const m=this.parsers[p];m.parse&&m.parse&&await((f=m.testParse)==null?void 0:f.call(m,o,n,this))&&(o=await m.parse(o,n,this)||o,r.parser=m)}return o})(),r}async load(t,n){this._parsersValidated||this._validateParsers();let r=0;const o={},u=Dl(t),h=ii(t,m=>({alias:[m],src:m,data:{}})),f=h.length,p=h.map(async m=>{const g=Ne.toAbsolute(m.src);if(!o[m.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,m)),o[m.src]=await this.promiseCache[g].promise,n&&n(++r/f)}catch(y){throw delete this.promiseCache[g],delete o[m.src],new Error(`[Loader.load] Failed to load ${g}.
${y}`)}});return await Promise.all(p),u?o[h[0].src]:o}async unload(t){const r=ii(t,o=>({alias:[o],src:o})).map(async o=>{var f,p;const u=Ne.toAbsolute(o.src),h=this.promiseCache[u];if(h){const m=await h.promise;delete this.promiseCache[u],await((p=(f=h.parser)==null?void 0:f.unload)==null?void 0:p.call(f,m,o,this))}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,n)=>(n.name?t[n.name]&&Xt(`[Assets] loadParser name conflict "${n.name}"`):Xt("[Assets] loadParser should have a name"),{...t,[n.name]:n}),{})}}function Us(a,t){if(Array.isArray(t)){for(const n of t)if(a.startsWith(`data:${n}`))return!0;return!1}return a.startsWith(`data:${t}`)}function Gs(a,t){const n=a.split("?")[0],r=Ne.extname(n).toLowerCase();return Array.isArray(t)?t.includes(r):r===t}const KS=".json",WS="application/json",$S={extension:{type:ut.LoadParser,priority:hn.Low},name:"loadJson",test(a){return Us(a,WS)||Gs(a,KS)},async load(a){return await(await It.get().fetch(a)).json()}},JS=".txt",tA="text/plain",eA={name:"loadTxt",extension:{type:ut.LoadParser,priority:hn.Low,name:"loadTxt"},test(a){return Us(a,tA)||Gs(a,JS)},async load(a){return await(await It.get().fetch(a)).text()}},iA=["normal","bold","100","200","300","400","500","600","700","800","900"],nA=[".ttf",".otf",".woff",".woff2"],sA=["font/ttf","font/otf","font/woff","font/woff2"],aA=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function rA(a){const t=Ne.extname(a),o=Ne.basename(a,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1));let u=o.length>0;for(const f of o)if(!f.match(aA)){u=!1;break}let h=o.join(" ");return u||(h=`"${h.replace(/[\\"]/g,"\\$&")}"`),h}const lA=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function oA(a){return lA.test(a)?a:encodeURI(a)}const uA={extension:{type:ut.LoadParser,priority:hn.Low},name:"loadWebFont",test(a){return Us(a,sA)||Gs(a,nA)},async load(a,t){var r,o,u;const n=It.get().getFontFaceSet();if(n){const h=[],f=((r=t.data)==null?void 0:r.family)??rA(a),p=((u=(o=t.data)==null?void 0:o.weights)==null?void 0:u.filter(g=>iA.includes(g)))??["normal"],m=t.data??{};for(let g=0;g<p.length;g++){const y=p[g],b=new FontFace(f,`url(${oA(a)})`,{...m,weight:y});await b.load(),n.add(b),h.push(b)}return Vt.set(`${f}-and-url`,{url:a,fontFaces:h}),h.length===1?h[0]:h}return Xt("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(a){(Array.isArray(a)?a:[a]).forEach(t=>{Vt.remove(`${t.family}-and-url`),It.get().getFontFaceSet().delete(t)})}};function yh(a,t=1){var r;const n=(r=Ds.RETINA_PREFIX)==null?void 0:r.exec(a);return n?parseFloat(n[1]):t}function xh(a,t,n){a.label=n,a._sourceOrigin=n;const r=new St({source:a,label:n}),o=()=>{delete t.promiseCache[n],Vt.has(n)&&Vt.remove(n)};return r.source.once("destroy",()=>{t.promiseCache[n]&&(Xt("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),o())}),r.once("destroy",()=>{a.destroyed||(Xt("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),o())}),r}const cA=".svg",hA="image/svg+xml",fA={extension:{type:ut.LoadParser,priority:hn.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(a){return Us(a,hA)||Gs(a,cA)},async load(a,t,n){var r;return((r=t.data)==null?void 0:r.parseAsGraphicsContext)??this.config.parseAsGraphicsContext?pA(a):dA(a,t,n,this.config.crossOrigin)},unload(a){a.destroy(!0)}};async function dA(a,t,n,r){var A,R,O;const u=await(await It.get().fetch(a)).blob(),h=URL.createObjectURL(u),f=new Image;f.src=h,f.crossOrigin=r,await f.decode(),URL.revokeObjectURL(h);const p=document.createElement("canvas"),m=p.getContext("2d"),g=((A=t.data)==null?void 0:A.resolution)||yh(a),y=((R=t.data)==null?void 0:R.width)??f.width,b=((O=t.data)==null?void 0:O.height)??f.height;p.width=y*g,p.height=b*g,m.drawImage(f,0,0,y*g,b*g);const{parseAsGraphicsContext:_,...S}=t.data??{},M=new Hn({resource:p,alphaMode:"premultiply-alpha-on-upload",resolution:g,...S});return xh(M,n,a)}async function pA(a){const n=await(await It.get().fetch(a)).text(),r=new Fe;return r.svg(n),r}const mA=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Cs=null,eh=class{constructor(){Cs||(Cs=URL.createObjectURL(new Blob([mA],{type:"application/javascript"}))),this.worker=new Worker(Cs)}};eh.revokeObjectURL=function(){Cs&&(URL.revokeObjectURL(Cs),Cs=null)};const gA=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Es=null;class i0{constructor(){Es||(Es=URL.createObjectURL(new Blob([gA],{type:"application/javascript"}))),this.worker=new Worker(Es)}}i0.revokeObjectURL=function(){Es&&(URL.revokeObjectURL(Es),Es=null)};let zg=0,Dc;class yA{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:n}=new eh;n.addEventListener("message",r=>{n.terminate(),eh.revokeObjectURL(),t(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t,n){var r;return this._run("loadImageBitmap",[t,(r=n==null?void 0:n.data)==null?void 0:r.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Dc===void 0&&(Dc=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<Dc&&(this._createdWorkers++,t=new i0().worker,t.addEventListener("message",n=>{this._complete(n.data),this._returnWorker(n.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,n){await this._initWorkers();const r=new Promise((o,u)=>{this._queue.push({id:t,arguments:n,resolve:o,reject:u})});return this._next(),r}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const n=this._queue.pop(),r=n.id;this._resolveHash[zg]={resolve:n.resolve,reject:n.reject},t.postMessage({data:n.arguments,uuid:zg++,id:r})}}const Og=new yA,xA=[".jpeg",".jpg",".png",".webp",".avif"],_A=["image/jpeg","image/png","image/webp","image/avif"];async function bA(a,t){var o;const n=await It.get().fetch(a);if(!n.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${a}: ${n.status} ${n.statusText}`);const r=await n.blob();return((o=t==null?void 0:t.data)==null?void 0:o.alphaMode)==="premultiplied-alpha"?createImageBitmap(r,{premultiplyAlpha:"none"}):createImageBitmap(r)}const n0={name:"loadTextures",extension:{type:ut.LoadParser,priority:hn.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(a){return Us(a,_A)||Gs(a,xA)},async load(a,t,n){var u;let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Og.isImageBitmapSupported()?r=await Og.loadImageBitmap(a,t):r=await bA(a,t):r=await new Promise((h,f)=>{r=new Image,r.crossOrigin=this.config.crossOrigin,r.src=a,r.complete?h(r):(r.onload=()=>{h(r)},r.onerror=f)});const o=new Hn({resource:r,alphaMode:"premultiply-alpha-on-upload",resolution:((u=t.data)==null?void 0:u.resolution)||yh(a),...t.data});return xh(o,n,a)},unload(a){a.destroy(!0)}},s0=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],vA=s0.map(a=>`video/${a.substring(1)}`);function SA(a,t,n){n===void 0&&!t.startsWith("data:")?a.crossOrigin=TA(t):n!==!1&&(a.crossOrigin=typeof n=="string"?n:"anonymous")}function AA(a){return new Promise((t,n)=>{a.addEventListener("canplaythrough",r),a.addEventListener("error",o),a.load();function r(){u(),t()}function o(h){u(),n(h)}function u(){a.removeEventListener("canplaythrough",r),a.removeEventListener("error",o)}})}function TA(a,t=globalThis.location){if(a.startsWith("data:"))return"";t||(t=globalThis.location);const n=new URL(a,document.baseURI);return n.hostname!==t.hostname||n.port!==t.port||n.protocol!==t.protocol?"anonymous":""}const wA={name:"loadVideo",extension:{type:ut.LoadParser,name:"loadVideo"},test(a){const t=Us(a,vA),n=Gs(a,s0);return t||n},async load(a,t,n){var p,m;const r={...Ml.defaultOptions,resolution:((p=t.data)==null?void 0:p.resolution)||yh(a),alphaMode:((m=t.data)==null?void 0:m.alphaMode)||await ly(),...t.data},o=document.createElement("video"),u={preload:r.autoLoad!==!1?"auto":void 0,"webkit-playsinline":r.playsinline!==!1?"":void 0,playsinline:r.playsinline!==!1?"":void 0,muted:r.muted===!0?"":void 0,loop:r.loop===!0?"":void 0,autoplay:r.autoPlay!==!1?"":void 0};Object.keys(u).forEach(g=>{const y=u[g];y!==void 0&&o.setAttribute(g,y)}),r.muted===!0&&(o.muted=!0),SA(o,a,r.crossorigin);const h=document.createElement("source");let f;if(a.startsWith("data:"))f=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const g=a.split("?")[0].slice(a.lastIndexOf(".")+1).toLowerCase();f=Ml.MIME_TYPES[g]||`video/${g}`}return h.src=a,f&&(h.type=f),new Promise(g=>{const y=async()=>{const b=new Ml({...r,resource:o});o.removeEventListener("canplay",y),t.data.preload&&await AA(o),g(xh(b,n,a))};r.preload&&!r.autoPlay&&o.load(),o.addEventListener("canplay",y),o.appendChild(h)})},unload(a){a.destroy(!0)}},a0={extension:{type:ut.ResolveParser,name:"resolveTexture"},test:n0.test,parse:a=>{var t;return{resolution:parseFloat(((t=Ds.RETINA_PREFIX.exec(a))==null?void 0:t[1])??"1"),format:a.split(".").pop(),src:a}}},MA={extension:{type:ut.ResolveParser,priority:-2,name:"resolveJson"},test:a=>Ds.RETINA_PREFIX.test(a)&&a.endsWith(".json"),parse:a0.parse};class CA{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Ds,this.loader=new QS,this.cache=Vt,this._backgroundLoader=new PS(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){var u,h;if(this._initialized){Xt("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let f=t.manifest;typeof f=="string"&&(f=await this.load(f)),this.resolver.addManifest(f)}const n=((u=t.texturePreference)==null?void 0:u.resolution)??1,r=typeof n=="number"?[n]:n,o=await this._detectFormats({preferredFormats:(h=t.texturePreference)==null?void 0:h.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:r}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,n){this._initialized||await this.init();const r=Dl(t),o=ii(t).map(f=>{if(typeof f!="string"){const p=this.resolver.getAlias(f);return p.some(m=>!this.resolver.hasKey(m))&&this.add(f),Array.isArray(p)?p[0]:p}return this.resolver.hasKey(f)||this.add({alias:f,src:f}),f}),u=this.resolver.resolve(o),h=await this._mapLoadToResolve(u,n);return r?h[o[0]]:h}addBundle(t,n){this.resolver.addBundle(t,n)}async loadBundle(t,n){this._initialized||await this.init();let r=!1;typeof t=="string"&&(r=!0,t=[t]);const o=this.resolver.resolveBundle(t),u={},h=Object.keys(o);let f=0,p=0;const m=()=>{n==null||n(++f/p)},g=h.map(y=>{const b=o[y];return p+=Object.keys(b).length,this._mapLoadToResolve(b,m).then(_=>{u[y]=_})});return await Promise.all(g),r?u[t[0]]:u}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const n=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const n=this.resolver.resolveBundle(t);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return Vt.get(t);const n={};for(let r=0;r<t.length;r++)n[r]=Vt.get(t[r]);return n}async _mapLoadToResolve(t,n){const r=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const o=await this.loader.load(r,n);this._backgroundLoader.active=!0;const u={};return r.forEach(h=>{const f=o[h.src],p=[h.src];h.alias&&p.push(...h.alias),p.forEach(m=>{u[m]=f}),Vt.set(p,f)}),u}async unload(t){this._initialized||await this.init();const n=ii(t).map(o=>typeof o!="string"?o.src:o),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(t){this._initialized||await this.init(),t=ii(t);const n=this.resolver.resolveBundle(t),r=Object.keys(n).map(o=>this._unloadFromResolved(n[o]));await Promise.all(r)}async _unloadFromResolved(t){const n=Object.values(t);n.forEach(r=>{Vt.remove(r.src)}),await this.loader.unload(n)}async _detectFormats(t){let n=[];t.preferredFormats&&(n=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const r of t.detections)t.skipDetections||await r.test()?n=await r.add(n):t.skipDetections||(n=await r.remove(n));return n=n.filter((r,o)=>n.indexOf(r)===o),n}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(n=>{n.config&&Object.keys(n.config).filter(r=>r in t).forEach(r=>{n.config[r]=t[r]})})}}const Nn=new CA;ce.handleByList(ut.LoadParser,Nn.loader.parsers).handleByList(ut.ResolveParser,Nn.resolver.parsers).handleByList(ut.CacheParser,Nn.cache.parsers).handleByList(ut.DetectionParser,Nn.detections);ce.add(YS,XS,VS,ZS,jS,FS,IS,$S,eA,uA,fA,n0,wA,LS,kS,a0,MA);const Dg={loader:ut.LoadParser,resolver:ut.ResolveParser,cache:ut.CacheParser,detection:ut.DetectionParser};ce.handle(ut.Asset,a=>{const t=a.ref;Object.entries(Dg).filter(([n])=>!!t[n]).forEach(([n,r])=>ce.add(Object.assign(t[n],{extension:t[n].extension??r})))},a=>{const t=a.ref;Object.keys(Dg).filter(n=>!!t[n]).forEach(n=>ce.remove(t[n]))});class Os extends $g{constructor(t){t instanceof Fe&&(t={context:t});const{context:n,roundPixels:r,...o}=t||{};super({label:"Graphics",...o}),this.renderPipeId="graphics",n?this._context=n:this._context=this._ownedContext=new Fe,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=r??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||(t==null?void 0:t.context)===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,n){return this.context[t](...n),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new Os(this._context.clone()):(this._ownedContext=null,new Os(this._context))}lineStyle(t,n,r){vt(Ot,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const o={};return t&&(o.width=t),n&&(o.color=n),r&&(o.alpha=r),this.context.strokeStyle=o,this}beginFill(t,n){vt(Ot,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return t!==void 0&&(r.color=t),n!==void 0&&(r.alpha=n),this.context.fillStyle=r,this}endFill(){vt(Ot,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==Fe.defaultStrokeStyle.width||t.color!==Fe.defaultStrokeStyle.color||t.alpha!==Fe.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return vt(Ot,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return vt(Ot,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return vt(Ot,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return vt(Ot,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return vt(Ot,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return vt(Ot,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}ce.add(L_,P_);var Rl={exports:{}},EA=Rl.exports,Ug;function RA(){return Ug||(Ug=1,function(a,t){/** @preserve SAT.js - Version 0.9.0 - Copyright 2012 - 2021 - Jim Riecken <jimr@jimr.ca> - released under the MIT License. https://github.com/jriecken/sat-js */(function(n,r){a.exports=r()})(EA,function(){var n={};function r(B,P){this.x=B||0,this.y=P||0}n.Vector=r,n.V=r,r.prototype.copy=r.prototype.copy=function(B){return this.x=B.x,this.y=B.y,this},r.prototype.clone=r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.perp=r.prototype.perp=function(){var B=this.x;return this.x=this.y,this.y=-B,this},r.prototype.rotate=r.prototype.rotate=function(B){var P=this.x,D=this.y;return this.x=P*Math.cos(B)-D*Math.sin(B),this.y=P*Math.sin(B)+D*Math.cos(B),this},r.prototype.reverse=r.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.normalize=r.prototype.normalize=function(){var B=this.len();return B>0&&(this.x=this.x/B,this.y=this.y/B),this},r.prototype.add=r.prototype.add=function(B){return this.x+=B.x,this.y+=B.y,this},r.prototype.sub=r.prototype.sub=function(B){return this.x-=B.x,this.y-=B.y,this},r.prototype.scale=r.prototype.scale=function(B,P){return this.x*=B,this.y*=typeof P<"u"?P:B,this},r.prototype.project=r.prototype.project=function(B){var P=this.dot(B)/B.len2();return this.x=P*B.x,this.y=P*B.y,this},r.prototype.projectN=r.prototype.projectN=function(B){var P=this.dot(B);return this.x=P*B.x,this.y=P*B.y,this},r.prototype.reflect=r.prototype.reflect=function(B){var P=this.x,D=this.y;return this.project(B).scale(2),this.x-=P,this.y-=D,this},r.prototype.reflectN=r.prototype.reflectN=function(B){var P=this.x,D=this.y;return this.projectN(B).scale(2),this.x-=P,this.y-=D,this},r.prototype.dot=r.prototype.dot=function(B){return this.x*B.x+this.y*B.y},r.prototype.len2=r.prototype.len2=function(){return this.dot(this)},r.prototype.len=r.prototype.len=function(){return Math.sqrt(this.len2())};function o(B,P){this.pos=B||new r,this.r=P||0,this.offset=new r}n.Circle=o,o.prototype.getAABBAsBox=o.prototype.getAABBAsBox=function(){var B=this.r,P=this.pos.clone().add(this.offset).sub(new r(B,B));return new h(P,B*2,B*2)},o.prototype.getAABB=o.prototype.getAABB=function(){return this.getAABBAsBox().toPolygon()},o.prototype.setOffset=o.prototype.setOffset=function(B){return this.offset=B,this};function u(B,P){this.pos=B||new r,this.angle=0,this.offset=new r,this.setPoints(P||[])}n.Polygon=u,u.prototype.setPoints=u.prototype.setPoints=function(B){var P=!this.points||this.points.length!==B.length;if(P){var D,Q=this.calcPoints=[],$=this.edges=[],at=this.normals=[];for(D=0;D<B.length;D++){var et=B[D],T=D<B.length-1?B[D+1]:B[0];if(et!==T&&et.x===T.x&&et.y===T.y){B.splice(D,1),D-=1;continue}Q.push(new r),$.push(new r),at.push(new r)}}return this.points=B,this._recalc(),this},u.prototype.setAngle=u.prototype.setAngle=function(B){return this.angle=B,this._recalc(),this},u.prototype.setOffset=u.prototype.setOffset=function(B){return this.offset=B,this._recalc(),this},u.prototype.rotate=u.prototype.rotate=function(B){for(var P=this.points,D=P.length,Q=0;Q<D;Q++)P[Q].rotate(B);return this._recalc(),this},u.prototype.translate=u.prototype.translate=function(B,P){for(var D=this.points,Q=D.length,$=0;$<Q;$++)D[$].x+=B,D[$].y+=P;return this._recalc(),this},u.prototype._recalc=function(){var B=this.calcPoints,P=this.edges,D=this.normals,Q=this.points,$=this.offset,at=this.angle,et=Q.length,T;for(T=0;T<et;T++){var Y=B[T].copy(Q[T]);Y.x+=$.x,Y.y+=$.y,at!==0&&Y.rotate(at)}for(T=0;T<et;T++){var J=B[T],tt=T<et-1?B[T+1]:B[0],C=P[T].copy(tt).sub(J);D[T].copy(C).perp().normalize()}return this},u.prototype.getAABBAsBox=u.prototype.getAABBAsBox=function(){for(var B=this.calcPoints,P=B.length,D=B[0].x,Q=B[0].y,$=B[0].x,at=B[0].y,et=1;et<P;et++){var T=B[et];T.x<D?D=T.x:T.x>$&&($=T.x),T.y<Q?Q=T.y:T.y>at&&(at=T.y)}return new h(this.pos.clone().add(new r(D,Q)),$-D,at-Q)},u.prototype.getAABB=u.prototype.getAABB=function(){return this.getAABBAsBox().toPolygon()},u.prototype.getCentroid=u.prototype.getCentroid=function(){for(var B=this.calcPoints,P=B.length,D=0,Q=0,$=0,at=0;at<P;at++){var et=B[at],T=at===P-1?B[0]:B[at+1],Y=et.x*T.y-T.x*et.y;D+=(et.x+T.x)*Y,Q+=(et.y+T.y)*Y,$+=Y}return $=$*3,D=D/$,Q=Q/$,new r(D,Q)};function h(B,P,D){this.pos=B||new r,this.w=P||0,this.h=D||0}n.Box=h,h.prototype.toPolygon=h.prototype.toPolygon=function(){var B=this.pos,P=this.w,D=this.h;return new u(new r(B.x,B.y),[new r,new r(P,0),new r(P,D),new r(0,D)])};function f(){this.a=null,this.b=null,this.overlapN=new r,this.overlapV=new r,this.clear()}n.Response=f,f.prototype.clear=f.prototype.clear=function(){return this.aInB=!0,this.bInA=!0,this.overlap=Number.MAX_VALUE,this};for(var p=[],m=0;m<10;m++)p.push(new r);for(var g=[],m=0;m<5;m++)g.push([]);var y=new f,b=new h(new r,1e-6,1e-6).toPolygon();function _(B,P,D){for(var Q=Number.MAX_VALUE,$=-Number.MAX_VALUE,at=B.length,et=0;et<at;et++){var T=B[et].dot(P);T<Q&&(Q=T),T>$&&($=T)}D[0]=Q,D[1]=$}function S(B,P,D,Q,$,at){var et=g.pop(),T=g.pop(),Y=p.pop().copy(P).sub(B),J=Y.dot($);if(_(D,$,et),_(Q,$,T),T[0]+=J,T[1]+=J,et[0]>T[1]||T[0]>et[1])return p.push(Y),g.push(et),g.push(T),!0;if(at){var tt=0;if(et[0]<T[0])if(at.aInB=!1,et[1]<T[1])tt=et[1]-T[0],at.bInA=!1;else{var C=et[1]-T[0],X=T[1]-et[0];tt=C<X?C:-X}else if(at.bInA=!1,et[1]>T[1])tt=et[0]-T[1],at.aInB=!1;else{var C=et[1]-T[0],X=T[1]-et[0];tt=C<X?C:-X}var W=Math.abs(tt);W<at.overlap&&(at.overlap=W,at.overlapN.copy($),tt<0&&at.overlapN.reverse())}return p.push(Y),g.push(et),g.push(T),!1}n.isSeparatingAxis=S;function M(B,P){var D=B.len2(),Q=P.dot(B);return Q<0?A:Q>D?O:R}var A=-1,R=0,O=1;function U(B,P){var D=p.pop().copy(B).sub(P.pos).sub(P.offset),Q=P.r*P.r,$=D.len2();return p.push(D),$<=Q}n.pointInCircle=U;function H(B,P){b.pos.copy(B),y.clear();var D=rt(b,P,y);return D&&(D=y.aInB),D}n.pointInPolygon=H;function j(B,P,D){var Q=p.pop().copy(P.pos).add(P.offset).sub(B.pos).sub(B.offset),$=B.r+P.r,at=$*$,et=Q.len2();if(et>at)return p.push(Q),!1;if(D){var T=Math.sqrt(et);D.a=B,D.b=P,D.overlap=$-T,D.overlapN.copy(Q.normalize()),D.overlapV.copy(Q).scale(D.overlap),D.aInB=B.r<=P.r&&T<=P.r-B.r,D.bInA=P.r<=B.r&&T<=B.r-P.r}return p.push(Q),!0}n.testCircleCircle=j;function I(B,P,D){for(var Q=p.pop().copy(P.pos).add(P.offset).sub(B.pos),$=P.r,at=$*$,et=B.calcPoints,T=et.length,Y=p.pop(),J=p.pop(),tt=0;tt<T;tt++){var C=tt===T-1?0:tt+1,X=tt===0?T-1:tt-1,W=0,K=null;Y.copy(B.edges[tt]),J.copy(Q).sub(et[tt]),D&&J.len2()>at&&(D.aInB=!1);var nt=M(Y,J);if(nt===A){Y.copy(B.edges[X]);var dt=p.pop().copy(Q).sub(et[X]);if(nt=M(Y,dt),nt===O){var st=J.len();if(st>$)return p.push(Q),p.push(Y),p.push(J),p.push(dt),!1;D&&(D.bInA=!1,K=J.normalize(),W=$-st)}p.push(dt)}else if(nt===O){if(Y.copy(B.edges[C]),J.copy(Q).sub(et[C]),nt=M(Y,J),nt===A){var st=J.len();if(st>$)return p.push(Q),p.push(Y),p.push(J),!1;D&&(D.bInA=!1,K=J.normalize(),W=$-st)}}else{var Zt=Y.perp().normalize(),st=J.dot(Zt),Mt=Math.abs(st);if(st>0&&Mt>$)return p.push(Q),p.push(Zt),p.push(J),!1;D&&(K=Zt,W=$-st,(st>=0||W<2*$)&&(D.bInA=!1))}K&&D&&Math.abs(W)<Math.abs(D.overlap)&&(D.overlap=W,D.overlapN.copy(K))}return D&&(D.a=B,D.b=P,D.overlapV.copy(D.overlapN).scale(D.overlap)),p.push(Q),p.push(Y),p.push(J),!0}n.testPolygonCircle=I;function Z(B,P,D){var Q=I(P,B,D);if(Q&&D){var $=D.a,at=D.aInB;D.overlapN.reverse(),D.overlapV.reverse(),D.a=D.b,D.b=$,D.aInB=D.bInA,D.bInA=at}return Q}n.testCirclePolygon=Z;function rt(B,P,D){for(var Q=B.calcPoints,$=Q.length,at=P.calcPoints,et=at.length,T=0;T<$;T++)if(S(B.pos,P.pos,Q,at,B.normals[T],D))return!1;for(var T=0;T<et;T++)if(S(B.pos,P.pos,Q,at,P.normals[T],D))return!1;return D&&(D.a=B,D.b=P,D.overlapV.copy(D.overlapN).scale(D.overlap)),!0}return n.testPolygonPolygon=rt,n})}(Rl)),Rl.exports}var ue=RA();const wt=ih(ue);class BA extends Ui{constructor(n){super();ti(this,"sprite");ti(this,"polygon");ti(this,"debugPolygon");this.sprite=new cn(n),this.addChild(this.sprite);const r=[new wt.Vector(19,0),new wt.Vector(11,27),new wt.Vector(11,38),new wt.Vector(1,51),new wt.Vector(0,57),new wt.Vector(2,61),new wt.Vector(14,56),new wt.Vector(25,56),new wt.Vector(37,61),new wt.Vector(39,57),new wt.Vector(38,52),new wt.Vector(28,38),new wt.Vector(28,27),new wt.Vector(20,0)];this.polygon=this.polygon=new wt.Polygon(new wt.Vector(this.x,this.y),r),this.debugPolygon=new Os,this.drawPolygon(),this.addChild(this.debugPolygon),this.eventMode="static",this.sprite.eventMode="static",this.sprite.interactive=!0}drawPolygon(){this.debugPolygon.clear(),this.debugPolygon.lineStyle(2,65280),this.debugPolygon.beginFill(16711680,.2);const n=this.polygon.points;if(n.length>0){const r=n[0];this.debugPolygon.moveTo(r.x,r.y);for(let o=1;o<n.length;o++){const u=n[o];this.debugPolygon.lineTo(u.x,u.y)}this.debugPolygon.lineTo(r.x,r.y)}this.debugPolygon.endFill()}update(n,r){this.x+=n,this.y+=r,this.polygon.pos.x=this.x,this.polygon.pos.y=this.y}getPolygon(){return this.polygon}}class zA extends cn{constructor(n,r,o){super(n);ti(this,"speed",12);ti(this,"polygon");ti(this,"debugPolygon");this.x=r,this.y=o;const u=[new wt.Vector(5,0),new wt.Vector(2,0),new wt.Vector(0,3),new wt.Vector(0,18),new wt.Vector(3,34),new wt.Vector(18,34),new wt.Vector(20,18),new wt.Vector(21,3),new wt.Vector(19,0),new wt.Vector(16,0),new wt.Vector(11,2)];this.polygon=new wt.Polygon(new wt.Vector(r,o),u),this.debugPolygon=new Os,this.drawPolygon(),this.addChild(this.debugPolygon)}drawPolygon(){this.debugPolygon.clear(),this.debugPolygon.lineStyle(2,65280),this.debugPolygon.beginFill(16711680,.2);const n=this.polygon.points;if(n.length>0){const r=n[0];this.debugPolygon.moveTo(r.x,r.y);for(let o=1;o<n.length;o++){const u=n[o];this.debugPolygon.lineTo(u.x,u.y)}this.debugPolygon.lineTo(r.x,r.y)}this.debugPolygon.endFill()}update(){this.y-=this.speed,this.polygon.pos.y=this.y,this.polygon.pos.x=this.x}isOffScreen(){return this.y<-20}getPolygon(){return this.polygon}}class OA extends Ui{constructor(n,r,o,u,h){super();ti(this,"sprite");ti(this,"polygon");ti(this,"speed");ti(this,"debugPolygon");this.sprite=new cn(n),this.sprite.scale.set(h),this.addChild(this.sprite),this.x=r,this.y=o,this.speed=u;const p=[new ue.Vector(53,0),new ue.Vector(29,1),new ue.Vector(9,2),new ue.Vector(0,12),new ue.Vector(2,49),new ue.Vector(4,98),new ue.Vector(23,119),new ue.Vector(54,125),new ue.Vector(68,133),new ue.Vector(83,120),new ue.Vector(86,105),new ue.Vector(99,90),new ue.Vector(72,22)].map(m=>new ue.Vector(m.x*h,m.y*h));this.polygon=new ue.Polygon(new ue.Vector(r,o),p),this.debugPolygon=new Os,this.drawPolygon(),this.addChild(this.debugPolygon),this.eventMode="static"}drawPolygon(){this.debugPolygon.clear(),this.debugPolygon.lineStyle(2,65280),this.debugPolygon.beginFill(16711680,.2);const n=this.polygon.points;if(n.length>0){const r=n[0];this.debugPolygon.moveTo(r.x,r.y);for(let o=1;o<n.length;o++){const u=n[o];this.debugPolygon.lineTo(u.x,u.y)}this.debugPolygon.lineTo(r.x,r.y)}this.debugPolygon.endFill()}update(n){this.y+=this.speed*n,this.polygon.pos.y=this.y,this.polygon.pos.x=this.x}isOffScreen(){return this.y>window.innerHeight+50}getPolygon(){return this.polygon}}async function DA(a){const t=new zy;await t.init({background:"black",resizeTo:window}),a.appendChild(t.canvas);const n=await Nn.load("/assets/player_sprites/jet_nord_static1.png"),r=await Nn.load("/assets/player_sprites/laser_blue.png"),o=await Nn.load("/assets/asteroid.png");t.canvas.style.cursor="url('/assets/cursore_custom.png') 16 16, auto";const u=new BA(n);u.x=t.screen.width/2,u.y=t.screen.height/2,u.pivot.set(0,0);let h=u.x,f=u.y;t.stage.addChild(u);const p=[],m=[];let g=!1,y=!0;t.stage.eventMode="static",t.stage.hitArea=t.screen;let b=null;return setInterval(()=>{if(!g&&t.stage){const _=Math.floor(Math.random()*window.innerWidth),S=Math.floor(-Math.random()*200-100),M=1.5+Math.random()*2,A=.5+Math.random()*1.2,R=new OA(o,_,S,M,A);t.stage.addChild(R),m.push(R)}},400),t.stage.on("pointerdown",()=>{if(y){const _=new zA(r,u.x,u.y-10);t.stage.addChild(_),p.push(_),y=!1,b=setTimeout(()=>{y=!0,b=null},200)}}),t.stage.on("pointermove",_=>{const S=_.global;h=S.x,f=S.y}),window.addEventListener("keydown",_=>{_.key==="Escape"&&(g?(g=!1,y=!0):(g=!0,b&&(clearTimeout(b),b=null),y=!1))}),t.ticker.add(_=>{if(!g){if(u.x!==h&&u.y!==f){const S=h-u.x,M=f-u.y,A=.02;Math.sqrt(S*S+M*M)>1&&u.update(S*A,M*A)}for(let S=p.length-1;S>=0;S--){if(p[S].update(),p[S].isOffScreen()){t.stage.removeChild(p[S]),p.splice(S,1);continue}for(let M=m.length-1;M>=0;M--)if(wt.testPolygonPolygon(m[M].getPolygon(),p[S].getPolygon())){t.stage.removeChild(p[S]),t.stage.removeChild(m[M]),p.splice(S,1),m.splice(M,1);break}}for(let S=m.length-1;S>=0;S--)m[S].update(_.deltaTime),m[S].isOffScreen()&&(t.stage.removeChild(m[S]),m.splice(S,1)),wt.testPolygonPolygon(m[S].getPolygon(),u.getPolygon())&&(t.stage.removeChild(u),y=!1)}}),t}const UA="/assets/nasa--hI5dX2ObAs-unsplash-CIuV3CeC.jpg",GA=()=>on.jsx("div",{className:"main-container",style:{backgroundImage:`url(${UA})`,backgroundSize:"cover",backgroundPosition:"center",height:"100vh",zIndex:"3"},children:on.jsxs("div",{className:"content",children:[on.jsx("h2",{children:"Site under maintenance"}),on.jsx("p",{children:"I'm working on some stars upgrades"}),on.jsx("p",{className:"subtitle",children:"Thanks for your visti!"})]})}),NA=()=>{const a=Uc.useRef(null);return Uc.useEffect(()=>{let t=null;return(async()=>{a.current&&(t=DA(a.current))})(),()=>{t&&"then"in t&&t.then(r=>{r.destroy(!0,{children:!0,texture:!0})})}},[]),on.jsx(GA,{})};N_.createRoot(document.getElementById("root")).render(on.jsx(Uc.StrictMode,{children:on.jsx(NA,{})}));export{vt as $,Cy as A,Se as B,Ui as C,It as D,ut as E,Eb as F,Nl as G,Gm as H,cn as I,$b as J,lv as K,Ft as L,_t as M,Wt as N,wv as O,pe as P,Hm as Q,qc as R,Xv as S,gl as T,Pc as U,mc as V,km as W,zb as X,$t as Y,Zg as Z,Ey as _,si as a,Ot as a0,Bv as a1,Jv as a2,Fv as a3,x1 as a4,b1 as a5,w1 as a6,C1 as a7,E1 as a8,zl as a9,El as aa,Qc as ab,wg as ac,Wa as ad,Xy as ae,tg as af,$m as ag,Ol as ah,Cg as ai,zS as aj,Vt as ak,Os as al,$_ as am,Fy as an,Qa as b,Cl as c,lh as d,ce as e,Jm as f,Pv as g,Ty as h,ay as i,ai as j,_y as k,Ag as l,y1 as m,_1 as n,A1 as o,M1 as p,oh as q,hb as r,St as s,my as t,W_ as u,B1 as v,Xt as w,zi as x,jg as y,ni as z};
